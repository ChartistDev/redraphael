{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 75857515947acea40705","webpack:///./node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/core-js/library/modules/_hide.js","webpack:///./node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/core-js/library/modules/_to-iobject.js","webpack:///./node_modules/core-js/library/modules/_wks.js","webpack:///./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack:///./node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/core-js/library/modules/_is-object.js","webpack:///./node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/core-js/library/modules/_uid.js","webpack:///./node_modules/babel-runtime/core-js/symbol.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/library/modules/_to-integer.js","webpack:///./node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/core-js/library/modules/_library.js","webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/core-js/library/modules/_iterators.js","webpack:///./node_modules/core-js/library/modules/_object-keys.js","webpack:///./node_modules/core-js/library/modules/_shared-key.js","webpack:///./node_modules/core-js/library/modules/_shared.js","webpack:///./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/library/modules/_wks-ext.js","webpack:///./node_modules/core-js/library/modules/_wks-define.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/_iter-define.js","webpack:///./node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/core-js/library/modules/_redefine.js","webpack:///./node_modules/core-js/library/modules/_object-create.js","webpack:///./node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/library/modules/_cof.js","webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/core-js/library/modules/_object-gopn.js","webpack:///./source/raphael.js","webpack:///./source/raphael.core.js","webpack:///./node_modules/core-js/library/fn/symbol/iterator.js","webpack:///./node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/core-js/library/modules/_object-dps.js","webpack:///./node_modules/core-js/library/modules/_iobject.js","webpack:///./node_modules/core-js/library/modules/_array-includes.js","webpack:///./node_modules/core-js/library/modules/_to-length.js","webpack:///./node_modules/core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/library/modules/_html.js","webpack:///./node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/core-js/library/modules/_to-object.js","webpack:///./node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/library/modules/_iter-step.js","webpack:///./node_modules/core-js/library/fn/symbol/index.js","webpack:///./node_modules/core-js/library/modules/es6.symbol.js","webpack:///./node_modules/core-js/library/modules/_meta.js","webpack:///./node_modules/core-js/library/modules/_enum-keys.js","webpack:///./node_modules/core-js/library/modules/_is-array.js","webpack:///./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/library/modules/_object-gopd.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:///./source/eve/eve.js","webpack:///./source/raphael.lib.js","webpack:///./source/raphael.core-extend.js","webpack:///./source/raphael.svg.js","webpack:///./source/raphael.vml.js","webpack:///./source/raphael.canvas.js"],"names":["_win","window","global","R","first","args","f","_url","undefined","is","loaded","on","array","_engine","create","apply","splice","nu","add","i","len","arguments","length","arg","Array","prototype","slice","call","pop","upgrade","version","eve","undef","E","S","has","concat","string","object","finite","split","none","black","arraySlice","arraySplice","hasPrototypeBug","a","hasOwnProperty","g","doc","document","win","supportsTouch","supportsOnlyTouch","navigator","maxTouchPoints","msMaxTouchPoints","CustomAttributes","caproto","ca","customAttributes","Paper","_CustomAttributes","_elementsById","id","_oid","paperproto","fn","events","touchMap","_touchMap","mousedown","mousemove","mouseup","dragEventMap","_dragEventMap","dragstart","dragmove","dragend","Str","String","toFloat","parseFloat","toInt","parseInt","math","Math","mmax","max","mmin","min","abs","pow","mathCos","cos","mathSin","sin","mathSqrt","sqrt","round","PI","deg2rad","rad2deg","lowerCase","toLowerCase","upperCase","toUpperCase","objectToString","Object","toString","separator","formatrg","colourRegExp","bezierrg","commaSpaces","p2s","pathCommand","tCommand","pathValues","isnan","hsrg","hs","rg","availableAttrs","_availableAttrs","blur","cursor","cx","cy","fill","font","gradient","height","href","opacity","path","r","rx","ry","src","stroke","target","title","transform","rotation","width","x","y","alpha","availableAnimAttrs","_availableAnimAttrs","eldata","sortByNumber","b","fun","pipe","rectPath","_rectPath","w","h","ellipsePath","getPath","_getPath","group","el","attr","circle","attrs","ellipse","rect","image","text","bbox","_getBBox","mapPath","matrix","j","ii","jj","pathi","path2curve","lastArgIfGroup","_lastArgIfGroup","clear","last","constructor","type","serializeArgs","_serializeArgs","arg0","pathString","o","isArray","clone","obj","res","key","Node","contains","parentNode","_g","merge","extend","createUUID","uuidRegEx","uuidReplacer","replace","c","random","v","_radial_gradient","_ISURL","getElementID","PriorityQueue","comparator","_comparator","_elements","isEmpty","size","peek","deq","current","largest","left","right","_compare","_swap","enq","element","push","parent","floor","aux","ENABLE_RED_CANVAS","CanvasRenderingContext2D","createElement","getContext","SVGAngle","implementation","hasFeature","d","innerHTML","firstChild","style","behavior","adj","svg","vml","canvas","_Paper","_id","angle","x1","y1","x2","y2","x3","y3","atan2","rad","deg","setWindow","newwin","initWin","toHex","color","trim","bod","docum","ActiveXObject","write","close","body","e","createPopup","range","createTextRange","cacher","value","queryCommandValue","display","appendChild","defaultView","getComputedStyle","getPropertyValue","hsbtoString","s","hsltoString","l","rgbtoString","hex","prepareRGB","clr","getRGB","packageRGB","rgb","hsb2rgb","hsl2rgb","rgb2hsl","rgb2hsb","G","B","X","C","H","V","L","M","m","_path2string","join","repush","item","_cacher","scope","postprocessor","cachedfunction","_args","cache","count","shift","preload","_preload","img","cssText","onload","removeChild","onerror","clrToString","colour","red","green","blue","t","values","indexOf","error","substring","charAt","match","tintshade","percent","tint","offset","rgba","hsb","hsl","getColor","start","reset","catmullRom2bezier","crp","z","iLen","p","parsePathString","pth","paths","arr","pathClone","paramCounts","q","data","params","name","parseTransformString","TString","ps","sleep","setTimeout","findDotsAtSegment","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","t1","t13","t12","t2","t3","mx","my","nx","ny","ax","ay","n","end","bezierBBox","curveDim","isPointInsideBBox","isBBoxIntersect","bbox1","bbox2","base3","p1","p2","p3","p4","bezlen","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","getTatLen","ll","step","intersect","denominator","px","py","px2","toFixed","py2","inter","bez1","bez2","interHelper","interCount","justCount","l1","l2","n1","n2","dots1","dots2","xy","di","di1","dj","dj1","ci","cj","pathIntersection","path1","path2","interPathHelper","pathIntersectionNumber","_path2curve","x1m","y1m","x2m","y2m","pi","pj","intr","k","kk","segment1","segment2","isPointInsidePath","pathBBox","_removedFactory","methodname","pathDimensions","Y","dim","xmin","ymin","xmax","ymax","bb","pathArray","pathToRelative","_pathToRelative","rel","pa","pathToAbsolute","_pathToAbsolute","crz","dots","l2c","q2c","_13","_23","a2c","large_arc_flag","sweep_flag","recursive","_120","rotate","rx2","ry2","f1","asin","f2","df","f2old","x2old","y2old","c1","s1","c2","s2","tan","hx","hy","m1","m2","m3","m4","newres","findDotAtSegment","dot","curve","bx","by","qx","qy","attrs2","processPath","T","Q","fixArc","pp","fixM","a1","a2","seg","seg2","seglen","seg2len","parseDots","_parseDots","par","tear","_tear","paper","top","prev","bottom","next","tofront","_tofront","toback","_toback","insertafter","_insertafter","el2","paper2","insertbefore","_insertbefore","toMatrix","_","getBBox","extractTransform","transformPath","_extractTransform","tstr","tdata","dx","dy","sx","sy","Matrix","tlen","command","absolute","inver","invert","translate","scale","dirtyT","getEmpty","equaliseTransform","_equaliseTransform","maxlength","from","to","tt1","tt2","_getContainer","container","getElementById","tagName","pixelWidth","offsetWidth","pixelHeight","offsetHeight","matrixproto","out","me","get","fromCharCode","toMatrixString","toFilter","norm","normalize","mag","row","scalex","shear","scaley","acos","isSimple","isSuperSimple","noRotation","toTransformString","shorter","userAgent","vendor","platform","safari","remove","preventDefault","returnValue","preventTouch","originalEvent","stopPropagation","cancelBubble","stopTouch","eventCopyList","stopImmediatePropagation","clientX","clientY","pageX","pageY","bubbles","cancelable","touches","originalTarget","srcElement","relatedTarget","fromElement","changedTouches","layerX","layerY","makeSelectiveCopy","source","addEvent","addEventListener","realName","scrollY","documentElement","scrollTop","scrollX","scrollLeft","targetTouches","nodeName","olde","passive","capture","removeEventListener","attachEvent","event","detacher","detachEvent","drag","dragMove","dragi","dummyEve","touch","identifier","_drag","removed","dragStartFn","dragInfo","_dragmove","opera","node","getNode","nextSibling","insertBefore","move_scope","dragUp","undragmove","undragend","unmousemove","unmouseup","end_scope","start_scope","elproto","eventName","unbind","shape","removeData","getData","downables","mouseDown","untrack","mouseUp","track","undowned","hover","f_in","f_out","scope_in","scope_out","mouseover","mouseout","unhover","unmouseover","unmouseout","draggable","onmove","onstart","onend","dragFn","startHandlerAttached","onDragOver","undrag","unmousedown","undragstart","_dragstart","follow","callback","stalk","followers","before","after","cb","unfollow","hide","visibility","show","__set__","paperConfig","config","capStyle","setConfig","_createDOMNodes","parentElem","elementObj","returnObj","ele","attrKey","createNode","_createNode","children","addDefs","elemObj","defs","removeDefs","updateDefs","attrObj","hardUpdateChildren","diff","elemChildren","childId","setAttribute","setSize","setDimension","paramsObj","status","anim","animateWith","ms","easing","configObject","animate","setViewBox","fit","getById","raphael","x_y","x_y_w_h","isWithoutTransform","dirty","bboxwt","realPath","curveslengths","getPointAtSegmentLength","getLengthFactory","istotal","subpath","onlystart","sp","subpaths","point","getTotalLength","getPointAtLength","getSubpathsAtLength","getSubpath","ef","easing_formulas","linear","backIn","backOut","elastic","bounce","oneBounceOut","easeIn","elasticOnce","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeOut","easeInOut","animationElements","requestAnimFrame","animation","Now","Date","deqArr","tmpOpacity","radial","animFrameFn","paused","parentEl","time","that","set","now","origms","init","executeEvent","stopPartialEventPropagation","peekVal","animElements","pos","initstatus","stop","delayend","delaystart","cPos","isNaN","upto255","isRadial","f3","f4","f5","f6","position","real","from2","repeat","totalOrigin","runAnimation","percents","getInstantAnimFrameFn","getAnimFrameFn","checkPercentage","num","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","instantRequestAnimFrame","refOb","Animation","smartMorph","hookFn","executeOb","CubicBezierAtTime","duration","sampleCurveX","solve","epsilon","solveCurveX","t0","d2","onAnimation","newAnim","times","sort","delay","del","colorNormalizer","colorAr1","colorAr2","newColArr","newColArr2","temp","uniqArr","allToLinear","defaultAngleSet","converToRadialIfOneRadial","getColorAtPosition","temp2","prevVal","lastVal","counter","rPos","openBrPos","closedBrPos","unshift","substr","prevPos","nextPos","colPrev","colNext","ratio","col","pathNormalizer","finalp1","finalp2","pathArr1","toSvgPath","pathArr2","createElementNS","bind","dPath","canFallback","str1","str2","testLen","testPoint","trimPathArray","getPathFromArray","str","_pathNormalizer","linetopath","removeBlanks","_divide","resArr","locArr","arrLen","diffTimes","divideArray","arrToDivide","countArr","transArr","isArr1","commonPathCalculator","uncommon1","uncommon2","lim1","lim2","nearestPoint1","nearestPoint2","map1","map2","groupedPath1","groupedPath2","gpIndex1","gpIndex2","isSame","splitter","mapper","ob","val","stringValue","getNearestExistingPoint","map","lim","index","mapValue","getCoordinateAsMove","pathToString","fPath1","fPath2","divisions","commonPath","tmp","normalizeUncommonPaths","dPath1","dPath2","pathLen1","pathLen2","ceil","isFinite","isInAnim","isInAnimSet","timestamp","tempDiff","change","colorsNormalized","toColour","toPath","pathes","eq","to2","easyeasy","origin","json","pause","pauseChildAnimation","pauseStart","resume","resumeChildAnimation","pauseEnd","stopChildAnimation","jumpToEnd","executeAnimQueue","queue","stopAnimation","toFront","thisNode","follower","toBack","insertAfter","thatNode","getLastNode","appendTo","format","token","crispFixer","crispBound","at","normalizer","crisp","define","readyState","isLoaded","test","glob","comaseparator","wildcard","numsort","current_event","firstDefined","lastDefined","objtos","ar","oldstop","listeners","indexed","ce","errors","zIndex","_events","names","items","nes","es","sep","RegExp","exist","nt","subname","cur","nts","off","inodes","funcs","prune","once","obj1","obj2","skipUndef","shallow","UNDEF","arrayToStr","objectToStr","checkCyclicRef","parentArr","bIndex","tgtArr","srcArr","srcVal","tgtVal","cRef","oldRaphael","was","Raphael","Set","setproto","getOffset","elem","box","getBoundingClientRect","ownerDocument","docElem","clientTop","clientLeft","pageYOffset","pageXOffset","st","snapTo","tolerance","rem","registerFont","face","fonts","fontcopy","glyphs","family","prop","glyph","fullfill","tokenRegex","objNotationRegex","replacer","all","quote","quotedName","isFunc","ninja","getFont","weight","stretch","normal","bold","lighter","bolder","fontName","thefont","print","letterSpacing","letters","notfirst","lineHeight","shifty","descent","curr","elements","getElementByPoint","elementFromPoint","so","sr","createSVGRect","hits","getIntersectionList","raphaelid","getElementsByBBox","forEach","thisArg","bot","getElementsByPoint","isPointInside","itemsArray","setStart","setFinish","rp","tr","glow","offsetx","offsety","setTime","method","insertion","tail","todel","arglen","exclude","collector","glowConfig","ret","shape2","index2","showRecursively","origAttrTree","currentEl","currentNode","localEl","localNode","_doHide","LoadRefImage","RefImg","Image","theMSG","randomPos","txtElem","xlinkRegx","arrayShift","zeroStrokeFix","appVersion","xlink","svgNSStr","typeStringSTR","markers","block","classic","diamond","open","oval","shapeRenderingAttrs","speed","precision","markerCounter","createDummyText","createTextNode","getElementsByTagName","cachedFontHeight","updateGradientReference","newGradient","refCount","$","setAttributeNS","gradientUnitNames","userSpaceOnUse","objectBoundingBox","gradientSpreadNames","pad","redlect","addGradientFill","SVG","fx","fy","units","spread","opts","_fx","_fy","_r","_cx","_cy","shifted","dir","sqx","specs","vector","fillOpacity","updatePosition","pattern","patternTransform","addArrow","isEnd","se","refX","arrows","endPath","endMarker","startPath","startMarker","pathId","markerId","marker","use","markerHeight","markerWidth","orient","refY","delta","startdx","enddx","dasharray","addDashes","predefValue","calculatedValues","butt","widthFactor","square","setFillAndStroke","_setFillAndStroke","vis","att","removeAttribute","pn","hl","titleNode","pathClip","clipispath","clip","rc","getAttribute","documentMode","startString","endString","_vbSize","isURL","ig","patternUnits","fillOpacityDirty","strokeOpacity","strokeOpacityDirty","shapeRendering","cssrule","tuneText","updateFollowers","_updateFollowers","followerElem","fnName","leading","computedStyle","fontSize","actualValign","direction","isIE","valign","fontFamily","_textdirty","texts","tspans","tspan","numDummyTspans","attributes","nodeValue","_getCustomBBox","dif","Element","sw","lines","isText","theText","availableFontFamily","availableFontSize","info","bboxY","bboxHeight","align","isCalculated","finalParam","subkey","def","fltr","stdDeviation","_blur","filter","eventType","handler","oldEventType","_tempTouchListeners","oldFn","newFn","newEvt","css","_viewBox","con","Error","cnvs","isFloating","xmlns","_left","_top","renderfix","aspectRatio","vb","viewBox","preserveAspectRatio","detachPaper","_detached","attachPaper","getScreenCTM","createSVGMatrix","_desc","txt","desc","fillString","Z","bites","blurregexp","cssDot","zoom","pathTypes","ovalTypes","path2vml","total","vals","isMove","compensation","setCoords","fillpos","flip","dxdy","kx","ky","coordsize","coordorigin","fillsize","applyCustomAttributes","oriOp","newpath","isOval","isGroup","div","clipRect","dstyle","antialias","textpath","textpathStyle","fontWeight","fontStyle","newfill","nonGradOpacity","opacity1","opacity2","newstroke","strokeColor","joinstyle","miterlimit","endcap","dashstyle","span","brect","W","bby","dirtyattrs","dd","bbx","oriFOpacity","oindex","fxfy","color2","clrs","colors","focus","focussize","focusposition","skew","vbs","_viewBoxShift","vbt","oldt","isGrad","isPatt","bbt","xget","yget","soft","runtimeStyle","margin","evt","className","tx","ty","tzoom","Path","textpathok","cs","createStyleSheet","addRule","namespaces","rvml","STRING","PX","mathFloor","DEFAULT_FILL","DEFAULT_STROKE","noHandle","FauxNode","onendHandler","_getConnectedNodes","above","below","_getTargetNode","coords","_containerEventHandler","offsetX","offsetY","owner","_rElement","mouseInteractions","outlinePath","conf","render","draw","setBBox","ctx","context","isClipped","validateAttrs","cr","save","fillStyle","strokeStyle","lineWidth","applyTransform","paint","restore","redraw","COMInstance","_bbox","clearRect","addMouseInteractivity","wrapper","_map","area","_mouseArea","eventListeners","updateMapAreaCoords","oArea","CircleFauxNode","pm","getTransformMatrix","setShapeBBox","drawPath","PathParser","setTokens","beginPath","nextCommand","getAsCurrentPoint","addMarker","moveTo","isCommandOrEnd","lineTo","newP","Point","isRelativeCommand","getScalar","getPoint","cntrl","getAsControlPoint","cp","bezierCurveTo","getReflectedControlPoint","quadraticCurveTo","control","xAxisRotation","largeArcFlag","sweepFlag","currp","cpp","centp","u","ad","ah","halfWay","addMarkerAngle","arc","closePath","checkPathHandler","_path","_mousemoveAdded","startListening","isInside","isOutside","transition","_transformPath","elAttrs","_isValid","NodeListItem","NodeList","addList","list","each","iterate","retVal","dispose","CanvasLayer","ncowner","ownerWrapper","_image","getCanvas","addToLayer","mergeWithLayerOnTop","layerObj","mergeWithLayerOnBottom","softDispose","NodeCollection","nodeItems","collectionItems","layerItems","layerOnTop","currentLayer","baseLayer","imageMap","getCurrentContext","setLayerOnTop","getCurrentCanvas","addNode","addCollection","collectionNode","ownerLayer","CanvasObjectModel","wrpr","com","root","layer","canvasEle","RectFauxNode","PathFauxNode","TextFauxNode","GroupFauxNode","nodeList","childNode","fNode","removeNode","refreshNode","refreshAll","angleTo","xp","yp","tokens","previousCommand","points","angles","getToken","makeAbsolute","priorTo","getMarkerPoints","getMarkerAngles","parentObj","strokeAlpha","globalAlpha","fillAlpha","maxR","sX","sY","tX","tY","strokeW","halign","fontArr","totalHeight","totalWidth","Infinity","startX","startY","textX","textY","measureText","fillText","parentMatrix","matrixApplied","styles","repaint","finalAttrs","positionChanged","dimensionChanged","preC","elAbove","elBelow","needsRepaint","mmap","delkeys","stopEvent","onmoveHandler","onstartHandler"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA,yCAAyC;;;;;;;ACLzC,uBAAuB;AACvB;AACA;AACA;;;;;;;ACHA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;AACA;AACA;;;;;;;ACfA;AACA;AACA,iCAAiC,QAAQ,mBAAmB,UAAU,EAAE,EAAE;AAC1E,CAAC;;;;;;;ACHD;AACA;AACA;AACA;AACA;AACA;;;;;;;ACLA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACVA,kBAAkB,wD;;;;;;ACAlB;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;;;;;;;ACFA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;;;;;;;ACJA,kBAAkB,wD;;;;;;ACAlB;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACLA;AACA;AACA;AACA;AACA;;;;;;;ACJA;;;;;;;ACAA,6BAA6B;AAC7B,uCAAuC;;;;;;;ACDvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;;;;;;;ACAA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA,kDAAkD;AAClD;AACA,uCAAuC;AACvC;;;;;;;ACLA;AACA;AACA;AACA;;;;;;;ACHA;AACA;AACA;;AAEA;AACA,oEAAoE,iCAAiC;AACrG;;;;;;;ACNA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,sBAAsB;AAChF,kFAAkF,wBAAwB;AAC1G;;;;;;;ACRA,cAAc;;;;;;;;ACAd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;;AAEA,8BAA8B,aAAa;;AAE3C;AACA;AACA;AACA;AACA;AACA,yCAAyC,oCAAoC;AAC7E,6CAA6C,oCAAoC;AACjF,KAAK,4BAA4B,oCAAoC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;ACrEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd,eAAe;AACf,eAAe;AACf,eAAe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CA;AACA;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,YAAY,eAAe;AAChC;AACA,KAAK;AACL;AACA;;;;;;;ACtBA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;;;;;;;ACDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACZA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;;;ACjCA,8BAA8B;;;;;;;ACA9B;AACA,UAAU;AACV;;;;;;;ACFA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AAC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","file":"raphael.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"RedRaphael\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RedRaphael\"] = factory();\n\telse\n\t\troot[\"RedRaphael\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 39);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 75857515947acea40705","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_global.js\n// module id = 0\n// module chunks = 0","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_has.js\n// module id = 1\n// module chunks = 0","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_hide.js\n// module id = 2\n// module chunks = 0","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dp.js\n// module id = 3\n// module chunks = 0","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_descriptors.js\n// module id = 4\n// module chunks = 0","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-iobject.js\n// module id = 5\n// module chunks = 0","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks.js\n// module id = 6\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol/iterator.js\n// module id = 7\n// module chunks = 0","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-object.js\n// module id = 8\n// module chunks = 0","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-object.js\n// module id = 9\n// module chunks = 0","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_fails.js\n// module id = 10\n// module chunks = 0","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_property-desc.js\n// module id = 11\n// module chunks = 0","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_uid.js\n// module id = 12\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol.js\n// module id = 13\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 14\n// module chunks = 0","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-integer.js\n// module id = 15\n// module chunks = 0","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_defined.js\n// module id = 16\n// module chunks = 0","module.exports = true;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_library.js\n// module id = 17\n// module chunks = 0","var core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_core.js\n// module id = 18\n// module chunks = 0","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-primitive.js\n// module id = 19\n// module chunks = 0","module.exports = {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iterators.js\n// module id = 20\n// module chunks = 0","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys.js\n// module id = 21\n// module chunks = 0","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared-key.js\n// module id = 22\n// module chunks = 0","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared.js\n// module id = 23\n// module chunks = 0","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-bug-keys.js\n// module id = 24\n// module chunks = 0","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-to-string-tag.js\n// module id = 25\n// module chunks = 0","exports.f = require('./_wks');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-ext.js\n// module id = 26\n// module chunks = 0","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-define.js\n// module id = 27\n// module chunks = 0","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-pie.js\n// module id = 28\n// module chunks = 0","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-define.js\n// module id = 29\n// module chunks = 0","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_export.js\n// module id = 30\n// module chunks = 0","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ie8-dom-define.js\n// module id = 31\n// module chunks = 0","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_dom-create.js\n// module id = 32\n// module chunks = 0","module.exports = require('./_hide');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine.js\n// module id = 33\n// module chunks = 0","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-create.js\n// module id = 34\n// module chunks = 0","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys-internal.js\n// module id = 35\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_cof.js\n// module id = 36\n// module chunks = 0","exports.f = Object.getOwnPropertySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gops.js\n// module id = 37\n// module chunks = 0","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn.js\n// module id = 38\n// module chunks = 0","// import Raphael from './index';\n\n// export default Raphael\n\nimport Raphael from './raphael.core';\nimport extended from './raphael.core-extend';\n\nimport svg from './raphael.svg';\nimport vml from './raphael.vml';\nimport canvas from './raphael.canvas';\n\nextended(Raphael);\nsvg(Raphael);\nvml(Raphael);\ncanvas(Raphael);\n\nexport default Raphael\n\n\n\n\n// WEBPACK FOOTER //\n// ./source/raphael.js","/**!\n * RedRaphael 1.0.0 - JavaScript Vector Library\n * Copyright (c) 2012-2013 FusionCharts Technologies <http://www.fusioncharts.com>\n *\n * Raphael 2.1.0\n * Copyright (c) 2008-2012 Dmitry Baranovskiy <http://raphaeljs.com>\n * Copyright © 2008-2012 Sencha Labs <http://sencha.com>\n *\n * Licensed under the MIT license.\n */\n\nimport eve from './eve/eve';\nimport extend, {merge} from './raphael.lib';\n\nvar _win = (typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : null);\n\n    /*\\\n     * Raphael\n     [ method ]\n     **\n     * Creates a canvas object on which to draw.\n     * You must do this first, as all future calls to drawing methods\n     * from this instance will be bound to this canvas.\n     > Parameters\n     **\n     - container (HTMLElement|string) DOM element or its ID which is going to be a parent for drawing surface\n     - width (number)\n     - height (number)\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\n     * or\n     - x (number)\n     - y (number)\n     - width (number)\n     - height (number)\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\n     * or\n     - all (array) (first 3 or 4 elements in the array are equal to [containerID, width, height] or [x, y, width, height]. The rest are element descriptions in format {type: type, <attributes>}). See @Paper.add.\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\n     * or\n     - onReadyCallback (function) function that is going to be called on DOM ready event. You can also subscribe to this event via Eve’s “DOMLoad” event. In this case method returns `undefined`.\n     = (object) @Paper\n     > Usage\n     | // Each of the following examples create a canvas\n     | // that is 320px wide by 200px high.\n     | // Canvas is created at the viewport’s 10,50 coordinate.\n     | var paper = Raphael(10, 50, 320, 200);\n     | // Canvas is created at the top left corner of the #notepad element\n     | // (or its top right corner in dir=\"rtl\" elements)\n     | var paper = Raphael(document.getElementById(\"notepad\"), 320, 200);\n     | // Same as above\n     | var paper = Raphael(\"notepad\", 320, 200);\n     | // Image dump\n     | var set = Raphael([\"notepad\", 320, 200, {\n     |     type: \"rect\",\n     |     x: 10,\n     |     y: 10,\n     |     width: 25,\n     |     height: 25,\n     |     stroke: \"#f00\"\n     | }, {\n     |     type: \"text\",\n     |     x: 30,\n     |     y: 40,\n     |     text: \"Dump\"\n     | }]);\n    \\*/\n    function R(first) {\n        var args,\n            f;\n\n        // Code commented as resources will now be referenced using relative URLs.\n        // @todo Remove once we have ascertained that there are no issues in any environment.\n        // if (R._url) { // Reinitialize URLs to be safe from pop state event\n        //     R._url = (R._g && R._g.win || _window).location.href.replace(/#.*?$/, \"\");\n        // }\n        // If the URL is undefined only then initialize the URL with blank in order to support\n        // both relative as well as absolute URLs\n        // @todo Need to track the URL change and modify the URL for the gradient and other elements dynamically.\n        if (R._url === undefined) {\n            R._url = \"\";\n        }\n\n        if (R.is(first, \"function\")) {\n            return loaded ? first() : eve.on(\"raphael.DOMload\", first);\n        }\n        else if (R.is(first, array)) {\n            return R._engine.create[apply](R, first.splice(0, 3 + R.is(first[0], nu))).add(first);\n        }\n        else {\n            for (var i = 0, len = arguments.length, arg = new Array(len); i < len; i++) {\n                arg[i] = arguments[i];\n            }    \n            args = Array.prototype.slice.call(arg, 0);\n            if (R.is(args[args.length - 1], \"function\")) {\n                f = args.pop();\n                return loaded ? f.call(R._engine.create[apply](R, args)) : eve.on(\"raphael.DOMload\", function() {\n                    f.call(R._engine.create[apply](R, args));\n                });\n            } else {\n                return R._engine.create[apply](R, arguments);\n            }\n        }\n    }\n\n    R.upgrade = \"1.0.0\";\n    R.version = \"2.1.0\";\n    R.eve = eve;\n    // RedRaphael = R;\n\n    var loaded,\n        undef,\n        E = \"\",\n        S = \" \",\n        has = \"hasOwnProperty\",\n        apply = \"apply\",\n        concat = \"concat\",\n        nu = \"number\",\n        string = \"string\",\n        array = \"array\",\n        object = \"object\",\n        finite = \"finite\",\n        split = \"split\",\n        none = \"none\",\n        black = \"#000\",\n        arraySlice = Array.prototype.slice,\n        arraySplice = Array.prototype.splice,\n        hasPrototypeBug = (function () {\n            var a = function () {};\n            return a.hasOwnProperty(\"prototype\");\n        }()),\n        g = {\n            doc: _win.document,\n            win: _win\n        },\n        doc = g.doc,\n        win = g.win,\n\n        supportsTouch = R.supportsTouch = \"createTouch\" in doc,\n\n        // The devices which both touch and pointer.\n        supportsOnlyTouch = R.supportsOnlyTouch = (supportsTouch &&\n                        !(win.navigator.maxTouchPoints ||\n                        win.navigator.msMaxTouchPoints)),\n\n        CustomAttributes = function () {\n            /*\\\n             * Raphael.ca\n             [ property (object) ]\n             **\n             * Shortcut for @Raphael.customAttributes\n            \\*/\n            /*\\\n             * Raphael.customAttributes\n             [ property (object) ]\n             **\n             * If you have a set of attributes that you would like to represent\n             * as a function of some number across all papers you can do it\n             * easily with custom attributes:\n             > Usage\n             | Raphael.customAttributes.hue = function (num) {\n             |     num = num % 1;\n             |     return {fill: \"hsb(\" + num + \", 0.75, 1)\"};\n             | };\n             | // Custom attribute “hue” will change fill\n             | // to be given hue with fixed saturation and brightness.\n             | // Now you can use it like this:\n             | var c = paper.circle(10, 10, 10).attr({hue: .45});\n             | // or even like this:\n             | c.animate({hue: 1}, 1e3);\n             |\n             | // You could also create custom attribute\n             | // with multiple parameters:\n             | Raphael.customAttributes.hsb = function (h, s, b) {\n             |     return {fill: \"hsb(\" + [h, s, b].join(\",\") + \")\"};\n             | };\n             | c.attr({hsb: \"0.5 .8 1\"});\n             | c.animate({hsb: [1, 0, 0.5]}, 1e3);\n            \\*/\n        },\n        caproto = R.ca = R.customAttributes = CustomAttributes.prototype,\n\n        Paper = function () {\n            /*\\\n             * Paper.ca\n             [ property (object) ]\n             **\n             * Shortcut for @Paper.customAttributes\n            \\*/\n            /*\\\n             * Paper.customAttributes\n             [ property (object) ]\n             **\n             * If you have a set of attributes that you would like to represent\n             * as a function of some number you can do it easily with custom attributes:\n             > Usage\n             | paper.customAttributes.hue = function (num) {\n             |     num = num % 1;\n             |     return {fill: \"hsb(\" + num + \", 0.75, 1)\"};\n             | };\n             | // Custom attribute “hue” will change fill\n             | // to be given hue with fixed saturation and brightness.\n             | // Now you can use it like this:\n             | var c = paper.circle(10, 10, 10).attr({hue: .45});\n             | // or even like this:\n             | c.animate({hue: 1}, 1e3);\n             |\n             | // You could also create custom attribute\n             | // with multiple parameters:\n             | paper.customAttributes.hsb = function (h, s, b) {\n             |     return {fill: \"hsb(\" + [h, s, b].join(\",\") + \")\"};\n             | };\n             | c.attr({hsb: \"0.5 .8 1\"});\n             | c.animate({hsb: [1, 0, 0.5]}, 1e3);\n            \\*/\n            this.ca = this.customAttributes = new CustomAttributes();\n            this._CustomAttributes = function () {};\n            this._CustomAttributes.prototype = this.ca;\n            this._elementsById = {};\n            this.id = R._oid++;\n            eve('raphael.new', this);\n        },\n\n        /*\\\n         * Raphael.fn\n         [ property (object) ]\n         **\n         * You can add your own method to the canvas. For example if you want to draw a pie chart,\n         * you can create your own pie chart function and ship it as a Raphaël plugin. To do this\n         * you need to extend the `Raphael.fn` object. You should modify the `fn` object before a\n         * Raphaël instance is created, otherwise it will take no effect. Please note that the\n         * ability for namespaced plugins was removed in Raphael 2.0. It is up to the plugin to\n         * ensure any namespacing ensures proper context.\n         > Usage\n         | Raphael.fn.arrow = function (x1, y1, x2, y2, size) {\n         |     return this.path( ... );\n         | };\n         | // or create namespace\n         | Raphael.fn.mystuff = {\n         |     arrow: function () {…},\n         |     star: function () {…},\n         |     // etc…\n         | };\n         | var paper = Raphael(10, 10, 630, 480);\n         | // then use it\n         | paper.arrow(10, 10, 30, 30, 5).attr({fill: \"#f00\"});\n         | paper.mystuff.arrow();\n         | paper.mystuff.star();\n        \\*/\n        paperproto = R.fn = Paper.prototype = R.prototype,\n\n        // Add new dragstart, dragmove and dragend events in order to support touch drag in both touch and hybrid devices\n        events = \"click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel dragstart dragmove dragend\"[split](S),\n        touchMap = R._touchMap = {\n            mousedown: \"touchstart\",\n            mousemove: \"touchmove\",\n            mouseup: \"touchend\"\n        },\n        dragEventMap = R._dragEventMap = {\n            dragstart: \"mousedown\",\n            dragmove: \"mousemove\",\n            dragend: \"mouseup\"\n        },\n\n        Str = String,\n        toFloat = win.parseFloat,\n        toInt = win.parseInt,\n        math = Math,\n        mmax = math.max,\n        mmin = math.min,\n        abs = math.abs,\n        pow = math.pow,\n        mathCos = math.cos,\n        mathSin = math.sin,\n        mathSqrt = math.sqrt,\n        round = math.round,\n        PI = math.PI,\n        deg2rad = PI / 180,\n        rad2deg = 180 / PI,\n\n        lowerCase = Str.prototype.toLowerCase,\n        upperCase = Str.prototype.toUpperCase,\n        objectToString = Object.prototype.toString,\n\n        separator = /[, ]+/,\n        formatrg = /\\{(\\d+)\\}/g,\n        colourRegExp = /^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?(?:\\s*,\\s*[\\d\\.]+%?)?)\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\))\\s*$/i,\n        bezierrg = /^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,\n        commaSpaces = /[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/,\n        p2s = /,?([achlmqrstvxz]),?/gi,\n        pathCommand = /([achlmrqstvz])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,\n        tCommand = /([rstm])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,\n        pathValues = /(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/ig,\n\n        isnan = {\n            \"NaN\": 1,\n            \"Infinity\": 1,\n            \"-Infinity\": 1\n        },\n        hsrg = {\n            hs: 1,\n            rg: 1\n        },\n        availableAttrs = R._availableAttrs = {\n            \"arrow-end\": none,\n            \"arrow-start\": none,\n            blur: 0,\n            \"clip-rect\": \"0 0 1e9 1e9\",\n            \"clip-path\": E,\n            cursor: \"default\",\n            cx: 0,\n            cy: 0,\n            fill: \"#fff\",\n            \"fill-opacity\": 1,\n            font: '10px \"Arial\"',\n            \"font-family\": '\"Arial\"',\n            \"font-size\": \"10\",\n            \"font-style\": \"normal\",\n            \"font-weight\": 400,\n            gradient: 0,\n            height: 0,\n            href: \"about:blank\",\n            \"letter-spacing\": 0,\n            \"line-height\": 12,\n            \"vertical-align\": \"middle\",\n            opacity: 1,\n            path: \"M0,0\",\n            r: 0,\n            rx: 0,\n            ry: 0,\n            src: E,\n            stroke: \"#000\",\n            \"stroke-dasharray\": E,\n            \"stroke-linecap\": \"butt\",\n            \"stroke-linejoin\": \"butt\",\n            \"stroke-miterlimit\": 0,\n            \"stroke-opacity\": 1,\n            \"stroke-width\": 1,\n            target: \"_blank\",\n            \"text-anchor\": \"middle\",\n            \"visibility\": E,\n            title: E,\n            transform: E,\n            rotation: 0,\n            width: 0,\n            x: 0,\n            y: 0,\n            \"shape-rendering\": \"auto\",\n            alpha: nu\n        },\n        availableAnimAttrs = R._availableAnimAttrs = {\n            blur: nu,\n            \"clip-rect\": \"csv\",\n            \"clip-path\": \"path\",\n            cx: nu,\n            cy: nu,\n            fill: \"colour\",\n            \"fill-opacity\": nu,\n            \"font-size\": nu,\n            height: nu,\n            opacity: nu,\n            path: \"path\",\n            r: nu,\n            rx: nu,\n            ry: nu,\n            stroke: \"colour\",\n            \"stroke-opacity\": nu,\n            \"stroke-width\": nu,\n            transform: \"transform\",\n            width: nu,\n            x: nu,\n            y: nu,\n            // Required for pie 3d\n            \"color\": \"colour\",\n            \"borderColor\": \"colour\",\n            \"borderWidth\": nu,\n            alpha: nu,\n            \"text-bound\": \"text-bound\"\n        },\n        eldata = {},\n\n        sortByNumber = function(a, b) {\n            return toFloat(a) - toFloat(b);\n        },\n        fun = function() {\n        },\n        pipe = function(x) {\n            return x;\n        },\n\n        rectPath = R._rectPath = function(x, y, w, h, r) {\n            if (r) {\n                return [[\"M\", x + r, y], [\"l\", w - r * 2, 0], [\"a\", r, r, 0, 0, 1, r, r], [\"l\", 0, h - r * 2], [\"a\", r, r, 0, 0, 1, -r, r], [\"l\", r * 2 - w, 0], [\"a\", r, r, 0, 0, 1, -r, -r], [\"l\", 0, r * 2 - h], [\"a\", r, r, 0, 0, 1, r, -r], [\"z\"]];\n            }\n            return [[\"M\", x, y], [\"l\", w, 0], [\"l\", 0, h], [\"l\", -w, 0], [\"z\"]];\n        },\n\n        ellipsePath = function(x, y, rx, ry) {\n            if (ry == null) {\n                ry = rx;\n            }\n            return [[\"M\", x, y], [\"m\", 0, -ry], [\"a\", rx, ry, 0, 1, 1, 0, 2 * ry], [\"a\", rx, ry, 0, 1, 1, 0, -2 * ry], [\"z\"]];\n        },\n\n        getPath = R._getPath = {\n            group: function() {\n                return false;\n            },\n            path: function(el) {\n                return el.attr(\"path\");\n            },\n            circle: function(el) {\n                var a = el.attrs;\n                return ellipsePath(a.cx, a.cy, a.r);\n            },\n            ellipse: function(el) {\n                var a = el.attrs;\n                return ellipsePath(a.cx, a.cy, a.rx, a.ry);\n            },\n            rect: function(el) {\n                var a = el.attrs;\n                return rectPath(a.x, a.y, a.width, a.height, a.r);\n            },\n            image: function(el) {\n                var a = el.attrs;\n                return rectPath(a.x, a.y, a.width, a.height);\n            },\n            text: function(el) {\n                var bbox = el._getBBox();\n                return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\n            }\n        },\n\n        /*\\\n         * Raphael.mapPath\n         [ method ]\n         **\n         * Transform the path string with given matrix.\n         > Parameters\n         - path (string) path string\n         - matrix (object) see @Matrix\n         = (string) transformed path string\n        \\*/\n        mapPath = R.mapPath = function(path, matrix) {\n            if (!matrix) {\n                return path;\n            }\n            var x,\n                y,\n                i,\n                j,\n                ii,\n                jj,\n                pathi;\n\n            path = path2curve(path);\n            for (i = 0, ii = path.length; i < ii; i++) {\n                pathi = path[i];\n                for (j = 1, jj = pathi.length; j < jj; j += 2) {\n                    x = matrix.x(pathi[j], pathi[j + 1]);\n                    y = matrix.y(pathi[j], pathi[j + 1]);\n                    pathi[j] = x;\n                    pathi[j + 1] = y;\n                }\n            }\n            return path;\n        },\n\n        lastArgIfGroup = R._lastArgIfGroup = function (args, clear) {\n            var last = args.length - 1,\n                arg = args[last];\n\n            if (arg && (arg.constructor === R.el.constructor) && arg.type === 'group') {\n                if (clear) {\n                    args[last] = undefined;\n                    delete args[last];\n                    arraySplice.call(args, last, 1);\n                }\n                return arg;\n            }\n        },\n\n        serializeArgs = R._serializeArgs = function (args) {\n            var arg0 = args[0],\n                pathString,\n                attrs,\n                i,\n                ii;\n\n            if (R.is(arg0, 'object') && !R.is(arg0, 'array') && arg0.type !== 'group') {\n\n                attrs = arg0;\n\n                if (arg0.path) {\n                    pathString = arg0.path;\n                    pathString && !R.is(pathString, string) &&\n                        !R.is(pathString[0], array) && (pathString += E);\n                }\n\n                for (i = 1, ii = arguments.length; i < ii; i += 2) {\n                    if (!attrs[arguments[i]]) {\n                        attrs[arguments[i]] = arguments[i + 1];\n                    }\n                }\n            }\n            else {\n                attrs = {};\n                for (i = 1, ii = arguments.length; i < ii; i += 2) {\n                    attrs[arguments[i]] = args[(i-1) / 2] || arguments[i+1];\n                }\n            }\n            return attrs;\n        },\n\n        /*\\\n         * Raphael.is\n         [ method ]\n         **\n         * Handfull replacement for `typeof` operator.\n         > Parameters\n         - o (…) any object or primitive\n         - type (string) name of the type, i.e. “string”, “function”, “number”, etc.\n         = (boolean) is given value is of given type\n        \\*/\n        is = R.is = function(o, type) {\n            type = lowerCase.call(type);\n\n            if (type == finite) {\n                return !isnan[has](+o);\n            }\n            if (type == array) {\n                return o instanceof Array;\n            }\n            if (type === 'object' && (o === undef || o === null)) {\n                return false;\n            }\n            return  (type == \"null\" && o === null) ||\n                (type == typeof o && o !== null) ||\n                (type == object && o === Object(o)) ||\n                (type == \"array\" && Array.isArray && Array.isArray(o)) ||\n                objectToString.call(o).slice(8, -1).toLowerCase() == type;\n        },\n\n        /*\\\n          * Raphael.clone\n          [ method ]\n          **\n          * Returns a recursively cloned version of an object.\n         \\*/\n        clone = R.clone = hasPrototypeBug ? function (obj) {\n                if (Object(obj) !== obj) {\n                    return obj;\n                }\n                var res = new obj.constructor;\n                for (var key in obj)\n                    if (key !== \"prototype\" && obj[has](key)) {\n                        res[key] = clone(obj[key]);\n                    }\n                return res;\n            } : function (obj) {\n                if (Object(obj) !== obj) {\n                    return obj;\n                }\n                var res = new obj.constructor;\n                for (var key in obj)\n                    if (obj[has](key)) {\n                        res[key] = clone(obj[key]);\n                    }\n                return res;\n            },\n        Node = _win.Node;\n        //Adding pollyfill for IE11\n        if (Node && !Node.prototype.contains) {\n            Node.prototype.contains = function(el){\n                while (el = el.parentNode) {\n                    if (el === this) return true;\n                }\n                return false;\n            }\n        };\n\n    R._g = g;\n    R.merge = merge;\n    R.extend = extend;\n    /*\n      * Raphael.createUUID\n      [ method ]\n      **\n      * Returns RFC4122, version 4 ID\n     */\n    R.createUUID = (function(uuidRegEx, uuidReplacer) {\n        return function() {\n            return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(uuidRegEx, uuidReplacer).toUpperCase();\n        };\n    })(/[xy]/g, function(c) {\n        var r = math.random() * 16 | 0,\n            v = c == \"x\" ? r : (r & 3 | 8);\n        return v.toString(16);\n    });\n\n    R._radial_gradient = /^x?r(?:\\(([^\\)]*?)\\))?/;\n    R._ISURL = /^url\\(['\"]?([^\\)]+?)['\"]?\\)$/i;\n\n    /*\n      * Raphael.getElementID\n      [ method ]\n      **\n      * Add 'rr-' prefix before created IDs\n     */\n    R.getElementID = function (id) {\n        return \"rr-\" + id;\n    };\n\n    // PriorityQueue Function Declaration\n    function PriorityQueue(comparator) {\n      this._comparator = comparator;\n      this._elements = [];\n    }\n\n    PriorityQueue.prototype.isEmpty = function() {\n      return this.size() === 0;\n    };\n\n    PriorityQueue.prototype.peek = function() {\n      if (this.isEmpty()) return null;\n\n      return this._elements[0];\n    };\n\n    PriorityQueue.prototype.deq = function() {\n      var first = this.peek();\n      var last = this._elements.pop();\n      var size = this.size();\n\n      if (size === 0) return first;\n\n      this._elements[0] = last;\n      var current = 0;\n\n      while (current < size) {\n        var largest = current;\n        var left = (2 * current) + 1;\n        var right = (2 * current) + 2;\n\n        if (left < size && this._compare(left, largest) >= 0) {\n          largest = left;\n        }\n\n        if (right < size && this._compare(right, largest) >= 0) {\n          largest = right;\n        }\n\n        if (largest === current) break;\n\n        this._swap(largest, current);\n        current = largest;\n      }\n\n      return first;\n    };\n\n    PriorityQueue.prototype.enq = function(element) {\n      var size = this._elements.push(element);\n      var current = size - 1;\n\n      while (current > 0) {\n        var parent = Math.floor((current - 1) / 2);\n\n        if (this._compare(current, parent) <= 0) break;\n\n        this._swap(parent, current);\n        current = parent;\n      }\n\n      return size;\n    };\n\n    PriorityQueue.prototype.size = function() {\n      return this._elements.length;\n    };\n\n    PriorityQueue.prototype._compare = function(a, b) {\n      return this._comparator(this._elements[a], this._elements[b]);\n    };\n\n    PriorityQueue.prototype._swap = function(a, b) {\n      var aux = this._elements[a];\n      this._elements[a] = this._elements[b];\n      this._elements[b] = aux;\n    };\n\n    /*\\\n     * Raphael.type\n     [ property (string) ]\n     **\n     * Can be “SVG”, “VML” or empty, depending on browser support.\n    \\*/\n    R.type = (win.ENABLE_RED_CANVAS && (win.CanvasRenderingContext2D || doc.createElement('canvas').getContext)) ? \"CANVAS\" :\n            (win.SVGAngle || doc.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\", \"1.1\") ? \"SVG\" : \"VML\");\n\n    if (R.type == \"VML\") {\n        var d = doc.createElement(\"div\"),\n            b;\n\n        d.innerHTML = '<v:shape adj=\"1\"/>';\n        b = d.firstChild;\n        b.style.behavior = \"url(#default#VML)\";\n        if (!(b && typeof b.adj == object)) {\n            R.type = E;\n            // return (R.type = E);\n        }\n        d = null;\n    }\n\n    /*\\\n     * Raphael.svg\n     [ property (boolean) ]\n     **\n     * `true` if browser supports SVG.\n    \\*/\n    /*\\\n     * Raphael.vml\n     [ property (boolean) ]\n     **\n     * `true` if browser supports VML.\n    \\*/\n    R.svg = !((R.vml = R.type == \"VML\") || (R.canvas = R.type == \"CANVAS\"));\n\n    R._Paper = Paper;\n    R._id = 0;\n    R._oid = 0;\n\n    /*\\\n     * Raphael.angle\n     [ method ]\n     **\n     * Returns angle between two or three points\n     > Parameters\n     - x1 (number) x coord of first point\n     - y1 (number) y coord of first point\n     - x2 (number) x coord of second point\n     - y2 (number) y coord of second point\n     - x3 (number) #optional x coord of third point\n     - y3 (number) #optional y coord of third point\n     = (number) angle in degrees.\n    \\*/\n    R.angle = function (x1, y1, x2, y2, x3, y3) {\n        if (x3 == null) {\n            var x = x1 - x2,\n            y = y1 - y2;\n            if (!x && !y) {\n                return 0;\n            }\n            return (180 + math.atan2(-y, -x) * rad2deg + 360) % 360;\n        }\n        else {\n            return R.angle(x1, y1, x3, y3) - R.angle(x2, y2, x3, y3);\n        }\n    };\n\n    /*\\\n     * Raphael.rad\n     [ method ]\n     **\n     * Transform angle to radians\n     > Parameters\n     - deg (number) angle in degrees\n     = (number) angle in radians.\n    \\*/\n    R.rad = function (deg) {\n        return deg % 360 * deg2rad;\n    };\n\n    /*\\\n     * Raphael.deg\n     [ method ]\n     **\n     * Transform angle to degrees\n     > Parameters\n     - deg (number) angle in radians\n     = (number) angle in degrees.\n    \\*/\n    R.deg = function (rad) {\n        return rad * rad2deg % 360;\n    };\n\n    /*\\\n     * Raphael.setWindow\n     [ method ]\n     **\n     * Used when you need to draw in `&lt;iframe>`. Switched window to the iframe one.\n     > Parameters\n     - newwin (window) new window object\n    \\*/\n    R.setWindow = function (newwin) {\n        eve(\"raphael.setWindow\", R, g.win, newwin);\n        win = g.win = newwin;\n        doc = g.doc = g.win.document;\n        if (R._engine.initWin) {\n            R._engine.initWin(g.win);\n        }\n    };\n\n    var toHex = function (color) {\n            if (R.vml) {\n                // http://dean.edwards.name/weblog/2009/10/convert-any-colour-value-to-hex-in-msie/\n                var trim = /^\\s+|\\s+$/g;\n                var bod;\n                try {\n                    var docum = new ActiveXObject(\"htmlfile\");\n                    docum.write(\"<body>\");\n                    docum.close();\n                    bod = docum.body;\n                } catch (e) {\n                    bod = createPopup().document.body;\n                }\n                var range = bod.createTextRange();\n                toHex = cacher(function(color) {\n                    try {\n                        bod.style.color = Str(color).replace(trim, E);\n                        var value = range.queryCommandValue(\"ForeColor\");\n                        value = ((value & 255) << 16) | (value & 65280) | ((value & 16711680) >>> 16);\n                        return \"#\" + (\"000000\" + value.toString(16)).slice(-6);\n                    } catch (e) {\n                        return none;\n                    }\n                });\n            } else {\n                var i = g.doc.createElement(\"i\");\n                i.title = \"Rapha\\xebl Colour Picker\";\n                i.style.display = none;\n                g.doc.body.appendChild(i);\n                toHex = cacher(function(color) {\n                    i.style.color = color;\n                    return g.doc.defaultView.getComputedStyle(i, E).getPropertyValue(\"color\");\n                });\n            }\n            return toHex(color);\n        },\n        hsbtoString = function() {\n            return \"hsb(\" + [this.h, this.s, this.b] + \")\";\n        },\n        hsltoString = function() {\n            return \"hsl(\" + [this.h, this.s, this.l] + \")\";\n        },\n        rgbtoString = function() {\n            return this.hex;\n        },\n        prepareRGB = function(r, g, b) {\n            if (g == null && is(r, object) && \"r\" in r && \"g\" in r && \"b\" in r) {\n                b = r.b;\n                g = r.g;\n                r = r.r;\n            }\n            if (g == null && is(r, string)) {\n                var clr = R.getRGB(r);\n                r = clr.r;\n                g = clr.g;\n                b = clr.b;\n            }\n            if (r > 1 || g > 1 || b > 1) {\n                r /= 255;\n                g /= 255;\n                b /= 255;\n            }\n\n            return [r, g, b];\n        },\n        packageRGB = function(r, g, b, o) {\n            var rgb = {\n                r: (r *= 255),\n                g: (g *= 255),\n                b: (b *= 255),\n                hex: R.rgb(r, g, b),\n                toString: rgbtoString\n            };\n            is(o, \"finite\") && (rgb.opacity = o);\n            return rgb;\n        };\n\n    /*\\\n     * Raphael.color\n     [ method ]\n     **\n     * Parses the color string and returns object with all values for the given color.\n     > Parameters\n     - clr (string) color string in one of the supported formats (see @Raphael.getRGB)\n     = (object) Combined RGB & HSB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue,\n     o     hex (string) color in HTML/CSS format: #••••••,\n     o     error (boolean) `true` if string can’t be parsed,\n     o     h (number) hue,\n     o     s (number) saturation,\n     o     v (number) value (brightness),\n     o     l (number) lightness\n     o }\n    \\*/\n    R.color = function(clr) {\n        var rgb;\n        if (R.is(clr, object) && \"h\" in clr && \"s\" in clr && \"b\" in clr) {\n            rgb = R.hsb2rgb(clr);\n            clr.r = rgb.r;\n            clr.g = rgb.g;\n            clr.b = rgb.b;\n            clr.hex = rgb.hex;\n        } else if (R.is(clr, object) && \"h\" in clr && \"s\" in clr && \"l\" in clr) {\n            rgb = R.hsl2rgb(clr);\n            clr.r = rgb.r;\n            clr.g = rgb.g;\n            clr.b = rgb.b;\n            clr.hex = rgb.hex;\n        } else {\n            if (R.is(clr, \"string\")) {\n                clr = R.getRGB(clr);\n            }\n            if (R.is(clr, object) && \"r\" in clr && \"g\" in clr && \"b\" in clr) {\n                rgb = R.rgb2hsl(clr);\n                clr.h = rgb.h;\n                clr.s = rgb.s;\n                clr.l = rgb.l;\n                rgb = R.rgb2hsb(clr);\n                clr.v = rgb.b;\n            } else {\n                clr = {\n                    hex: none\n                };\n                clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;\n            }\n        }\n        clr.toString = rgbtoString;\n        return clr;\n    };\n\n    /*\\\n     * Raphael.hsb2rgb\n     [ method ]\n     **\n     * Converts HSB values to RGB object.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - v (number) value or brightness\n     = (object) RGB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue,\n     o     hex (string) color in HTML/CSS format: #••••••\n     o }\n    \\*/\n    R.hsb2rgb = function(h, s, v, o) {\n        if (this.is(h, object) && \"h\" in h && \"s\" in h && \"b\" in h) {\n            v = h.b;\n            s = h.s;\n            h = h.h;\n            o = h.o;\n        }\n        h *= 360;\n        var R, G, B, X, C;\n        h = (h % 360) / 60;\n        C = v * s;\n        X = C * (1 - abs(h % 2 - 1));\n        R = G = B = v - C;\n\n        h = ~~h;\n        R += [C, X, 0, 0, X, C][h];\n        G += [X, C, C, X, 0, 0][h];\n        B += [0, 0, X, C, C, X][h];\n        return packageRGB(R, G, B, o);\n    };\n\n    /*\\\n     * Raphael.hsl2rgb\n     [ method ]\n     **\n     * Converts HSL values to RGB object.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - l (number) luminosity\n     = (object) RGB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue,\n     o     hex (string) color in HTML/CSS format: #••••••\n     o }\n    \\*/\n    R.hsl2rgb = function(h, s, l, o) {\n        if (this.is(h, object) && \"h\" in h && \"s\" in h && \"l\" in h) {\n            l = h.l;\n            s = h.s;\n            h = h.h;\n        }\n        if (h > 1 || s > 1 || l > 1) {\n            h /= 360;\n            s /= 100;\n            l /= 100;\n        }\n        h *= 360;\n        var R, G, B, X, C;\n        h = (h % 360) / 60;\n        C = 2 * s * (l < .5 ? l : 1 - l);\n        X = C * (1 - abs(h % 2 - 1));\n        R = G = B = l - C / 2;\n\n        h = ~~h;\n        R += [C, X, 0, 0, X, C][h];\n        G += [X, C, C, X, 0, 0][h];\n        B += [0, 0, X, C, C, X][h];\n        return packageRGB(R, G, B, o);\n    };\n\n    /*\\\n     * Raphael.rgb2hsb\n     [ method ]\n     **\n     * Converts RGB values to HSB object.\n     > Parameters\n     - r (number) red\n     - g (number) green\n     - b (number) blue\n     = (object) HSB object in format:\n     o {\n     o     h (number) hue\n     o     s (number) saturation\n     o     b (number) brightness\n     o }\n    \\*/\n    R.rgb2hsb = function(r, g, b) {\n        b = prepareRGB(r, g, b);\n        r = b[0];\n        g = b[1];\n        b = b[2];\n\n        var H, S, V, C;\n        V = mmax(r, g, b);\n        C = V - mmin(r, g, b);\n        H = (C == 0 ? null :\n            V == r ? (g - b) / C :\n            V == g ? (b - r) / C + 2 :\n            (r - g) / C + 4\n            );\n        H = ((H + 360) % 6) * 60 / 360;\n        S = C == 0 ? 0 : C / V;\n        return {\n            h: H,\n            s: S,\n            b: V,\n            toString: hsbtoString\n        };\n    };\n\n    /*\\\n     * Raphael.rgb2hsl\n     [ method ]\n     **\n     * Converts RGB values to HSL object.\n     > Parameters\n     - r (number) red\n     - g (number) green\n     - b (number) blue\n     = (object) HSL object in format:\n     o {\n     o     h (number) hue\n     o     s (number) saturation\n     o     l (number) luminosity\n     o }\n    \\*/\n    R.rgb2hsl = function(r, g, b) {\n        b = prepareRGB(r, g, b);\n        r = b[0];\n        g = b[1];\n        b = b[2];\n\n        var H, S, L, M, m, C;\n        M = mmax(r, g, b);\n        m = mmin(r, g, b);\n        C = M - m;\n        H = (C == 0 ? null :\n            M == r ? (g - b) / C :\n            M == g ? (b - r) / C + 2 :\n            (r - g) / C + 4);\n        H = ((H + 360) % 6) * 60 / 360;\n        L = (M + m) / 2;\n        S = (C == 0 ? 0 :\n            L < .5 ? C / (2 * L) :\n            C / (2 - 2 * L));\n        return {\n            h: H,\n            s: S,\n            l: L,\n            toString: hsltoString\n        };\n    };\n\n    R._path2string = function() {\n        return this.join(\",\").replace(p2s, \"$1\");\n    };\n\n    function repush(array, item) {\n        for (var i = 0, ii = array.length; i < ii; i++) {\n            if (array[i] === item) {\n                return array.push(array.splice(i, 1)[0]);\n            }\n        }\n    }\n\n    var cacher = R._cacher = function (f, scope, postprocessor) {\n        function cachedfunction() {\n            for (var i = 0, len = arguments.length, _args = new Array(len); i < len; i++) {\n                _args[i] = arguments[i];\n            }\n            var arg = arraySlice.call(_args, 0),\n            args = arg.join(\"\\u2400\"),\n            cache = cachedfunction.cache = cachedfunction.cache || {},\n            count = cachedfunction.count = cachedfunction.count || [];\n            if (cache[has](args)) {\n                repush(count, args);\n                return postprocessor ? postprocessor(cache[args]) : cache[args];\n            }\n            count.length >= 1e3 && delete cache[count.shift()];\n            count.push(args);\n            cache[args] = f[apply](scope, arg);\n            return postprocessor ? postprocessor(cache[args]) : cache[args];\n        }\n        return cachedfunction;\n    };\n\n    var preload = R._preload = function(src, f) {\n        var img = doc.createElement(\"img\");\n        img.style.cssText = \"position:absolute;left:-9999em;top:-9999em\";\n        img.onload = function() {\n            f.call(this);\n            this.onload = null;\n            doc.body.removeChild(this);\n        };\n        img.onerror = function() {\n            doc.body.removeChild(this);\n        };\n        doc.body.appendChild(img);\n        img.src = src;\n    };\n\n    function clrToString() {\n        return this.hex;\n    }\n\n    /*\\\n     * Raphael.getRGB\n     [ method ]\n     **\n     * Parses colour string as RGB object\n     > Parameters\n     - colour (string) colour string in one of formats:\n     # <ul>\n     #     <li>Colour name (“<code>red</code>”, “<code>green</code>”, “<code>cornflowerblue</code>”, etc)</li>\n     #     <li>#••• — shortened HTML colour: (“<code>#000</code>”, “<code>#fc0</code>”, etc)</li>\n     #     <li>#•••••• — full length HTML colour: (“<code>#000000</code>”, “<code>#bd2300</code>”)</li>\n     #     <li>rgb(•••, •••, •••) — red, green and blue channels’ values: (“<code>rgb(200,&nbsp;100,&nbsp;0)</code>”)</li>\n     #     <li>rgb(•••%, •••%, •••%) — same as above, but in %: (“<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>”)</li>\n     #     <li>hsb(•••, •••, •••) — hue, saturation and brightness values: (“<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>”)</li>\n     #     <li>hsb(•••%, •••%, •••%) — same as above, but in %</li>\n     #     <li>hsl(•••, •••, •••) — same as hsb</li>\n     #     <li>hsl(•••%, •••%, •••%) — same as hsb</li>\n     # </ul>\n     = (object) RGB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue\n     o     hex (string) color in HTML/CSS format: #••••••,\n     o     error (boolean) true if string can’t be parsed\n     o }\n    \\*/\n    R.getRGB = cacher(function(colour) {\n        var opacity,\n            res,\n            red,\n            green,\n            blue,\n            t,\n            values,\n            rgb;\n\n        colour && is(colour, 'object') && \"opacity\" in colour &&\n            (opacity = colour.opacity);\n        if (!colour || !!((colour = Str(colour)).indexOf(\"-\") + 1)) {\n            return {\n                r: -1,\n                g: -1,\n                b: -1,\n                hex: none,\n                error: 1,\n                toString: clrToString\n            };\n        }\n        if (colour == none) {\n            return {\n                r: -1,\n                g: -1,\n                b: -1,\n                hex: none,\n                toString: clrToString\n            };\n        }\n        !(hsrg[has](colour.toLowerCase().substring(0, 2)) ||\n            colour.charAt() === \"#\") && (colour = toHex(colour));\n\n\n        if ((rgb = colour.match(colourRegExp))) {\n            if (rgb[2]) {\n                blue = toInt(rgb[2].substring(5), 16);\n                green = toInt(rgb[2].substring(3, 5), 16);\n                red = toInt(rgb[2].substring(1, 3), 16);\n            }\n            if (rgb[3]) {\n                blue = toInt((t = rgb[3].charAt(3)) + t, 16);\n                green = toInt((t = rgb[3].charAt(2)) + t, 16);\n                red = toInt((t = rgb[3].charAt(1)) + t, 16);\n            }\n            if (rgb[4]) {\n                values = rgb[4][split](commaSpaces);\n                red = toFloat(values[0]);\n                values[0].slice(-1) == \"%\" && (red *= 2.55);\n                green = toFloat(values[1]);\n                values[1].slice(-1) == \"%\" && (green *= 2.55);\n                blue = toFloat(values[2]);\n                values[2].slice(-1) == \"%\" && (blue *= 2.55);\n                rgb[1].toLowerCase().slice(0, 4) == \"rgba\" && (opacity = toFloat(values[3]));\n                values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n            }\n            if (rgb[5]) {\n                values = rgb[5][split](commaSpaces);\n                red = toFloat(values[0]);\n                values[0].slice(-1) == \"%\" && (red *= 2.55);\n                green = toFloat(values[1]);\n                values[1].slice(-1) == \"%\" && (green *= 2.55);\n                blue = toFloat(values[2]);\n                values[2].slice(-1) == \"%\" && (blue *= 2.55);\n                (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n                rgb[1].toLowerCase().slice(0, 4) == \"hsba\" && (opacity = toFloat(values[3]));\n                values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n                return R.hsb2rgb(red, green, blue, opacity);\n            }\n            if (rgb[6]) {\n                values = rgb[6][split](commaSpaces);\n                red = toFloat(values[0]);\n                values[0].slice(-1) == \"%\" && (red *= 2.55);\n                green = toFloat(values[1]);\n                values[1].slice(-1) == \"%\" && (green *= 2.55);\n                blue = toFloat(values[2]);\n                values[2].slice(-1) == \"%\" && (blue *= 2.55);\n                (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n                rgb[1].toLowerCase().slice(0, 4) == \"hsla\" && (opacity = toFloat(values[3]));\n                values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n                return R.hsl2rgb(red, green, blue, opacity);\n            }\n            rgb = {\n                r: red,\n                g: green,\n                b: blue,\n                toString: clrToString\n            };\n            rgb.hex = \"#\" + (16777216 | blue | (green << 8) | (red << 16)).toString(16).slice(1);\n            R.is(opacity, \"finite\") && (rgb.opacity = opacity);\n            return rgb;\n        }\n        return {\n            r: -1,\n            g: -1,\n            b: -1,\n            hex: none,\n            error: 1,\n            toString: clrToString\n        };\n    }, R);\n\n    R.tintshade = cacher(function(colour, percent) {\n        var rgb = R.getRGB(colour),\n            tint,\n            offset = 255;\n\n        (percent < 0) && (percent *= -1, offset = 0);\n        (percent > 1) && (percent = 1);\n\n        tint = percent === 0 ? rgb : {\n            r: offset - (offset - rgb.r) * percent,\n            g: offset - (offset - rgb.g) * percent,\n            b: offset - (offset - rgb.b) * percent,\n            toString: clrToString\n        };\n        tint.hex = R.rgb(tint.r, tint.g, tint.b);\n        rgb.error && (tint.error = rgb.error);\n\n        if (\"opacity\" in rgb) {\n            tint.rgba = 'rgba(' + [tint.r, tint.g, tint.b, rgb.opacity].join(',') + ')';\n            tint.opacity = rgb.opacity;\n        }\n        else {\n            tint.rgba = 'rgb(' + [tint.r, tint.g, tint.b].join(',') + ')';\n        }\n        return tint;\n    }, R);\n\n    /*\\\n     * Raphael.hsb\n     [ method ]\n     **\n     * Converts HSB values to hex representation of the colour.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - b (number) value or brightness\n     = (string) hex representation of the colour.\n    \\*/\n    R.hsb = cacher(function(h, s, b) {\n        return R.hsb2rgb(h, s, b).hex;\n    });\n\n    /*\\\n     * Raphael.hsl\n     [ method ]\n     **\n     * Converts HSL values to hex representation of the colour.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - l (number) luminosity\n     = (string) hex representation of the colour.\n    \\*/\n    R.hsl = cacher(function(h, s, l) {\n        return R.hsl2rgb(h, s, l).hex;\n    });\n\n    /*\\\n     * Raphael.rgb\n     [ method ]\n     **\n     * Converts RGB values to hex representation of the colour.\n     > Parameters\n     - r (number) red\n     - g (number) green\n     - b (number) blue\n     = (string) hex representation of the colour.\n    \\*/\n    R.rgb = cacher(function(r, g, b) {\n        return \"#\" + (16777216 | b | (g << 8) | (r << 16)).toString(16).slice(1);\n    });\n\n    /*\\\n     * Raphael.getColor\n     [ method ]\n     **\n     * On each call returns next colour in the spectrum. To reset it back to red call @Raphael.getColor.reset\n     > Parameters\n     - value (number) #optional brightness, default is `0.75`\n     = (string) hex representation of the colour.\n    \\*/\n    R.getColor = function(value) {\n        var start = this.getColor.start = this.getColor.start || {\n            h: 0,\n            s: 1,\n            b: value || .75\n        },\n        rgb = this.hsb2rgb(start.h, start.s, start.b);\n        start.h += .075;\n        if (start.h > 1) {\n            start.h = 0;\n            start.s -= .2;\n            start.s <= 0 && (this.getColor.start = {\n                h: 0,\n                s: 1,\n                b: start.b\n            });\n        }\n        return rgb.hex;\n    };\n\n    /*\\\n     * Raphael.getColor.reset\n     [ method ]\n     **\n     * Resets spectrum position for @Raphael.getColor back to red.\n    \\*/\n    R.getColor.reset = function() {\n        delete this.start;\n    };\n\n    // http://schepers.cc/getting-to-the-point\n    function catmullRom2bezier(crp, z) {\n        var d = [];\n        for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n            var p = [\n            {\n                x: +crp[i - 2],\n                y: +crp[i - 1]\n            },\n            {\n                x: +crp[i],\n                y: +crp[i + 1]\n            },\n            {\n                x: +crp[i + 2],\n                y: +crp[i + 3]\n            },\n            {\n                x: +crp[i + 4],\n                y: +crp[i + 5]\n            }\n            ];\n            if (z) {\n                if (!i) {\n                    p[0] = {\n                        x: +crp[iLen - 2],\n                        y: +crp[iLen - 1]\n                    };\n                } else if (iLen - 4 == i) {\n                    p[3] = {\n                        x: +crp[0],\n                        y: +crp[1]\n                    };\n                } else if (iLen - 2 == i) {\n                    p[2] = {\n                        x: +crp[0],\n                        y: +crp[1]\n                    };\n                    p[3] = {\n                        x: +crp[2],\n                        y: +crp[3]\n                    };\n                }\n            } else {\n                if (iLen - 4 == i) {\n                    p[3] = p[2];\n                } else if (!i) {\n                    p[0] = {\n                        x: +crp[i],\n                        y: +crp[i + 1]\n                    };\n                }\n            }\n            d.push([\"C\",\n                (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n                (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n                (p[1].x + 6 * p[2].x - p[3].x) / 6,\n                (p[1].y + 6 * p[2].y - p[3].y) / 6,\n                p[2].x,\n                p[2].y\n                ]);\n        }\n\n        return d;\n    }\n\n    /*\\\n     * Raphael.parsePathString\n     [ method ]\n     **\n     * Utility method\n     **\n     * Parses given path string into an array of arrays of path segments.\n     > Parameters\n     - pathString (string|array) path string or array of segments (in the last case it will be returned straight away)\n     = (array) array of segments.\n    \\*/\n    R.parsePathString = function(pathString) {\n        if (!pathString) {\n            return null;\n        }\n        var pth = paths(pathString);\n        if (pth.arr) {\n            return pathClone(pth.arr);\n        }\n\n        var paramCounts = {\n            a: 7,\n            c: 6,\n            h: 1,\n            l: 2,\n            m: 2,\n            r: 4,\n            q: 4,\n            s: 4,\n            t: 2,\n            v: 1,\n            z: 0\n        },\n        data = [];\n        if (R.is(pathString, array) && R.is(pathString[0], array)) { // rough assumption\n            data = pathClone(pathString);\n        }\n        if (!data.length) {\n            Str(pathString).replace(pathCommand, function(a, b, c) {\n                var params = [],\n                name = b.toLowerCase();\n                c.replace(pathValues, function(a, b) {\n                    b && params.push(+b);\n                });\n                if (name == \"m\" && params.length > 2) {\n                    data.push([b][concat](params.splice(0, 2)));\n                    name = \"l\";\n                    b = b == \"m\" ? \"l\" : \"L\";\n                }\n                if (name == \"r\") {\n                    data.push([b][concat](params));\n                } else\n                    while (params.length >= paramCounts[name]) {\n                        data.push([b][concat](params.splice(0, paramCounts[name])));\n                        if (!paramCounts[name]) {\n                            break;\n                        }\n                    }\n            });\n        }\n        data.toString = R._path2string;\n        pth.arr = pathClone(data);\n        return data;\n    };\n\n    /*\\\n     * Raphael.parseTransformString\n     [ method ]\n     **\n     * Utility method\n     **\n     * Parses given path string into an array of transformations.\n     > Parameters\n     - TString (string|array) transform string or array of transformations (in the last case it will be returned straight away)\n     = (array) array of transformations.\n    \\*/\n    R.parseTransformString = cacher(function(TString) {\n        if (!TString) {\n            return null;\n        }\n        var paramCounts = {\n            r: 3,\n            s: 4,\n            t: 2,\n            m: 6\n        },\n        data = [];\n        if (R.is(TString, array) && R.is(TString[0], array)) { // rough assumption\n            data = pathClone(TString);\n        }\n        if (!data.length) {\n            Str(TString).replace(tCommand, function(a, b, c) {\n                var params = [],\n                name = lowerCase.call(b);\n                c.replace(pathValues, function(a, b) {\n                    b && params.push(+b);\n                });\n                data.push([b][concat](params));\n            });\n        }\n        data.toString = R._path2string;\n        return data;\n    });\n    // PATHS\n    var paths = function(ps) {\n        var p = paths.ps = paths.ps || {};\n        if (p[ps]) {\n            p[ps].sleep = 100;\n        } else {\n            p[ps] = {\n                sleep: 100\n            };\n        }\n        setTimeout(function() {\n            for (var key in p)\n                if (p[has](key) && key != ps) {\n                    p[key].sleep--;\n                    !p[key].sleep && delete p[key];\n                }\n        });\n        return p[ps];\n    };\n\n    /*\\\n     * Raphael.findDotsAtSegment\n     [ method ]\n     **\n     * Utility method\n     **\n     * Find dot coordinates on the given cubic bezier curve at the given t.\n     > Parameters\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     - t (number) position on the curve (0..1)\n     = (object) point information in format:\n     o {\n     o     x: (number) x coordinate of the point\n     o     y: (number) y coordinate of the point\n     o     m: {\n     o         x: (number) x coordinate of the left anchor\n     o         y: (number) y coordinate of the left anchor\n     o     }\n     o     n: {\n     o         x: (number) x coordinate of the right anchor\n     o         y: (number) y coordinate of the right anchor\n     o     }\n     o     start: {\n     o         x: (number) x coordinate of the start of the curve\n     o         y: (number) y coordinate of the start of the curve\n     o     }\n     o     end: {\n     o         x: (number) x coordinate of the end of the curve\n     o         y: (number) y coordinate of the end of the curve\n     o     }\n     o     alpha: (number) angle of the curve derivative at the point\n     o }\n    \\*/\n    R.findDotsAtSegment = function(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t,\n        t13 = pow(t1, 3),\n        t12 = pow(t1, 2),\n        t2 = t * t,\n        t3 = t2 * t,\n        x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n        y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,\n        mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),\n        my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),\n        nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),\n        ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),\n        ax = t1 * p1x + t * c1x,\n        ay = t1 * p1y + t * c1y,\n        cx = t1 * c2x + t * p2x,\n        cy = t1 * c2y + t * p2y,\n        alpha = (90 - math.atan2(mx - nx, my - ny) * 180 / PI);\n        (mx > nx || my < ny) && (alpha += 180);\n        return {\n            x: x,\n            y: y,\n            m: {\n                x: mx,\n                y: my\n            },\n            n: {\n                x: nx,\n                y: ny\n            },\n            start: {\n                x: ax,\n                y: ay\n            },\n            end: {\n                x: cx,\n                y: cy\n            },\n            alpha: alpha\n        };\n    };\n\n    /*\\\n     * Raphael.bezierBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Return bounding box of a given cubic bezier curve\n     > Parameters\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     * or\n     - bez (array) array of six points for bezier curve\n     = (object) point information in format:\n     o {\n     o     min: {\n     o         x: (number) x coordinate of the left point\n     o         y: (number) y coordinate of the top point\n     o     }\n     o     max: {\n     o         x: (number) x coordinate of the right point\n     o         y: (number) y coordinate of the bottom point\n     o     }\n     o }\n    \\*/\n    R.bezierBBox = function(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n        if (!R.is(p1x, \"array\")) {\n            p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n        }\n        var bbox = curveDim.apply(null, p1x);\n        return {\n            x: bbox.min.x,\n            y: bbox.min.y,\n            x2: bbox.max.x,\n            y2: bbox.max.y,\n            width: bbox.max.x - bbox.min.x,\n            height: bbox.max.y - bbox.min.y\n        };\n    };\n\n    /*\\\n     * Raphael.isPointInsideBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside bounding boxes.\n     > Parameters\n     - bbox (string) bounding box\n     - x (string) x coordinate of the point\n     - y (string) y coordinate of the point\n     = (boolean) `true` if point inside\n    \\*/\n    R.isPointInsideBBox = function(bbox, x, y) {\n        return x >= bbox.x && x <= bbox.x2 && y >= bbox.y && y <= bbox.y2;\n    };\n\n    /*\\\n     * Raphael.isBBoxIntersect\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if two bounding boxes intersect\n     > Parameters\n     - bbox1 (string) first bounding box\n     - bbox2 (string) second bounding box\n     = (boolean) `true` if they intersect\n    \\*/\n    R.isBBoxIntersect = function(bbox1, bbox2) {\n        var i = R.isPointInsideBBox;\n        return i(bbox2, bbox1.x, bbox1.y) ||\n            i(bbox2, bbox1.x2, bbox1.y) ||\n            i(bbox2, bbox1.x, bbox1.y2) ||\n            i(bbox2, bbox1.x2, bbox1.y2) ||\n            i(bbox1, bbox2.x, bbox2.y) ||\n            i(bbox1, bbox2.x2, bbox2.y) ||\n            i(bbox1, bbox2.x, bbox2.y2) ||\n            i(bbox1, bbox2.x2, bbox2.y2) ||\n            (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x ||\n                bbox2.x < bbox1.x2 && bbox2.x > bbox1.x) &&\n            (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n    };\n\n    function base3(t, p1, p2, p3, p4) {\n        var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n        t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n        return t * t2 - 3 * p1 + 3 * p2;\n    }\n\n    function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n        if (z == null) {\n            z = 1;\n        }\n        z = z > 1 ? 1 : z < 0 ? 0 : z;\n        var z2 = z / 2,\n        n = 12,\n        Tvalues = [-0.1252, 0.1252, -0.3678, 0.3678, -0.5873, 0.5873, -0.7699, 0.7699, -0.9041, 0.9041, -0.9816, 0.9816],\n        Cvalues = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472],\n        sum = 0;\n        for (var i = 0; i < n; i++) {\n            var ct = z2 * Tvalues[i] + z2,\n            xbase = base3(ct, x1, x2, x3, x4),\n            ybase = base3(ct, y1, y2, y3, y4),\n            comb = xbase * xbase + ybase * ybase;\n            sum += Cvalues[i] * mathSqrt(comb);\n        }\n        return z2 * sum;\n    }\n\n    function getTatLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {\n        if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {\n            return;\n        }\n        var t = 1,\n        step = t / 2,\n        t2 = t - step,\n        l,\n        e = .01;\n        l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        while (abs(l - ll) > e) {\n            step /= 2;\n            t2 += (l < ll ? 1 : -1) * step;\n            l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        }\n        return t2;\n    }\n\n    function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\n        if (\n            mmax(x1, x2) < mmin(x3, x4) ||\n            mmin(x1, x2) > mmax(x3, x4) ||\n            mmax(y1, y2) < mmin(y3, y4) ||\n            mmin(y1, y2) > mmax(y3, y4)\n            ) {\n            return;\n        }\n        var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n        ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n        denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n        if (!denominator) {\n            return;\n        }\n        var px = nx / denominator,\n        py = ny / denominator,\n        px2 = +px.toFixed(2),\n        py2 = + py.toFixed(2);\n        if (\n            px2 < +mmin(x1, x2).toFixed(2) ||\n            px2 > +mmax(x1, x2).toFixed(2) ||\n            px2 < +mmin(x3, x4).toFixed(2) ||\n            px2 > +mmax(x3, x4).toFixed(2) ||\n            py2 < +mmin(y1, y2).toFixed(2) ||\n            py2 > +mmax(y1, y2).toFixed(2) ||\n            py2 < +mmin(y3, y4).toFixed(2) ||\n            py2 > +mmax(y3, y4).toFixed(2)\n            ) {\n            return;\n        }\n        return {\n            x: px,\n            y: py\n        };\n    }\n\n    function inter(bez1, bez2) {\n        return interHelper(bez1, bez2);\n    }\n\n    function interCount(bez1, bez2) {\n        return interHelper(bez1, bez2, 1);\n    }\n\n    function interHelper(bez1, bez2, justCount) {\n        var bbox1 = R.bezierBBox(bez1),\n            bbox2 = R.bezierBBox(bez2);\n\n        if (!R.isBBoxIntersect(bbox1, bbox2)) {\n            return justCount ? 0 : [];\n        }\n        var l1 = bezlen.apply(0, bez1),\n            l2 = bezlen.apply(0, bez2),\n            n1 = mmax(~~(l1 / 5), 1),\n            n2 = mmax(~~(l2 / 5), 1),\n            dots1 = [],\n            dots2 = [],\n            xy = {},\n            res = justCount ? 0 : [];\n\n        for (var i = 0; i < n1 + 1; i++) {\n            var p = R.findDotsAtSegment.apply(R, bez1.concat(i / n1));\n            dots1.push({\n                x: p.x,\n                y: p.y,\n                t: i / n1\n            });\n        }\n        for (i = 0; i < n2 + 1; i++) {\n            p = R.findDotsAtSegment.apply(R, bez2.concat(i / n2));\n            dots2.push({\n                x: p.x,\n                y: p.y,\n                t: i / n2\n            });\n        }\n        for (i = 0; i < n1; i++) {\n            for (var j = 0; j < n2; j++) {\n                var di = dots1[i],\n                di1 = dots1[i + 1],\n                dj = dots2[j],\n                dj1 = dots2[j + 1],\n                ci = abs(di1.x - di.x) < .001 ? \"y\" : \"x\",\n                cj = abs(dj1.x - dj.x) < .001 ? \"y\" : \"x\",\n                is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n                if (is) {\n                    if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {\n                        continue;\n                    }\n                    xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                    var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n                    t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                    if (t1 >= 0 && t1 <= 1.001 && t2 >= 0 && t2 <= 1.001) {\n                        if (justCount) {\n                            res++;\n                        } else {\n                            res.push({\n                                x: is.x,\n                                y: is.y,\n                                t1: mmin(t1, 1),\n                                t2: mmin(t2, 1)\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n\n    /*\\\n     * Raphael.pathIntersection\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds intersections of two paths\n     > Parameters\n     - path1 (string) path string\n     - path2 (string) path string\n     = (array) dots of intersection\n     o [\n     o     {\n     o         x: (number) x coordinate of the point\n     o         y: (number) y coordinate of the point\n     o         t1: (number) t value for segment of path1\n     o         t2: (number) t value for segment of path2\n     o         segment1: (number) order number for segment of path1\n     o         segment2: (number) order number for segment of path2\n     o         bez1: (array) eight coordinates representing beziér curve for the segment of path1\n     o         bez2: (array) eight coordinates representing beziér curve for the segment of path2\n     o     }\n     o ]\n    \\*/\n    R.pathIntersection = function(path1, path2) {\n        return interPathHelper(path1, path2);\n    };\n    R.pathIntersectionNumber = function(path1, path2) {\n        return interPathHelper(path1, path2, 1);\n    };\n    function interPathHelper(path1, path2, justCount) {\n        path1 = R._path2curve(path1);\n        path2 = R._path2curve(path2);\n        var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n        res = justCount ? 0 : [];\n        for (var i = 0, ii = path1.length; i < ii; i++) {\n            var pi = path1[i];\n            if (pi[0] == \"M\") {\n                x1 = x1m = pi[1];\n                y1 = y1m = pi[2];\n            } else {\n                if (pi[0] == \"C\") {\n                    bez1 = [x1, y1].concat(pi.slice(1));\n                    x1 = bez1[6];\n                    y1 = bez1[7];\n                } else {\n                    bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                    x1 = x1m;\n                    y1 = y1m;\n                }\n                for (var j = 0, jj = path2.length; j < jj; j++) {\n                    var pj = path2[j];\n                    if (pj[0] == \"M\") {\n                        x2 = x2m = pj[1];\n                        y2 = y2m = pj[2];\n                    } else {\n                        if (pj[0] == \"C\") {\n                            bez2 = [x2, y2].concat(pj.slice(1));\n                            x2 = bez2[6];\n                            y2 = bez2[7];\n                        } else {\n                            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                            x2 = x2m;\n                            y2 = y2m;\n                        }\n                        var intr = interHelper(bez1, bez2, justCount);\n                        if (justCount) {\n                            res += intr;\n                        } else {\n                            for (var k = 0, kk = intr.length; k < kk; k++) {\n                                intr[k].segment1 = i;\n                                intr[k].segment2 = j;\n                                intr[k].bez1 = bez1;\n                                intr[k].bez2 = bez2;\n                            }\n                            res = res.concat(intr);\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n\n    /*\\\n     * Raphael.isPointInsidePath\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside a given closed path.\n     > Parameters\n     - path (string) path string\n     - x (number) x of the point\n     - y (number) y of the point\n     = (boolean) true, if point is inside the path\n    \\*/\n    R.isPointInsidePath = function(path, x, y) {\n        var bbox = R.pathBBox(path);\n        return R.isPointInsideBBox(bbox, x, y) &&\n        ((interPathHelper(path, [[\"M\", x, y], [\"H\", bbox.x2 + 10]], 1) % 2 == 1) ||\n        (interPathHelper(path, [[\"M\", x, y], [\"V\", bbox.y2 + 10]], 1) % 2 == 1))\n    };\n    R._removedFactory = function(methodname) {\n        return function() {\n            eve(\"raphael.log\", null, \"Rapha\\xebl: you are calling to method \\u201c\" + methodname + \"\\u201d of removed object\", methodname);\n        };\n    };\n\n    /*\\\n     * Raphael.pathBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Return bounding box of a given path\n     > Parameters\n     - path (string) path string\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box\n     o     y: (number) y coordinate of the left top point of the box\n     o     x2: (number) x coordinate of the right bottom point of the box\n     o     y2: (number) y coordinate of the right bottom point of the box\n     o     width: (number) width of the box\n     o     height: (number) height of the box\n     o     cx: (number) x coordinate of the center of the box\n     o     cy: (number) y coordinate of the center of the box\n     o }\n    \\*/\n    var pathDimensions = R.pathBBox = function(path) {\n        var pth = paths(path);\n        if (!path) {\n            return {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n                x2: 0,\n                y2: 0\n            };\n        }\n        path = path2curve(path);\n        var x = 0,\n        y = 0,\n        X = [],\n        Y = [],\n        p;\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            p = path[i];\n            if (p[0] == \"M\") {\n                x = p[1];\n                y = p[2];\n                X.push(x);\n                Y.push(y);\n            } else {\n                var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                X = X[concat](dim.min.x, dim.max.x);\n                Y = Y[concat](dim.min.y, dim.max.y);\n                x = p[5];\n                y = p[6];\n            }\n        }\n        var xmin = mmin[apply](0, X),\n        ymin = mmin[apply](0, Y),\n        xmax = mmax[apply](0, X),\n        ymax = mmax[apply](0, Y),\n        bb = {\n            x: xmin,\n            y: ymin,\n            x2: xmax,\n            y2: ymax,\n            width: xmax - xmin,\n            height: ymax - ymin\n        };\n        pth.bbox = clone(bb);\n        return bb;\n    },\n    pathClone = function(pathArray) {\n        var res = clone(pathArray);\n        res.toString = R._path2string;\n        return res;\n    },\n    pathToRelative = R._pathToRelative = function(pathArray) {\n        var pth = paths(pathArray);\n        if (pth.rel) {\n            return pathClone(pth.rel);\n        }\n        if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\n            pathArray = R.parsePathString(pathArray);\n        }\n        var res = [],\n        x = 0,\n        y = 0,\n        mx = 0,\n        my = 0,\n        start = 0;\n        if (pathArray[0][0] == \"M\") {\n            x = pathArray[0][1];\n            y = pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res.push([\"M\", x, y]);\n        }\n        for (var i = start, ii = pathArray.length; i < ii; i++) {\n            var r = res[i] = [],\n            pa = pathArray[i];\n            if (pa[0] != lowerCase.call(pa[0])) {\n                r[0] = lowerCase.call(pa[0]);\n                switch (r[0]) {\n                    case \"a\":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +(pa[6] - x).toFixed(3);\n                        r[7] = +(pa[7] - y).toFixed(3);\n                        break;\n                    case \"v\":\n                        r[1] = +(pa[1] - y).toFixed(3);\n                        break;\n                    case \"m\":\n                        mx = pa[1];\n                        my = pa[2];\n                    default:\n                        for (var j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +(pa[j] - ((j % 2) ? x : y)).toFixed(3);\n                        }\n                }\n            } else {\n                r = res[i] = [];\n                if (pa[0] == \"m\") {\n                    mx = pa[1] + x;\n                    my = pa[2] + y;\n                }\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    res[i][k] = pa[k];\n                }\n            }\n            var len = res[i].length;\n            switch (res[i][0]) {\n                case \"z\":\n                    x = mx;\n                    y = my;\n                    break;\n                case \"h\":\n                    x += +res[i][len - 1];\n                    break;\n                case \"v\":\n                    y += +res[i][len - 1];\n                    break;\n                default:\n                    x += +res[i][len - 2];\n                    y += +res[i][len - 1];\n            }\n        }\n        res.toString = R._path2string;\n        pth.rel = pathClone(res);\n        return res;\n    },\n    pathToAbsolute = R._pathToAbsolute = function(pathArray) {\n        var pth = paths(pathArray), res;\n        if (pth.abs) {\n            return pathClone(pth.abs);\n        }\n        if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\n            pathArray = R.parsePathString(pathArray);\n        }\n        if (!pathArray || !pathArray.length) {\n            res = [[\"M\", 0, 0]];\n            res.toString = R._path2string;\n            return res;\n        }\n        var x = 0,\n            y = 0,\n            mx = 0,\n            my = 0,\n            start = 0;\n        res = [];\n        if (pathArray[0][0] == \"M\") {\n            x = +pathArray[0][1];\n            y = +pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res[0] = [\"M\", x, y];\n        }\n        var crz = pathArray.length == 3 && pathArray[0][0] == \"M\" && pathArray[1][0].toUpperCase() == \"R\" && pathArray[2][0].toUpperCase() == \"Z\";\n        for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n            res.push(r = []);\n            pa = pathArray[i];\n            if (pa[0] != upperCase.call(pa[0])) {\n                r[0] = upperCase.call(pa[0]);\n                switch (r[0]) {\n                    case \"A\":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +(pa[6] + x);\n                        r[7] = +(pa[7] + y);\n                        break;\n                    case \"V\":\n                        r[1] = +pa[1] + y;\n                        break;\n                    case \"H\":\n                        r[1] = +pa[1] + x;\n                        break;\n                    case \"R\":\n                        var dots = [x, y][concat](pa.slice(1));\n                        for (var j = 2, jj = dots.length; j < jj; j++) {\n                            dots[j] = +dots[j] + x;\n                            dots[++j] = +dots[j] + y;\n                        }\n                        res.pop();\n                        res = res[concat](catmullRom2bezier(dots, crz));\n                        break;\n                    case \"M\":\n                        mx = +pa[1] + x;\n                        my = +pa[2] + y;\n                    default:\n                        for (j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +pa[j] + ((j % 2) ? x : y);\n                        }\n                }\n            } else if (pa[0] == \"R\") {\n                dots = [x, y][concat](pa.slice(1));\n                res.pop();\n                res = res[concat](catmullRom2bezier(dots, crz));\n                r = [\"R\"][concat](pa.slice(-2));\n            } else {\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    r[k] = pa[k];\n                }\n            }\n            switch (r[0]) {\n                case \"Z\":\n                    x = mx;\n                    y = my;\n                    break;\n                case \"H\":\n                    x = r[1];\n                    break;\n                case \"V\":\n                    y = r[1];\n                    break;\n                case \"M\":\n                    mx = r[r.length - 2];\n                    my = r[r.length - 1];\n                default:\n                    x = r[r.length - 2];\n                    y = r[r.length - 1];\n            }\n        }\n        res.toString = R._path2string;\n        pth.abs = pathClone(res);\n        return res;\n    },\n    l2c = function(x1, y1, x2, y2) {\n        return [x1, y1, x2, y2, x2, y2];\n    },\n    q2c = function(x1, y1, ax, ay, x2, y2) {\n        var _13 = 1 / 3,\n        _23 = 2 / 3;\n        return [\n        _13 * x1 + _23 * ax,\n        _13 * y1 + _23 * ay,\n        _13 * x2 + _23 * ax,\n        _13 * y2 + _23 * ay,\n        x2,\n        y2\n        ];\n    },\n    a2c = function(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n        // for more information of where this math came from visit:\n        // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n        var _120 = PI * 120 / 180,\n        rad = deg2rad * (+angle || 0),\n        res = [],\n        xy,\n        rotate = cacher(function(x, y, rad) {\n            var X = x * mathCos(rad) - y * mathSin(rad),\n            Y = x * mathSin(rad) + y * mathCos(rad);\n            return {\n                x: X,\n                y: Y\n            };\n        });\n        if (!recursive) {\n            xy = rotate(x1, y1, -rad);\n            x1 = xy.x;\n            y1 = xy.y;\n            xy = rotate(x2, y2, -rad);\n            x2 = xy.x;\n            y2 = xy.y;\n            var cos = mathCos(deg2rad * angle),\n            sin = mathSin(deg2rad * angle),\n            x = (x1 - x2) / 2,\n            y = (y1 - y2) / 2;\n            var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n            if (h > 1) {\n                h = mathSqrt(h);\n                rx = h * rx;\n                ry = h * ry;\n            }\n            var rx2 = rx * rx,\n            ry2 = ry * ry,\n            k = (large_arc_flag == sweep_flag ? -1 : 1) *\n            mathSqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n            cx = k * rx * y / ry + (x1 + x2) / 2,\n            cy = k * -ry * x / rx + (y1 + y2) / 2,\n            f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n            f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n            f1 = x1 < cx ? PI - f1 : f1;\n            f2 = x2 < cx ? PI - f2 : f2;\n            f1 < 0 && (f1 = PI * 2 + f1);\n            f2 < 0 && (f2 = PI * 2 + f2);\n            if (sweep_flag && f1 > f2) {\n                f1 = f1 - PI * 2;\n            }\n            if (!sweep_flag && f2 > f1) {\n                f2 = f2 - PI * 2;\n            }\n        } else {\n            f1 = recursive[0];\n            f2 = recursive[1];\n            cx = recursive[2];\n            cy = recursive[3];\n        }\n        var df = f2 - f1;\n        if (abs(df) > _120) {\n            var f2old = f2,\n            x2old = x2,\n            y2old = y2;\n            f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n            x2 = cx + rx * mathCos(f2);\n            y2 = cy + ry * mathSin(f2);\n            res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n        }\n        df = f2 - f1;\n        var c1 = mathCos(f1),\n        s1 = mathSin(f1),\n        c2 = mathCos(f2),\n        s2 = mathSin(f2),\n        t = math.tan(df / 4),\n        hx = 4 / 3 * rx * t,\n        hy = 4 / 3 * ry * t,\n        m1 = [x1, y1],\n        m2 = [x1 + hx * s1, y1 - hy * c1],\n        m3 = [x2 + hx * s2, y2 - hy * c2],\n        m4 = [x2, y2];\n        m2[0] = 2 * m1[0] - m2[0];\n        m2[1] = 2 * m1[1] - m2[1];\n        if (recursive) {\n            return [m2, m3, m4][concat](res);\n        } else {\n            res = [m2, m3, m4][concat](res).join()[split](\",\");\n            var newres = [];\n            for (var i = 0, ii = res.length; i < ii; i++) {\n                newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n            }\n            return newres;\n        }\n    },\n    findDotAtSegment = function(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t;\n        return {\n            x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,\n            y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y\n        };\n    },\n    curveDim = cacher(function(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n        var a = (c2x - 2 * c1x + p1x) - (p2x - 2 * c2x + c1x),\n        b = 2 * (c1x - p1x) - 2 * (c2x - c1x),\n        c = p1x - c1x,\n        t1 = (-b + mathSqrt(b * b - 4 * a * c)) / 2 / a,\n        t2 = (-b - mathSqrt(b * b - 4 * a * c)) / 2 / a,\n        y = [p1y, p2y],\n        x = [p1x, p2x],\n        dot;\n        abs(t1) > \"1e12\" && (t1 = .5);\n        abs(t2) > \"1e12\" && (t2 = .5);\n        if (t1 > 0 && t1 < 1) {\n            dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\n            x.push(dot.x);\n            y.push(dot.y);\n        }\n        if (t2 > 0 && t2 < 1) {\n            dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\n            x.push(dot.x);\n            y.push(dot.y);\n        }\n        a = (c2y - 2 * c1y + p1y) - (p2y - 2 * c2y + c1y);\n        b = 2 * (c1y - p1y) - 2 * (c2y - c1y);\n        c = p1y - c1y;\n        t1 = (-b + mathSqrt(b * b - 4 * a * c)) / 2 / a;\n        t2 = (-b - mathSqrt(b * b - 4 * a * c)) / 2 / a;\n        abs(t1) > \"1e12\" && (t1 = .5);\n        abs(t2) > \"1e12\" && (t2 = .5);\n        if (t1 > 0 && t1 < 1) {\n            dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\n            x.push(dot.x);\n            y.push(dot.y);\n        }\n        if (t2 > 0 && t2 < 1) {\n            dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\n            x.push(dot.x);\n            y.push(dot.y);\n        }\n        return {\n            min: {\n                x: mmin[apply](0, x),\n                y: mmin[apply](0, y)\n            },\n            max: {\n                x: mmax[apply](0, x),\n                y: mmax[apply](0, y)\n            }\n        };\n    }),\n    path2curve = R._path2curve = cacher(function(path, path2) {\n        var pth = !path2 && paths(path);\n        if (!path2 && pth.curve) {\n            return pathClone(pth.curve);\n        }\n        var p = pathToAbsolute(path),\n        p2 = path2 && pathToAbsolute(path2),\n        attrs = {\n            x: 0,\n            y: 0,\n            bx: 0,\n            by: 0,\n            X: 0,\n            Y: 0,\n            qx: null,\n            qy: null\n        },\n        attrs2 = {\n            x: 0,\n            y: 0,\n            bx: 0,\n            by: 0,\n            X: 0,\n            Y: 0,\n            qx: null,\n            qy: null\n        },\n        processPath = function(path, d) {\n            var nx, ny;\n            if (!path) {\n                return [\"C\", d.x, d.y, d.x, d.y, d.x, d.y];\n            }\n            !(path[0] in {\n                T: 1,\n                Q: 1\n            }) && (d.qx = d.qy = null);\n            switch (path[0]) {\n                case \"M\":\n                    d.X = path[1];\n                    d.Y = path[2];\n                    break;\n                case \"A\":\n                    path = [\"C\"][concat](a2c[apply](0, [d.x, d.y][concat](path.slice(1))));\n                    break;\n                case \"S\":\n                    nx = d.x + (d.x - (d.bx || d.x));\n                    ny = d.y + (d.y - (d.by || d.y));\n                    path = [\"C\", nx, ny][concat](path.slice(1));\n                    break;\n                case \"T\":\n                    d.qx = d.x + (d.x - (d.qx || d.x));\n                    d.qy = d.y + (d.y - (d.qy || d.y));\n                    path = [\"C\"][concat](q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                    break;\n                case \"Q\":\n                    d.qx = path[1];\n                    d.qy = path[2];\n                    path = [\"C\"][concat](q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                    break;\n                case \"L\":\n                    path = [\"C\"][concat](l2c(d.x, d.y, path[1], path[2]));\n                    break;\n                case \"H\":\n                    path = [\"C\"][concat](l2c(d.x, d.y, path[1], d.y));\n                    break;\n                case \"V\":\n                    path = [\"C\"][concat](l2c(d.x, d.y, d.x, path[1]));\n                    break;\n                case \"Z\":\n                    path = [\"C\"][concat](l2c(d.x, d.y, d.X, d.Y));\n                    break;\n            }\n            return path;\n        },\n        fixArc = function(pp, i) {\n            if (pp[i].length > 7) {\n                pp[i].shift();\n                var pi = pp[i];\n                while (pi.length) {\n                    pp.splice(i++, 0, [\"C\"][concat](pi.splice(0, 6)));\n                }\n                pp.splice(i, 1);\n                ii = mmax(p.length, p2 && p2.length || 0);\n            }\n        },\n        fixM = function(path1, path2, a1, a2, i) {\n            if (path1 && path2 && path1[i][0] == \"M\" && path2[i][0] != \"M\" && !i) {\n                path2.splice(i, 0, [\"M\", a2.x, a2.y]);\n                a1.bx = 0;\n                a1.by = 0;\n                a1.x = path1[i][1];\n                a1.y = path1[i][2];\n                ii = mmax(p.length, p2 && p2.length || 0);\n            }\n        };\n        for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {\n            p[i] = processPath(p[i], attrs);\n            fixArc(p, i);\n            p2 && (p2[i] = processPath(p2[i], attrs2));\n            p2 && fixArc(p2, i);\n            fixM(p, p2, attrs, attrs2, i);\n            fixM(p2, p, attrs2, attrs, i);\n            var seg = p[i],\n            seg2 = p2 && p2[i],\n            seglen = seg.length,\n            seg2len = p2 && seg2.length;\n            attrs.x = seg[seglen - 2];\n            attrs.y = seg[seglen - 1];\n            attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n            attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n            attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);\n            attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);\n            attrs2.x = p2 && seg2[seg2len - 2];\n            attrs2.y = p2 && seg2[seg2len - 1];\n        }\n        if (!p2) {\n            pth.curve = pathClone(p);\n        }\n        return p2 ? [p, p2] : p;\n    }, null, pathClone),\n    parseDots = R._parseDots = cacher(function(gradient) {\n        var dots = [];\n        for (var i = 0, ii = gradient.length; i < ii; i++) {\n            var dot = {},\n            par = gradient[i].match(/^([^:]*):?([\\d\\.]*)/);\n            dot.color = R.getRGB(par[1]);\n            if (dot.color.error) {\n                return null;\n            }\n            //store opacity information\n            dot.opacity = dot.color.opacity;\n            dot.color = dot.color.hex;\n            par[2] && (dot.offset = par[2] + \"%\");\n            dots.push(dot);\n        }\n        for (i = 1, ii = dots.length - 1; i < ii; i++) {\n            if (!dots[i].offset) {\n                var start = toFloat(dots[i - 1].offset || 0),\n                end = 0;\n                for (var j = i + 1; j < ii; j++) {\n                    if (dots[j].offset) {\n                        end = dots[j].offset;\n                        break;\n                    }\n                }\n                if (!end) {\n                    end = 100;\n                    j = ii;\n                }\n                end = toFloat(end);\n                var d = (end - start) / (j - i + 1);\n                for (; i < j; i++) {\n                    start += d;\n                    dots[i].offset = start + \"%\";\n                }\n            }\n        }\n        return dots;\n    }),\n    tear = R._tear = function(el, paper) {\n        el == paper.top && (paper.top = el.prev);\n        el == paper.bottom && (paper.bottom = el.next);\n        el.next && (el.next.prev = el.prev);\n        el.prev && (el.prev.next = el.next);\n    },\n    tofront = R._tofront = function(el, paper) {\n        if (paper.top === el) {\n            return false;\n        }\n        tear(el, paper);\n        el.next = null;\n        el.prev = paper.top;\n        paper.top.next = el;\n        paper.top = el;\n        return true;\n    },\n    toback = R._toback = function(el, paper) {\n        if (paper.bottom === el) {\n            return false;\n        }\n        tear(el, paper);\n        el.next = paper.bottom;\n        el.prev = null;\n        paper.bottom.prev = el;\n        paper.bottom = el;\n        return true;\n    },\n    insertafter = R._insertafter = function(el, el2, paper, paper2) {\n        tear(el, paper);\n        el.parent = paper2;\n        el2 === paper2.top && (paper2.top = el);\n        el2.next && (el2.next.prev = el);\n        el.next = el2.next;\n        el.prev = el2;\n        el2.next = el;\n    },\n    insertbefore = R._insertbefore = function(el, el2, paper, paper2) {\n        tear(el, paper);\n        el.parent = paper2;\n        el2 === paper2.bottom && (paper2.bottom = el);\n        el2.prev && (el2.prev.next = el);\n        el.prev = el2.prev;\n        el2.prev = el;\n        el.next = el2;\n    },\n\n        /*\\\n         * Raphael.toMatrix\n         [ method ]\n         **\n         * Utility method\n         **\n         * Returns matrix of transformations applied to a given path\n         > Parameters\n         - path (string) path string\n         - transform (string|array) transformation string\n         = (object) @Matrix\n        \\*/\n    toMatrix = R.toMatrix = function(path, transform) {\n        var bb = pathDimensions(path),\n        el = {\n            _: {\n                transform: E\n            },\n            getBBox: function() {\n                return bb;\n            }\n        };\n        extractTransform(el, transform);\n        return el.matrix;\n    },\n\n        /*\\\n         * Raphael.transformPath\n         [ method ]\n         **\n         * Utility method\n         **\n         * Returns path transformed by a given transformation\n         > Parameters\n         - path (string) path string\n         - transform (string|array) transformation string\n         = (string) path\n        \\*/\n    transformPath = R.transformPath = function(path, transform) {\n        return mapPath(path, toMatrix(path, transform));\n    },\n    extractTransform = R._extractTransform = function(el, tstr) {\n        if (tstr == null) {\n            return el._.transform;\n        }\n        tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, el._.transform || E);\n        var tdata = R.parseTransformString(tstr),\n        deg = 0,\n        dx = 0,\n        dy = 0,\n        sx = 1,\n        sy = 1,\n        _ = el._,\n        m = new Matrix;\n        _.transform = tdata || [];\n        if (tdata) {\n            for (var i = 0, ii = tdata.length; i < ii; i++) {\n                var t = tdata[i],\n                tlen = t.length,\n                command = Str(t[0]).toLowerCase(),\n                absolute = t[0] != command,\n                inver = absolute ? m.invert() : 0,\n                x1,\n                y1,\n                x2,\n                y2,\n                bb;\n                if (command == \"t\" && tlen == 3) {\n                    if (absolute) {\n                        x1 = inver.x(0, 0);\n                        y1 = inver.y(0, 0);\n                        x2 = inver.x(t[1], t[2]);\n                        y2 = inver.y(t[1], t[2]);\n                        m.translate(x2 - x1, y2 - y1);\n                    } else {\n                        m.translate(t[1], t[2]);\n                    }\n                } else if (command == \"r\") {\n                    if (tlen == 2) {\n                        bb = _.bb || (_.bb = el.getBBox(1));\n                        m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                        deg += t[1];\n                    } else if (tlen == 4) {\n                        if (absolute) {\n                            x2 = inver.x(t[2], t[3]);\n                            y2 = inver.y(t[2], t[3]);\n                            m.rotate(t[1], x2, y2);\n                        } else {\n                            m.rotate(t[1], t[2], t[3]);\n                        }\n                        deg += t[1];\n                    }\n                } else if (command == \"s\") {\n                    if (tlen == 2 || tlen == 3) {\n                        bb = _.bb || (_.bb = el.getBBox(1));\n                        m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                        sx *= t[1];\n                        sy *= t[tlen - 1];\n                    } else if (tlen == 5) {\n                        if (absolute) {\n                            x2 = inver.x(t[3], t[4]);\n                            y2 = inver.y(t[3], t[4]);\n                            m.scale(t[1], t[2], x2, y2);\n                        } else {\n                            m.scale(t[1], t[2], t[3], t[4]);\n                        }\n                        sx *= t[1];\n                        sy *= t[2];\n                    }\n                } else if (command == \"m\" && tlen == 7) {\n                    m.add(t[1], t[2], t[3], t[4], t[5], t[6]);\n                }\n                _.dirtyT = 1;\n                el.matrix = m;\n            }\n        }\n\n        /*\\\n         * Element.matrix\n         [ property (object) ]\n         **\n         * Keeps @Matrix object, which represents element transformation\n        \\*/\n        el.matrix = m;\n\n        _.sx = sx;\n        _.sy = sy;\n        _.deg = deg;\n        _.dx = dx = m.e;\n        _.dy = dy = m.f;\n\n        if (sx == 1 && sy == 1 && !deg && _.bbox) {\n            _.bbox.x += +dx;\n            _.bbox.y += +dy;\n        } else {\n            _.dirtyT = 1;\n        }\n    },\n    getEmpty = function(item) {\n        var l = item[0];\n        switch (l.toLowerCase()) {\n            case \"t\":\n                return [l, 0, 0];\n            case \"m\":\n                return [l, 1, 0, 0, 1, 0, 0];\n            case \"r\":\n                if (item.length == 4) {\n                    return [l, 0, item[2], item[3]];\n                } else {\n                    return [l, 0];\n                }\n            case \"s\":\n                if (item.length == 5) {\n                    return [l, 1, 1, item[3], item[4]];\n                } else if (item.length == 3) {\n                    return [l, 1, 1];\n                } else {\n                    return [l, 1];\n                }\n        }\n    },\n    equaliseTransform = R._equaliseTransform = function(t1, t2) {\n        t2 = Str(t2).replace(/\\.{3}|\\u2026/g, t1);\n        t1 = R.parseTransformString(t1) || [];\n        t2 = R.parseTransformString(t2) || [];\n        var maxlength = mmax(t1.length, t2.length),\n        from = [],\n        to = [],\n        i = 0, j, jj,\n        tt1, tt2;\n        for (; i < maxlength; i++) {\n            tt1 = t1[i] || getEmpty(t2[i]);\n            tt2 = t2[i] || getEmpty(tt1);\n            if ((tt1[0] != tt2[0]) ||\n                (tt1[0].toLowerCase() == \"r\" && (tt1[2] != tt2[2] || tt1[3] != tt2[3])) ||\n                (tt1[0].toLowerCase() == \"s\" && (tt1[3] != tt2[3] || tt1[4] != tt2[4]))\n                ) {\n                return;\n            }\n            from[i] = [];\n            to[i] = [];\n            for (j = 0, jj = mmax(tt1.length, tt2.length); j < jj; j++) {\n                j in tt1 && (from[i][j] = tt1[j]);\n                j in tt2 && (to[i][j] = tt2[j]);\n            }\n        }\n        return {\n            from: from,\n            to: to\n        };\n    };\n    R._getContainer = function(x, y, w, h) {\n        var container;\n        container = h == null && !R.is(x, object) ? g.doc.getElementById(x) : x;\n        if (container == null) {\n            return;\n        }\n        if (container.tagName) {\n            if (y == null) {\n                return {\n                    container: container,\n                    width: container.style.pixelWidth || container.offsetWidth,\n                    height: container.style.pixelHeight || container.offsetHeight\n                };\n            } else {\n                return {\n                    container: container,\n                    width: y,\n                    height: w\n                };\n            }\n        }\n        return {\n            container: 1,\n            x: x,\n            y: y,\n            width: w,\n            height: h\n        };\n    };\n\n    /*\\\n     * Raphael.pathToRelative\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path to relative form\n     > Parameters\n     - pathString (string|array) path string or array of segments\n     = (array) array of segments.\n    \\*/\n    R.pathToRelative = pathToRelative;\n    R._engine = {};\n\n    /*\\\n     * Raphael.path2curve\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path to a new path where all segments are cubic bezier curves.\n     > Parameters\n     - pathString (string|array) path string or array of segments\n     = (array) array of segments.\n    \\*/\n    R.path2curve = path2curve;\n\n    /*\\\n     * Raphael.matrix\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns matrix based on given parameters.\n     > Parameters\n     - a (number)\n     - b (number)\n     - c (number)\n     - d (number)\n     - e (number)\n     - f (number)\n     = (object) @Matrix\n    \\*/\n    R.matrix = function(a, b, c, d, e, f) {\n        return new Matrix(a, b, c, d, e, f);\n    };\n\n    function Matrix(a, b, c, d, e, f) {\n        if (a != null) {\n            this.a = +a;\n            this.b = +b;\n            this.c = +c;\n            this.d = +d;\n            this.e = +e;\n            this.f = +f;\n        } else {\n            this.a = 1;\n            this.b = 0;\n            this.c = 0;\n            this.d = 1;\n            this.e = 0;\n            this.f = 0;\n        }\n    }\n    (function(matrixproto) {\n\n        /*\\\n         * Matrix.add\n         [ method ]\n         **\n         * Adds given matrix to existing one.\n         > Parameters\n         - a (number)\n         - b (number)\n         - c (number)\n         - d (number)\n         - e (number)\n         - f (number)\n         or\n         - matrix (object) @Matrix\n        \\*/\n        matrixproto.add = function(a, b, c, d, e, f) {\n            var out = [[], [], []],\n            m = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]],\n            matrix = [[a, c, e], [b, d, f], [0, 0, 1]],\n            x, y, z, res;\n\n            if (a && a instanceof Matrix) {\n                matrix = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]];\n            }\n\n            for (x = 0; x < 3; x++) {\n                for (y = 0; y < 3; y++) {\n                    res = 0;\n                    for (z = 0; z < 3; z++) {\n                        res += m[x][z] * matrix[z][y];\n                    }\n                    out[x][y] = res;\n                }\n            }\n            this.a = out[0][0];\n            this.b = out[1][0];\n            this.c = out[0][1];\n            this.d = out[1][1];\n            this.e = out[0][2];\n            this.f = out[1][2];\n        };\n\n        /*\\\n         * Matrix.invert\n         [ method ]\n         **\n         * Returns inverted version of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.invert = function() {\n            var me = this,\n            x = me.a * me.d - me.b * me.c;\n            return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);\n        };\n\n        /*\\\n         * Matrix.clone\n         [ method ]\n         **\n         * Returns copy of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.clone = function() {\n            return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n        };\n\n        /*\\\n         * Matrix.translate\n         [ method ]\n         **\n         * Translate the matrix\n         > Parameters\n         - x (number)\n         - y (number)\n        \\*/\n        matrixproto.translate = function(x, y) {\n            this.add(1, 0, 0, 1, x, y);\n        };\n\n        /*\\\n         * Matrix.scale\n         [ method ]\n         **\n         * Scales the matrix\n         > Parameters\n         - x (number)\n         - y (number) #optional\n         - cx (number) #optional\n         - cy (number) #optional\n        \\*/\n        matrixproto.scale = function(x, y, cx, cy) {\n            y == null && (y = x);\n            (cx || cy) && this.add(1, 0, 0, 1, cx, cy);\n            this.add(x, 0, 0, y, 0, 0);\n            (cx || cy) && this.add(1, 0, 0, 1, -cx, -cy);\n        };\n\n        /*\\\n         * Matrix.rotate\n         [ method ]\n         **\n         * Rotates the matrix\n         > Parameters\n         - a (number)\n         - x (number)\n         - y (number)\n        \\*/\n        matrixproto.rotate = function(a, x, y) {\n            a = R.rad(a);\n            x = x || 0;\n            y = y || 0;\n            var cos = +mathCos(a).toFixed(9),\n            sin = + mathSin(a).toFixed(9);\n            this.add(cos, sin, -sin, cos, x, y);\n            this.add(1, 0, 0, 1, -x, -y);\n        };\n\n        /*\\\n         * Matrix.x\n         [ method ]\n         **\n         * Return x coordinate for given point after transformation described by the matrix. See also @Matrix.y\n         > Parameters\n         - x (number)\n         - y (number)\n         = (number) x\n        \\*/\n        matrixproto.x = function(x, y) {\n            return x * this.a + y * this.c + this.e;\n        };\n\n        /*\\\n         * Matrix.y\n         [ method ]\n         **\n         * Return y coordinate for given point after transformation described by the matrix. See also @Matrix.x\n         > Parameters\n         - x (number)\n         - y (number)\n         = (number) y\n        \\*/\n        matrixproto.y = function(x, y) {\n            return x * this.b + y * this.d + this.f;\n        };\n        matrixproto.get = function(i) {\n            return +this[Str.fromCharCode(97 + i)].toFixed(4);\n        };\n        matrixproto.toString = function() {\n            return R.svg ?\n            \"matrix(\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + \")\" :\n            [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join();\n        };\n        matrixproto.toMatrixString = function() {\n            return \"matrix(\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + \")\";\n        };\n        matrixproto.toFilter = function() {\n            return \"progid:DXImageTransform.Microsoft.Matrix(M11=\" + this.get(0) +\n            \", M12=\" + this.get(2) + \", M21=\" + this.get(1) + \", M22=\" + this.get(3) +\n            \", Dx=\" + this.get(4) + \", Dy=\" + this.get(5) + \", sizingmethod='auto expand')\";\n        };\n        matrixproto.offset = function() {\n            return [this.e.toFixed(4), this.f.toFixed(4)];\n        };\n        function norm(a) {\n            return a[0] * a[0] + a[1] * a[1];\n        }\n        function normalize(a) {\n            var mag = mathSqrt(norm(a));\n            a[0] && (a[0] /= mag);\n            a[1] && (a[1] /= mag);\n        }\n\n        /*\\\n         * Matrix.split\n         [ method ]\n         **\n         * Splits matrix into primitive transformations\n         = (object) in format:\n         o dx (number) translation by x\n         o dy (number) translation by y\n         o scalex (number) scale by x\n         o scaley (number) scale by y\n         o shear (number) shear\n         o rotate (number) rotation in deg\n         o isSimple (boolean) could it be represented via simple transformations\n        \\*/\n        matrixproto.split = function() {\n            var out = {};\n            // translation\n            out.dx = this.e;\n            out.dy = this.f;\n\n            // scale and shear\n            var row = [[this.a, this.c], [this.b, this.d]];\n            out.scalex = mathSqrt(norm(row[0]));\n            normalize(row[0]);\n\n            out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];\n            row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];\n\n            out.scaley = mathSqrt(norm(row[1]));\n            normalize(row[1]);\n            out.shear /= out.scaley;\n\n            // rotation\n            var sin = -row[0][1],\n            cos = row[1][1];\n            if (cos < 0) {\n                out.rotate = R.deg(math.acos(cos));\n                if (sin < 0) {\n                    out.rotate = 360 - out.rotate;\n                }\n            } else {\n                out.rotate = R.deg(math.asin(sin));\n            }\n\n            out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);\n            out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;\n            out.noRotation = !+out.shear.toFixed(9) && !out.rotate;\n            return out;\n        };\n\n        /*\\\n         * Matrix.toTransformString\n         [ method ]\n         **\n         * Return transform string that represents given matrix\n         = (string) transform string\n        \\*/\n        matrixproto.toTransformString = function(shorter) {\n            var s = shorter || this[split]();\n            if (s.isSimple) {\n                s.scalex = +s.scalex.toFixed(4);\n                s.scaley = +s.scaley.toFixed(4);\n                s.rotate = +s.rotate.toFixed(4);\n                return  (s.dx || s.dy ? \"t\" + [s.dx, s.dy] : E) +\n                (s.scalex != 1 || s.scaley != 1 ? \"s\" + [s.scalex, s.scaley, 0, 0] : E) +\n                (s.rotate ? \"r\" + [s.rotate, 0, 0] : E);\n            } else {\n                return \"m\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];\n            }\n        };\n    })(Matrix.prototype);\n\n    // WebKit rendering bug workaround method\n    var navigator = win.navigator,\n        version = navigator.userAgent.match(/Version\\/(.*?)\\s/) || navigator.userAgent.match(/Chrome\\/(\\d+)/);\n\n    if ((navigator.vendor == \"Apple Computer, Inc.\") && (version && version[1] < 4 || navigator.platform.slice(0, 2) == \"iP\") ||\n        (navigator.vendor == \"Google Inc.\" && version && version[1] < 8)) {\n\n        /*\\\n         * Paper.safari\n         [ method ]\n         **\n         * There is an inconvenient rendering bug in Safari (WebKit):\n         * sometimes the rendering should be forced.\n         * This method should help with dealing with this bug.\n        \\*/\n        paperproto.safari = function() {\n            var rect = this.rect(-99, -99, this.width + 99, this.height + 99).attr({\n                stroke: \"none\"\n            });\n            setTimeout(function() {\n                rect.remove();\n            });\n            return true;\n        };\n    } else {\n        paperproto.safari = fun;\n    }\n\n    var preventDefault = function() {\n        this.returnValue = false;\n    },\n    preventTouch = function() {\n        return this.originalEvent.preventDefault();\n    },\n    stopPropagation = function() {\n        this.cancelBubble = true;\n    },\n    stopTouch = function() {\n        return this.originalEvent.stopPropagation();\n    },\n    eventCopyList = {\n        stopPropagation: 'fn',\n        stopImmediatePropagation: 'fn',\n        preventDefault: 'fn',\n        type: true,\n        clientX: true,\n        clientY: true,\n        pageX: true,\n        pageY: true,\n        bubbles: true,\n        cancelable: true,\n        touches: true,\n        target: true,\n        originalTarget: true,\n        srcElement: true,\n        relatedTarget: true,\n        fromElement: true,\n        changedTouches: true,\n        layerX: true,\n        layerY: true\n    },\n    makeSelectiveCopy = function (target, source) {\n        for (let eve in eventCopyList) {\n            if (eventCopyList[eve] === 'fn') {\n                target[eve] = (function () {\n                    return function () {\n                        source[eve]();\n                    }\n                })(source);\n            } else {\n                target[eve] = source[eve];\n            }\n        }\n        target.originalEvent = source;\n    },\n    addEvent = R.addEvent = (function() {\n        if (g.doc.addEventListener) {\n            return function(obj, type, fn, element) {\n                var realName = supportsOnlyTouch && touchMap[type] || type,\n                    f;\n\n                touchMap[dragEventMap[type]] && (realName = touchMap[dragEventMap[type]]);\n\n                f = function(e) {\n                    var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n                        scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n                        target;\n                    if (supportsTouch && touchMap[has](supportsOnlyTouch ? type : dragEventMap[type])) {\n                        for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {\n                            target = e.targetTouches[i].target;\n                            if (target == obj || (target.nodeName == 'tspan' && target.parentNode == obj)) {\n                                var olde = e;\n                                e = e.targetTouches[i];\n                                e.originalEvent = olde;\n                                e.preventDefault = preventTouch;\n                                e.stopPropagation = stopTouch;\n                                break;\n                            }\n                        }\n                    }\n                    return fn.call(element, e, e.clientX + scrollX, e.clientY + scrollY);\n                };\n                obj.addEventListener(realName, f, {passive: false, capture:false});\n                return function() {\n                    obj.removeEventListener(realName, f, {passive: false, capture:false});\n                    return true;\n                };\n            };\n        } else if (g.doc.attachEvent) {\n            return function(obj, type, fn, element) {\n                var f = function(e) {\n                    e = e || g.win.event;\n                    var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n                    scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n                    x = e.clientX + scrollX,\n                    y = e.clientY + scrollY;\n                    e.preventDefault = e.preventDefault || preventDefault;\n                    e.stopPropagation = e.stopPropagation || stopPropagation;\n                    return fn.call(element, e, x, y);\n                };\n                obj.attachEvent(\"on\" + type, f);\n                var detacher = function() {\n                    obj.detachEvent(\"on\" + type, f);\n                    return true;\n                };\n                return detacher;\n            };\n        }\n    })(),\n\n    drag = [],\n\n    dragMove = function(e) {\n        var x = e.clientX,\n            y = e.clientY,\n            scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n            scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n            dragi,\n            data,\n            dummyEve = {},\n            key,\n            el,\n            j = drag.length;\n\n        while (j--) {\n            dragi = drag[j];\n            el = dragi.el;\n            if (supportsTouch && e.type === 'touchmove') {\n                var i = e.touches.length,\n                touch;\n                while (i--) {\n                    touch = e.touches[i];\n                    if (touch.identifier == el._drag.id) {\n                        x = touch.clientX;\n                        y = touch.clientY;\n                        (e.originalEvent ? e.originalEvent : e).preventDefault();\n                        break;\n                    }\n                }\n            } else {\n                e.preventDefault();\n            }\n\n            if (el.removed) {\n                continue;\n            }\n\n            if (el.dragStartFn) {\n                el.dragStartFn();\n                el.dragStartFn = undefined;\n                el.dragInfo._dragmove = true;\n            }\n\n            if (g.win.opera) {\n                var node = R._engine.getNode(el),\n                next = node.nextSibling,\n                parent = node.parentNode,\n                display = node.style.display;\n\n                parent.removeChild(node);\n\n                node.style.display = \"none\";\n                node.style.display = display;\n                next ? parent.insertBefore(node, next) : parent.appendChild(node);\n            }\n            x += scrollX;\n            y += scrollY;\n\n            //Function to copy some properties of the actual event into the dummy event \n            makeSelectiveCopy(dummyEve, e);\n\n            data = dummyEve.data = [x - el._drag.x, y - el._drag.y, x, y];\n            eve(\"raphael.drag.move.\" + el.id, dragi.move_scope || el, dummyEve, data);\n        }\n    },\n    dragUp = function(e) {\n        R.undragmove(dragMove).undragend(dragUp);\n        R.unmousemove(dragMove).unmouseup(dragUp);\n        var i = drag.length,\n            el,\n            dragi;\n\n        while (i--) {\n            dragi = drag[i];\n            el = dragi.el\n            if (!el.dragInfo._dragmove) {\n                continue;\n            } else {\n                el.dragInfo._dragmove = undefined;\n            }\n            dragi.el._drag = {};\n            eve(\"raphael.drag.end.\" + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\n        }\n        drag = [];\n    },\n\n    /*\\\n     * Raphael.el\n     [ property (object) ]\n     **\n     * You can add your own method to elements. This is usefull when you want to hack default functionality or\n     * want to wrap some common transformation or attributes in one method. In difference to canvas methods,\n     * you can redefine element method at any time. Expending element methods wouldn’t affect set.\n     > Usage\n     | Raphael.el.red = function () {\n     |     this.attr({fill: \"#f00\"});\n     | };\n     | // then use it\n     | paper.circle(100, 100, 20).red();\n    \\*/\n    elproto = R.el = {};\n\n    /*\\\n     * Element.click\n     [ method ]\n     **\n     * Adds event handler for click for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unclick\n     [ method ]\n     **\n     * Removes event handler for click for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.dblclick\n     [ method ]\n     **\n     * Adds event handler for double click for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.undblclick\n     [ method ]\n     **\n     * Removes event handler for double click for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mousedown\n     [ method ]\n     **\n     * Adds event handler for mousedown for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousedown\n     [ method ]\n     **\n     * Removes event handler for mousedown for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mousemove\n     [ method ]\n     **\n     * Adds event handler for mousemove for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousemove\n     [ method ]\n     **\n     * Removes event handler for mousemove for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mouseout\n     [ method ]\n     **\n     * Adds event handler for mouseout for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseout\n     [ method ]\n     **\n     * Removes event handler for mouseout for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mouseover\n     [ method ]\n     **\n     * Adds event handler for mouseover for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseover\n     [ method ]\n     **\n     * Removes event handler for mouseover for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mouseup\n     [ method ]\n     **\n     * Adds event handler for mouseup for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseup\n     [ method ]\n     **\n     * Removes event handler for mouseup for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchstart\n     [ method ]\n     **\n     * Adds event handler for touchstart for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchstart\n     [ method ]\n     **\n     * Removes event handler for touchstart for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchmove\n     [ method ]\n     **\n     * Adds event handler for touchmove for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchmove\n     [ method ]\n     **\n     * Removes event handler for touchmove for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchend\n     [ method ]\n     **\n     * Adds event handler for touchend for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchend\n     [ method ]\n     **\n     * Removes event handler for touchend for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchcancel\n     [ method ]\n     **\n     * Adds event handler for touchcancel for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchcancel\n     [ method ]\n     **\n     * Removes event handler for touchcancel for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    for (var i = events.length; i--; ) {\n        (function(eventName) {\n            R[eventName] = elproto[eventName] = function(fn, scope) {\n                if (R.is(fn, \"function\")) {\n                    this.events = this.events || [];\n                    this.events.push({\n                        name: eventName,\n                        f: fn,\n                        unbind: addEvent(this.shape || this.node || g.doc, eventName, fn, scope || this)\n                    });\n                }\n                return this;\n            };\n            R[\"un\" + eventName] = elproto[\"un\" + eventName] = function(fn) {\n                var events = this.events || [],\n                l = events.length;\n                while (l--)\n                    if (events[l].name == eventName && events[l].f == fn) {\n                        events[l].unbind();\n                        events.splice(l, 1);\n                        !events.length && delete this.events;\n                        return this;\n                    }\n                return this;\n            };\n        })(events[i]);\n    }\n\n    /*\\\n     * Element.data\n     [ method ]\n     **\n     * Adds or retrieves given value asociated with given key.\n     **\n     * See also @Element.removeData\n     > Parameters\n     - key (string) key to store data\n     - value (any) #optional value to store\n     = (object) @Element\n     * or, if value is not specified:\n     = (any) value\n     > Usage\n     | for (var i = 0, i < 5, i++) {\n     |     paper.circle(10 + 15 * i, 10, 10)\n     |          .attr({fill: \"#000\"})\n     |          .data(\"i\", i)\n     |          .click(function () {\n     |             alert(this.data(\"i\"));\n     |          });\n     | }\n    \\*/\n    elproto.data = function(key, value) {\n        var data = eldata[this.id] = eldata[this.id] || {};\n        if (arguments.length == 1) {\n            if (R.is(key, object)) {\n                for (var i in key)\n                    if (key[has](i)) {\n                        this.data(i, key[i]);\n                    }\n                return this;\n            }\n            eve(\"raphael.data.get.\" + this.id, this, data[key], key);\n            return data[key];\n        }\n        data[key] = value;\n        eve(\"raphael.data.set.\" + this.id, this, value, key);\n        return this;\n    };\n\n    /*\\\n     * Element.removeData\n     [ method ]\n     **\n     * Removes value associated with an element by given key.\n     * If key is not provided, removes all the data of the element.\n     > Parameters\n     - key (string) #optional key\n     = (object) @Element\n    \\*/\n    elproto.removeData = function (key) {\n        if (key == null) {\n            delete eldata[this.id];\n        } else {\n            eldata[this.id] && delete eldata[this.id][key];\n        }\n        return this;\n    };\n\n     /*\\\n     * Element.getData\n     [ method ]\n     **\n     * Retrieves the element data\n     = (object) data\n    \\*/\n    elproto.getData = function () {\n        return clone(eldata[this.id] || {});\n    };\n\n    var downables = [],\n        mouseDown = function () {\n            this.untrack = addEvent(g.doc, 'mouseup', mouseUp, this);\n        },\n        mouseUp = function () {\n            for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                args[i] = arguments[i];\n            }\n            this.untrack();\n            this.untrack = null;\n            return this.fn && this.fn.apply(this.scope || this.el, args);\n\n        };\n    elproto.mouseup = function (fn, scope, track) {\n        if (!track) {\n            for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                args[i] = arguments[i];\n            }\n            return R.mouseup.apply(this, args);\n        }\n        downables.push(track = {\n            el: this,\n            fn: fn,\n            scope: scope\n        });\n        track.unbind = addEvent(this.shape || this.node || g.doc,\n            'mousedown', mouseDown, track);\n\n        return this;\n    };\n\n    elproto.unmouseup = function (fn) {\n        var i = downables.length,\n            undowned;\n        while (i--) {\n            if (downables[i].el === this && downables[i].fn === fn) {\n                undowned = downables[i];\n                undowned.unbind();\n                undowned.untrack && undowned.untrack();\n                downables.splice(i, 1);\n            }\n        }\n        for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n            args[i] = arguments[i];\n        }\n        return undowned ? this : R.unmouseup.apply(this, args);\n    };\n\n    /*\\\n     * Element.hover\n     [ method ]\n     **\n     * Adds event handlers for hover for the element.\n     > Parameters\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     - icontext (object) #optional context for hover in handler\n     - ocontext (object) #optional context for hover out handler\n     = (object) @Element\n    \\*/\n    elproto.hover = function(f_in, f_out, scope_in, scope_out) {\n        return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);\n    };\n\n    /*\\\n     * Element.unhover\n     [ method ]\n     **\n     * Removes event handlers for hover for the element.\n     > Parameters\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     = (object) @Element\n    \\*/\n    elproto.unhover = function(f_in, f_out) {\n        return this.unmouseover(f_in).unmouseout(f_out);\n    };\n    var draggable = [];\n\n    /*\\\n     * Element.drag\n     [ method ]\n     **\n     * Adds event handlers for drag of the element.\n     > Parameters\n     - onmove (function) handler for moving\n     - onstart (function) handler for drag start\n     - onend (function) handler for drag end\n     - mcontext (object) #optional context for moving handler\n     - scontext (object) #optional context for drag start handler\n     - econtext (object) #optional context for drag end handler\n     * Additionaly following `drag` events will be triggered: `drag.start.<id>` on start,\n     * `drag.end.<id>` on end and `drag.move.<id>` on every move. When element will be dragged over another element\n     * `drag.over.<id>` will be fired as well.\n     *\n     * Start event and start handler will be called in specified context or in context of the element with following parameters:\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * Move event and move handler will be called in specified context or in context of the element with following parameters:\n     o dx (number) shift by x from the start point\n     o dy (number) shift by y from the start point\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * End event and end handler will be called in specified context or in context of the element with following parameters:\n     o event (object) DOM event object\n     = (object) @Element\n    \\*/\n    elproto.drag = function(onmove, onstart, onend, move_scope, start_scope, end_scope) {\n        var dragInfo = this.dragInfo || (this.dragInfo = {\n            // Store all the callbacks for various eventListeners on the same element\n            onmove: [],\n            onstart: [],\n            onend: [],\n            move_scope: [],\n            start_scope: [],\n            end_scope: []\n        });\n        onmove && (dragInfo.onmove.push(onmove));\n        onstart && (dragInfo.onstart.push(onstart));\n        onend && (dragInfo.onend.push(onend));\n        // Scopes are not stored as when called via element.on, there is no provision for provifing scope\n\n        this.dragFn = this.dragFn || function (e) {\n            var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n                scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n                key,\n                dummyEve = {},\n                data,\n                i,\n                j,\n                k,\n                ii,\n                jj,\n                kk,\n                dragInfo = this.dragInfo;\n\n            this._drag.x = e.clientX + scrollX;\n            this._drag.y = e.clientY + scrollY;\n            this._drag.id = e.identifier;\n\n            // Add the drag events for the browsers that doesn't fire mouse event on touch and drag\n            if (supportsTouch && !supportsOnlyTouch) {\n                !drag.length && R.dragmove(dragMove).dragend(dragUp);\n            }\n            !drag.length && R.mousemove(dragMove).mouseup(dragUp);\n\n\n            drag.push({\n                el: this,\n                move_scope: move_scope,\n                start_scope: start_scope,\n                end_scope: end_scope\n            });\n\n            //Function to copy some properties of the actual event into the dummy event \n            makeSelectiveCopy(dummyEve, e);\n\n            data = dummyEve.data = [e.clientX + scrollX, e.clientY + scrollY];\n            \n            // Attaching handlers for various events\n            for (i = 0, ii = dragInfo.onstart.length; i < ii; i ++) {\n                eve.on(\"raphael.drag.start.\" + this.id, dragInfo.onstart[i]);\n            }\n\n            for (j = 0, jj = dragInfo.onmove.length; j < jj; j ++) {\n                eve.on(\"raphael.drag.move.\" + this.id, dragInfo.onmove[j]);\n            }\n\n            for (k = 0, kk = dragInfo.onend.length; k < kk; k ++) {\n                eve.on(\"raphael.drag.end.\" + this.id, dragInfo.onend[k]);\n            }\n\n            // Where there is no dragStart but there is dragEnd or dragMove handler\n            if (!ii && (jj || kk) ) {\n                eve.on(\"raphael.drag.end.\" + this.id, function() {\n                    this.undragmove();\n                });\n            }\n\n            // Queuing up the dragStartFn. It is fired if dragmove is fired after dragStart\n            this.dragStartFn = function () {\n                eve(\"raphael.drag.start.\" + this.id, drag.start_scope || drag.move_scope ||\n                    this, dummyEve, data);\n            }\n        }\n        this._drag = {};\n        draggable.push({\n            el: this,\n            start: this.dragFn,\n            onstart: onstart,\n            onmove: onmove,\n            onend: onend\n        });\n\n        if (onstart && !this.startHandlerAttached) {\n            // Add the drag events for the browsers that doesn't fire mouse event on touch and drag\n            if (supportsTouch && !supportsOnlyTouch) {\n                this.dragstart(this.dragFn);\n            }\n            this.mousedown(this.dragFn);\n            this.startHandlerAttached = true;\n        }\n\n        return this;\n    };\n\n    /*\\\n     * Element.onDragOver\n     [ method ]\n     **\n     * Shortcut for assigning event handler for `drag.over.<id>` event, where id is id of the element (see @Element.id).\n     > Parameters\n     - f (function) handler for event, first argument would be the element you are dragging over\n    \\*/\n    elproto.onDragOver = function(f) {\n        f ? eve.on(\"raphael.drag.over.\" + this.id, f) : eve.unbind(\"raphael.drag.over.\" + this.id);\n    };\n\n    /*\\\n     * Element.undrag\n     [ method ]\n     **\n     * Removes all drag event handlers from given element.\n    \\*/\n    elproto.undrag = function() {\n        var i = draggable.length;\n        while (i--) {\n            if (draggable[i].el == this) {\n                this.unmousedown(draggable[i].start);\n                draggable.splice(i, 1);\n                eve.unbind(\"raphael.drag.*.\" + this.id);\n                this.dragInfo = undefined;\n                this.dragFn = undefined;\n                this.startHandlerAttached = undefined;\n            }\n        }\n\n        !draggable.length && R.unmousemove(dragMove).unmouseup(dragUp);\n        delete this._drag;\n    };\n\n    /*\\\n     * Element.undragmove\n     [ method ]\n     **\n     * Removes all dragmove event handlers from given element.\n    \\*/\n    elproto.undragmove = function() {\n        var i = draggable.length;\n        while (i--) {\n            if (draggable[i].el == this && draggable[i].onmove) {\n                draggable.splice(i, 1);\n                eve.unbind(\"raphael.drag.move.\" + this.id);\n                this.dragInfo.onmove = undefined;\n            }\n        }\n\n        !draggable.length && R.unmousemove(dragMove).unmouseup(dragUp);\n    };\n\n    /*\\\n     * Element.undragend\n     [ method ]\n     **\n     * Removes all dragend event handlers from given element.\n    \\*/\n    elproto.undragend = function() {\n        var i = draggable.length;\n        while (i--) {\n            if (draggable[i].el == this && draggable[i].onend) {\n                draggable.splice(i, 1);\n                eve.unbind(\"raphael.drag.end.\" + this.id);\n                this.dragInfo.onend = undefined;\n            }\n        }\n\n        !draggable.length && R.unmousemove(dragMove).unmouseup(dragUp);\n    };\n\n    /*\\\n     * Element.undragstart\n     [ method ]\n     **\n     * Removes all dragstart event handlers from given element.\n    \\*/\n    elproto.undragstart = function() {\n        var i = draggable.length;\n        while (i--) {\n            if (draggable[i].el == this && draggable[i].onstart) {\n                this.unmousedown(draggable[i].start);\n                draggable.splice(i, 1);\n                eve.unbind(\"raphael.drag.start.\" + this.id);\n                this._dragstart = false;\n                this.dragInfo.onstart = undefined;\n                this.dragFn = undefined;\n            }\n        }\n\n        !draggable.length && R.unmousemove(dragMove).unmouseup(dragUp);\n    };\n\n    elproto.follow = function(el, callback, stalk) {\n        if (el.removed || el.constructor !== R.el.constructor) {\n            return this;\n        }\n        el.followers.push({\n            el: this,\n            stalk: (stalk = {before: 'insertBefore', after: 'insertAfter'}[stalk]),\n            cb: callback\n        });\n\n        stalk && this[stalk](el);\n        return this;\n    };\n\n    elproto.unfollow = function(el) {\n        if (el.removed || el.constructor !== R.el.constructor) {\n            return this;\n        }\n        for (var i = 0, ii = el.followers.length; i < ii; i++) {\n            if (el.followers[i].el === this) {\n                el.followers.splice(i, 1);\n                break;\n            }\n        }\n        return this;\n    };\n\n    /*\\\n     * Paper.hide\n     [ method ]\n     **\n     * Hides a paper\n     **\n     > Usage\n     | paper.hide();\n    \\*/\n    paperproto.hide = function () {\n        var paper = this;\n        paper.canvas.style.visibility = \"hidden\";\n        return paper;\n    };\n\n    /*\\\n     * Paper.show\n     [ method ]\n     **\n     * Shows a hidden paper\n     **\n     > Usage\n     | paper.show();\n    \\*/\n    paperproto.show = function () {\n        var paper = this;\n        paper.canvas.style.visibility = E;\n        return paper;\n    };\n\n    /*\\\n     * Paper.group\n     [ method ]\n     **\n     * Creates a group\n     **\n     > Parameters\n     **\n     - id (number) id of the group\n     = (object) Raphaël element object with type “group”\n     **\n     > Usage\n     | var g = paper.group();\n    \\*/\n    paperproto.group = function () { // id\n        for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n            args[i] = arguments[i];\n        }\n        var paper = this,\n            group = lastArgIfGroup(args, true),\n            out = R._engine.group(paper, args[0], group);\n        return (paper.__set__ && paper.__set__.push(out), (paper._elementsById[out.id] = out));\n    };\n\n    /*\\\n     * Paper.circle\n     [ method ]\n     **\n     * Draws a circle.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - r (number) radius\n     = (object) Raphaël element object with type “circle”\n     **\n     > Usage\n     | var c = paper.circle(50, 50, 40);\n    \\*/\n    paperproto.circle = function () { // x, y, r\n        for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n            args[i] = arguments[i];\n        }\n        var paper = this,\n            group = lastArgIfGroup(args, true),\n            attrs = serializeArgs(args,\n                \"cx\", 0,\n                \"cy\", 0,\n                \"r\", 0,\n                \"fill\", none,\n                \"stroke\", black),\n            out = R._engine.circle(paper, attrs, group);\n\n        return (paper.__set__ && paper.__set__.push(out), (paper._elementsById[out.id] = out));\n    };\n\n\n    /*\\\n     * Paper.rect\n     [ method ]\n     *\n     * Draws a rectangle.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the top left corner\n     - y (number) y coordinate of the top left corner\n     - width (number) width\n     - height (number) height\n     - r (number) #optional radius for rounded corners, default is 0\n     = (object) Raphaël element object with type “rect”\n     **\n     > Usage\n     | // regular rectangle\n     | var c = paper.rect(10, 10, 50, 50);\n     | // rectangle with rounded corners\n     | var c = paper.rect(40, 40, 50, 50, 10);\n    \\*/\n    paperproto.rect = function () {\n        for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n            args[i] = arguments[i];\n        }\n        var paper = this,\n            group = lastArgIfGroup(args, true),\n            attrs = serializeArgs(args,\n                \"x\", 0,\n                \"y\", 0,\n                \"width\", 0,\n                \"height\", 0,\n                \"r\", 0,\n                \"fill\", none,\n                \"stroke\", black),\n            out = R._engine.rect(paper, attrs, group);\n\n        return (paper.__set__ && paper.__set__.push(out), (paper._elementsById[out.id] = out));\n    };\n\n    /*\\\n     * Paper.ellipse\n     [ method ]\n     **\n     * Draws an ellipse.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - rx (number) horizontal radius\n     - ry (number) vertical radius\n     = (object) Raphaël element object with type “ellipse”\n     **\n     > Usage\n     | var c = paper.ellipse(50, 50, 40, 20);\n    \\*/\n    paperproto.ellipse = function () {\n        for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n            args[i] = arguments[i];\n        }\n        var paper = this,\n            group = lastArgIfGroup(args, true),\n            attrs = serializeArgs(args,\n                \"x\", 0,\n                \"y\", 0,\n                \"rx\", 0,\n                \"ry\", 0,\n                \"fill\", none,\n                \"stroke\", black),\n            out = R._engine.ellipse(this, attrs, group);\n\n        return (paper.__set__ && paper.__set__.push(out), (paper._elementsById[out.id] = out));\n    };\n\n    /*\\\n     * Paper.path\n     [ method ]\n     **\n     * Creates a path element by given path data string.\n     > Parameters\n     - pathString (string) #optional path string in SVG format.\n     * Path string consists of one-letter commands, followed by comma seprarated arguments in numercal form. Example:\n     | \"M10,20L30,40\"\n     * Here we can see two commands: “M”, with arguments `(10, 20)` and “L” with arguments `(30, 40)`. Upper case letter mean command is absolute, lower case—relative.\n     *\n     # <p>Here is short list of commands available, for more details see <a href=\"http://www.w3.org/TR/SVG/paths.html#PathData\" title=\"Details of a path's data attribute's format are described in the SVG specification.\">SVG path string format</a>.</p>\n     # <table><thead><tr><th>Command</th><th>Name</th><th>Parameters</th></tr></thead><tbody>\n     # <tr><td>M</td><td>moveto</td><td>(x y)+</td></tr>\n     # <tr><td>Z</td><td>closepath</td><td>(none)</td></tr>\n     # <tr><td>L</td><td>lineto</td><td>(x y)+</td></tr>\n     # <tr><td>H</td><td>horizontal lineto</td><td>x+</td></tr>\n     # <tr><td>V</td><td>vertical lineto</td><td>y+</td></tr>\n     # <tr><td>C</td><td>curveto</td><td>(x1 y1 x2 y2 x y)+</td></tr>\n     # <tr><td>S</td><td>smooth curveto</td><td>(x2 y2 x y)+</td></tr>\n     # <tr><td>Q</td><td>quadratic Bézier curveto</td><td>(x1 y1 x y)+</td></tr>\n     # <tr><td>T</td><td>smooth quadratic Bézier curveto</td><td>(x y)+</td></tr>\n     # <tr><td>A</td><td>elliptical arc</td><td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td></tr>\n     # <tr><td>R</td><td><a href=\"http://en.wikipedia.org/wiki/Catmull–Rom_spline#Catmull.E2.80.93Rom_spline\">Catmull-Rom curveto</a>*</td><td>x1 y1 (x y)+</td></tr></tbody></table>\n     * * “Catmull-Rom curveto” is a not standard SVG command and added in 2.0 to make life easier.\n     * Note: there is a special case when path consist of just three commands: “M10,10R…z”. In this case path will smoothly connects to its beginning.\n     > Usage\n     | var c = paper.path(\"M10 10L90 90\");\n     | // draw a diagonal line:\n     | // move to 10,10, line to 90,90\n     * For example of path strings, check out these icons: http://raphaeljs.com/icons/\n    \\*/\n    paperproto.path = function () {\n        for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n            args[i] = arguments[i];\n        }\n        var paper = this,\n            group = lastArgIfGroup(args, true),\n            paperConfig = paper.config,\n            capStyle = (paperConfig && paperConfig[\"stroke-linecap\"]) || \"butt\",\n            attrs = serializeArgs(args,\n                \"path\", E,\n                \"fill\", none,\n                \"stroke\", black,\n                \"stroke-linecap\", capStyle),\n            out = R._engine.path(paper, attrs, group);\n        return (paper.__set__ && paper.__set__.push(out), (paper._elementsById[out.id] = out));\n    };\n\n    /*\\\n     * Paper.image\n     [ method ]\n     **\n     * Embeds an image into the surface.\n     **\n     > Parameters\n     **\n     - src (string) URI of the source image\n     - x (number) x coordinate position\n     - y (number) y coordinate position\n     - width (number) width of the image\n     - height (number) height of the image\n     = (object) Raphaël element object with type “image”\n     **\n     > Usage\n     | var c = paper.image(\"apple.png\", 10, 10, 80, 80);\n    \\*/\n    paperproto.image = function () {\n        for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n            args[i] = arguments[i];\n        }\n        var paper = this,\n            group = lastArgIfGroup(args, true),\n            attrs = serializeArgs(args,\n                // \"src\", \"\",\n                \"x\", 0,\n                \"y\", 0,\n                \"width\", 0,\n                \"height\", 0),\n            out = R._engine.image(paper, attrs, group);\n        return (paper.__set__ && paper.__set__.push(out), (paper._elementsById[out.id] = out));\n    };\n\n    /*\\\n     * Paper.text\n     [ method ]\n     **\n     * Draws a text string. If you need line breaks, put “\\n” in the string.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate position\n     - y (number) y coordinate position\n     - text (string) The text string to draw\n     = (object) Raphaël element object with type “text”\n     **\n     > Usage\n     | var t = paper.text(50, 50, \"Raphaël\\nkicks\\nbutt!\");\n    \\*/\n    paperproto.text = function() {\n        for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n            args[i] = arguments[i];\n        }\n        var paper = this,\n            group = lastArgIfGroup(args, true),\n            attrs = serializeArgs(args,\n                \"x\", 0,\n                \"y\", 0,\n                \"text\", E,\n                \"stroke\", none,\n                \"fill\", black,\n                \"text-anchor\", \"middle\",\n                \"vertical-align\", \"middle\"),\n\n            out = R._engine.text(paper, attrs, group, args[1]);\n        return (paper.__set__ && paper.__set__.push(out), (paper._elementsById[out.id] = out));\n    };\n\n    /*\\\n     * Paper.setConfig\n     [ method ]\n     **\n     * If you need to store any configuration in paper, call this method\n     **\n     > Parameters\n     **\n     - key (String) key name of the key-value pair\n     - value (String or number) value of the key-value pair\n    \\*/\n    paperproto.setConfig = function (key, value) {\n        var paper = this;\n\n        if ((key !== undefined) && (value !== undefined)) {\n\n            paper.config = paper.config || {};\n            paper.config[key] = value;\n        }\n        return paper.config;\n    };\n\n    /*\\\n     * Paper._createDOMNodes\n     [ method ]\n     **\n     * Create DOM nodes with nested children\n     **\n     > Parameters\n     **\n     - parentElem (object) parent element node\n     - elemObj (object) nested input object to create elements\n     - returnObj (object) object reference which will be returned\n     **\n     > Usage\n     | paper._createDOMNodes(parentElementNode, {\n     |       tagName: 'filter',\n     |       id: 'filter-0',\n     |       width: '200%',\n     |       height: '200%',\n     |       children: [{\n     |           tagName: 'feOffset',\n     |           result: 'offOut',\n     |           in: 'SourceGraphic',\n     |           dx: '1',\n     |           dy: '1'\n     |       }, {\n     |           tagName: 'feColorMatrix',\n     |           result: 'matrixOut',\n     |           in: 'offOut',\n     |           type: 'matrix',\n     |           values: '0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0'\n     |       }, {\n     |           tagName: 'feGaussianBlur',\n     |           result: 'blurOut',\n     |           in: 'matrixOut',\n     |           stdDeviation: '1'\n     |       }, {\n     |           tagName: 'feComposite',\n     |           in: 'SourceGraphic',\n     |           in2: 'blurOut',\n     |           operator: 'over'\n     |       }]\n     |   });\n    \\*/\n    paperproto._createDOMNodes = function(parentElem, elementObj, returnObj) {\n        var paper = this,\n            ele,\n            i,\n            len,\n            attr = {},\n            attrKey,\n            createNode = R._createNode,\n            tagName = elementObj.tagName,\n            children = elementObj.children || [];\n        !returnObj && (returnObj = {});\n        for (attrKey in elementObj) {\n            if (attrKey !== 'tagName' && attrKey !== 'children') {\n                attr[attrKey] = elementObj[attrKey];\n            }\n        }\n\n        !attr.id && (attr.id = R.getElementID(R.createUUID()));\n\n        if (!paper.canvas.getElementById(attr.id) && tagName) {\n            ele = parentElem.appendChild(createNode(tagName, attr));\n            returnObj.element = ele;\n            returnObj.id = attr.id;\n            len = children.length;\n            (len > 0) && (returnObj.children = []);\n            for (i = 0; i < len; i++) {\n                returnObj.children[i] = {};\n                paper._createDOMNodes(ele, children[i], returnObj.children[i]);\n            }\n        }\n        return returnObj;\n    };\n\n    /*\\\n     * Paper.addDefs\n     [ method ]\n     **\n     * Add definitions in paper\n     **\n     > Parameters\n     **\n     - elemObj (object) nested input object to create elements\n     **\n     > Usage\n     | var ob = paper.addDefs({\n     |   filter0: { // key\n     |       tagName: 'filter',\n     |       id: 'filter-0',\n     |       width: '200%',\n     |       height: '200%',\n     |       children: [{\n     |           tagName: 'feOffset',\n     |           result: 'offOut',\n     |           in: 'SourceGraphic',\n     |           dx: '1',\n     |           dy: '1'\n     |       }, {\n     |           tagName: 'feColorMatrix',\n     |           result: 'matrixOut',\n     |           in: 'offOut',\n     |           type: 'matrix',\n     |           values: '0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0'\n     |       }, {\n     |           tagName: 'feGaussianBlur',\n     |           result: 'blurOut',\n     |           in: 'matrixOut',\n     |           stdDeviation: '1'\n     |       }, {\n     |           tagName: 'feComposite',\n     |           in: 'SourceGraphic',\n     |           in2: 'blurOut',\n     |           operator: 'over'\n     |       }]\n     |   }\n     | });\n     | // Creates a 'filter' definition element of id, 'filter-0', with width, height as it's attributes\n     | // Creates feOffset, feColorMatrix, feGaussianBlur, feComposite as children elements\n     | // under the 'filter' definition element\n    \\*/\n    paperproto.addDefs = function (elemObj) {\n        if (!R.svg) {\n            return;\n        }\n        var paper = this,\n            key,\n            returnObj = {},\n            defs = paper.defs;\n\n        for (key in elemObj) {\n            returnObj[key] = {};\n            paper._createDOMNodes(defs, elemObj[key], returnObj[key]);\n        }\n        return returnObj;\n    };\n\n    /*\\\n     * Paper.removeDefs\n     [ method ]\n     **\n     * Remove a particular definition of given id from paper\n     **\n     > Parameters\n     **\n     - id (string) id of the element to remove\n     **\n     > Usage\n     | paper.removeDefs(id);\n    \\*/\n    paperproto.removeDefs = function (id) {\n        if (!R.svg) {\n            return;\n        }\n        var element = R._g.doc.getElementById(id);\n        element && element.remove();\n    };\n\n    /*\\\n     * Paper.updateDefs\n     [ method ]\n     **\n     * Update definitions in paper\n     **\n     > Parameters\n     **\n     - id (string or object) id of the element or the element node itself\n     - attrObj (object) attribute of the element object with it's children attributes nested\n     - hardUpdateChildren (boolean) determines whether to create new children if child elements are less than\n       the children in attrObj or remove children in same manner\n     **\n     > Usage\n     | paper.updateDefs(id, {\n     |      width: '100%',\n     |      height: '100%',\n     |      children: [{\n     |          dx: '2'\n     |      }]\n     |   }, true);\n     | // Updates element of given id\n     | // Updates the child element if present and create new child if found less than the children in attrObj\n     | // and delete a child in same manner according to value of 'hardUpdateChildren'\n    \\*/\n    paperproto.updateDefs = function (id, attrObj, hardUpdateChildren) {\n        if (!R.svg) {\n            return;\n        }\n        var paper = this,\n            element = !(id instanceof Node) ? R._g.doc.getElementById(id) : id,\n            attrKey,\n            i,\n            diff,\n            len,\n            children = attrObj.children || [],\n            elemChildren,\n            childId,\n            attr = {};\n\n        (hardUpdateChildren === undefined) && (hardUpdateChildren = true);\n\n        if (element) {\n            for (attrKey in attrObj) {\n                if (attrKey !== 'tagName' && attrKey !== 'children') {\n                    element.setAttribute(attrKey, attrObj[attrKey]);\n                }\n            }\n            elemChildren = element.children;\n            for (i = 0, len = children.length; i < len; i++) {\n                childId = children[i].id;\n                elemChildren[i] ? paper.updateDefs(childId || elemChildren[i], children[i]) :\n                    hardUpdateChildren && paper._createDOMNodes(element, children[i]);\n            }\n            if (hardUpdateChildren) {\n                diff = elemChildren.length - i;\n                while (diff > 0) {\n                    elemChildren[elemChildren.length - 1].remove();\n                    diff--;\n                }\n            }\n        }\n    };\n\n    /*\\\n     * Paper.setSize\n     [ method ]\n     **\n     * If you need to change dimensions of the canvas call this method\n     **\n     > Parameters\n     **\n     - width (number) new width of the canvas\n     - height (number) new height of the canvas\n    \\*/\n    paperproto.setSize = function(width, height) {\n        return R._engine.setSize.call(this, width, height);\n    };\n\n    /*\\\n     * paper.setDimension\n     [ method ]\n     **\n     * If you need to change dimensions of the canvas call this method\n     **\n     > Parameters\n     **\n     - paramsObj (Object or number)\n        - paramsObj (Object)\n        **\n        > Properties of paramsObj\n        - width (number) new width of the canvas\n        - height (number) new height of the canvas\n        **\n        - paramsObj (number) new width of the canvas\n        **\n     - height (number) new height of the canvas\n    \\*/\n    paperproto.setDimension = function(paramsObj, height) {\n        var paper = this,\n            width;\n        // Check if the first argument is an object or not\n        if (typeof(paramsObj) === 'object') {\n            width = paramsObj.width;\n            height = paramsObj.height;\n            paper.setSize(paramsObj.width, paramsObj.height);\n        }\n        else {\n            width = paramsObj;\n            paper.setSize(width, height);\n        }\n    };\n\n    paperproto.attr = function (name) {\n        var element = this;\n        if (name == null) {\n            return {\n                width : element.width,\n                height : element.height\n            };\n        }\n        if (R.is(name, \"string\")) {\n            return element[name];\n        }\n\n        element.setDimension(name);\n        return element;\n    };\n\n    paperproto.status = function(anim, value) {\n        return elproto.status.call(this, anim, value);\n    };\n\n    // Works exactly as paper.animateWith()\n    paperproto.animateWith = function(el, anim, params, ms, easing, callback, configObject) {\n        return elproto.animateWith.call(this, el, anim, params, ms, easing, callback, configObject);\n    };\n\n    /*\\\n     * Paper.animate\n     [ method ]\n     **\n     * If you need to animate dimensions of the canvas call this method\n     **\n     > Parameters\n     **\n     - paramsObj (Object)\n        > Properties of paramsObj\n        **\n        - width (number) new width of the canvas\n        - height (number) new height of the canvas\n     - duration (number) time stretch in milliseconds to complete animation\n     - effect (String) animation style\n     - callback (function reference) method which will execute at end of animation\n    \\*/\n    paperproto.animate = function(params, ms, easing, callback) {\n        return elproto.animate.call(this, params, ms, easing, callback);\n    };\n\n    /*\\\n     * Paper.setViewBox\n     [ method ]\n     **\n     * Sets the view box of the paper. Practically it gives you ability to zoom and pan whole paper surface by\n     * specifying new boundaries.\n     **\n     > Parameters\n     **\n     - x (number) new x position, default is `0`\n     - y (number) new y position, default is `0`\n     - w (number) new width of the canvas\n     - h (number) new height of the canvas\n     - fit (boolean) `true` if you want graphics to fit into new boundary box\n    \\*/\n    paperproto.setViewBox = function(x, y, w, h, fit) {\n        return R._engine.setViewBox.call(this, x, y, w, h, fit);\n    };\n\n    paperproto.getById = function (id) {\n        return this._elementsById[id] || null;\n    };\n\n    /*\\\n     * Paper.top\n     [ property ]\n     **\n     * Points to the topmost element on the paper\n    \\*/\n    /*\\\n     * Paper.bottom\n     [ property ]\n     **\n     * Points to the bottom element on the paper\n    \\*/\n    paperproto.top = paperproto.bottom = null;\n\n    /*\\\n     * Paper.raphael\n     [ property ]\n     **\n     * Points to the @Raphael object/function\n    \\*/\n    paperproto.raphael = R;\n\n    function x_y() {\n        return this.x + S + this.y;\n    };\n    function x_y_w_h() {\n        return this.x + S + this.y + S + this.width + \" \\xd7 \" + this.height;\n    };\n\n    /*\\\n     * Element.getBBox\n     [ method ]\n     **\n     * Return bounding box for a given element\n     **\n     > Parameters\n     **\n     - isWithoutTransform (boolean) flag, `true` if you want to have bounding box before transformations. Default is `false`.\n     = (object) Bounding box object:\n     o {\n     o     x: (number) top left corner x\n     o     y: (number) top left corner y\n     o     x2: (number) bottom right corner x\n     o     y2: (number) bottom right corner y\n     o     width: (number) width\n     o     height: (number) height\n     o }\n    \\*/\n    elproto.getBBox = function(isWithoutTransform) {\n        if (this.removed) {\n            return {};\n        }\n        var _ = this._;\n        if (isWithoutTransform) {\n            if (_.dirty || !_.bboxwt) {\n                this.realPath = getPath[this.type](this);\n                _.bboxwt = pathDimensions(this.realPath);\n                _.bboxwt.toString = x_y_w_h;\n                _.dirty = 0;\n            }\n            return _.bboxwt;\n        }\n        if (_.dirty || _.dirtyT || !_.bbox) {\n            if (_.dirty || !this.realPath) {\n                _.bboxwt = 0;\n                this.realPath = getPath[this.type](this);\n            }\n            _.bbox = pathDimensions(mapPath(this.realPath, this.matrix));\n            _.bbox.toString = x_y_w_h;\n            _.dirty = _.dirtyT = 0;\n        }\n        return _.bbox;\n    };\n\n    /*\\\n     * Element.clone\n     [ method ]\n     **\n     = (object) clone of a given element\n     **\n    \\*/\n    // elproto.clone = function() {\n    //     if (this.removed) {\n    //         return null;\n    //     }\n    //     var o = this,\n    //         out = o.paper[o.type]().attr(o.attr());\n    //     o.__set__ && o.__set__.push(out);\n    //     return out;\n    // };\n\n    /*\\\n     * Element.clone\n     [ method ]\n     **\n      > Parameters\n     **\n     - attrObj (object) set of attributes\n     - group (object) parent node\n     = (object) clone of a given element\n     **\n    \\*/\n    elproto.clone = function(attrObj, group) {\n        if (this.removed) {\n            return null;\n        }\n        var o = this,\n            attr = o.attr(),\n            key,\n            out;\n\n        if (!attrObj) {\n            out = o.paper[o.type]().attr(attr);\n        } else {\n            for (key in attrObj) {\n                attr[key] = attrObj[key];\n            }\n            out = o.paper[o.type](attr, group);\n        }\n        o.__set__ && o.__set__.push(out);\n        return out;\n    };\n\n    var curveslengths = {},\n    getPointAtSegmentLength = function(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {\n        if (length == null) {\n            return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);\n        } else {\n            return R.findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, getTatLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));\n        }\n    },\n    getLengthFactory = function(istotal, subpath) {\n        return function(path, length, onlystart) {\n            path = path2curve(path);\n            var x, y, p, l, sp = \"\", subpaths = {}, point,\n            len = 0;\n            for (var i = 0, ii = path.length; i < ii; i++) {\n                p = path[i];\n                if (p[0] == \"M\") {\n                    x = +p[1];\n                    y = +p[2];\n                } else {\n                    l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                    if (len + l > length) {\n                        if (subpath && !subpaths.start) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            sp += [\"C\" + point.start.x, point.start.y, point.m.x, point.m.y, point.x, point.y];\n                            if (onlystart) {\n                                return sp;\n                            }\n                            subpaths.start = sp;\n                            sp = [\"M\" + point.x, point.y + \"C\" + point.n.x, point.n.y, point.end.x, point.end.y, p[5], p[6]].join();\n                            len += l;\n                            x = +p[5];\n                            y = +p[6];\n                            continue;\n                        }\n                        if (!istotal && !subpath) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            return {\n                                x: point.x,\n                                y: point.y,\n                                alpha: point.alpha\n                            };\n                        }\n                    }\n                    len += l;\n                    x = +p[5];\n                    y = +p[6];\n                }\n                sp += p.shift() + p;\n            }\n            subpaths.end = sp;\n            point = istotal ? len : subpath ? subpaths : R.findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);\n            point.alpha && (point = {\n                x: point.x,\n                y: point.y,\n                alpha: point.alpha\n            });\n            return point;\n        };\n    },\n    getTotalLength = getLengthFactory(1),\n    getPointAtLength = getLengthFactory(),\n    getSubpathsAtLength = getLengthFactory(0, 1);\n\n    R.getTotalLength = getTotalLength;\n\n    R.getPointAtLength = getPointAtLength;\n\n    R.getSubpath = function(path, from, to) {\n        if (this.getTotalLength(path) - to < 1e-6) {\n            return getSubpathsAtLength(path, from).end;\n        }\n        var a = getSubpathsAtLength(path, to, 1);\n        return from ? getSubpathsAtLength(a, from).end : a;\n    };\n\n    /*\\\n     * Raphael.getTotalLength\n     [ method ]\n     **\n     * Returns length of the given path in pixels.\n     **\n     > Parameters\n     **\n     - path (string) SVG path string.\n     **\n     = (number) length.\n    \\*/\n    elproto.getTotalLength = function() {\n        if (this.type != \"path\") {\n            return;\n        }\n        if (this.node.getTotalLength) {\n            return this.node.getTotalLength();\n        }\n        return getTotalLength(this.attrs.path);\n    };\n\n    /*\\\n     * Raphael.getPointAtLength\n     [ method ]\n     **\n     * Return coordinates of the point located at the given length on the given path.\n     **\n     > Parameters\n     **\n     - path (string) SVG path string\n     - length (number)\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate\n     o     y: (number) y coordinate\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    elproto.getPointAtLength = function(length) {\n        if (this.type != \"path\") {\n            return;\n        }\n        return getPointAtLength(this.attrs.path, length);\n    };\n\n    /*\\\n     * Raphael.getSubpath\n     [ method ]\n     **\n     * Return subpath of a given path from given length to given length.\n     **\n     > Parameters\n     **\n     - path (string) SVG path string\n     - from (number) position of the start of the segment\n     - to (number) position of the end of the segment\n     **\n     = (string) pathstring for the segment\n    \\*/\n    elproto.getSubpath = function(from, to) {\n        if (this.type != \"path\") {\n            return;\n        }\n        return R.getSubpath(this.attrs.path, from, to);\n    };\n\n    /*\\\n     * Raphael.easing_formulas\n     [ property ]\n     **\n     * Object that contains easing formulas for animation. You could extend it with your own. By default it has following list of easing:\n     # <ul>\n     #     <li>“linear”</li>\n     #     <li>“&lt;” or “easeIn” or “ease-in”</li>\n     #     <li>“>” or “easeOut” or “ease-out”</li>\n     #     <li>“&lt;>” or “easeInOut” or “ease-in-out”</li>\n     #     <li>“backIn” or “back-in”</li>\n     #     <li>“backOut” or “back-out”</li>\n     #     <li>“elastic”</li>\n     #     <li>“bounce”</li>\n     # </ul>\n     # <p>See also <a href=\"http://raphaeljs.com/easing.html\">Easing demo</a>.</p>\n    \\*/\n    var ef = R.easing_formulas = {\n        linear: function(n) {\n            return n;\n        },\n        \"<\": function(n) {\n            return pow(n, 1.7);\n        },\n        \">\": function(n) {\n            return pow(n, .48);\n        },\n        \"<>\": function(n) {\n            var q = .48 - n / 1.04,\n            Q = mathSqrt(.1734 + q * q),\n            x = Q - q,\n            X = pow(abs(x), 1 / 3) * (x < 0 ? -1 : 1),\n            y = -Q - q,\n            Y = pow(abs(y), 1 / 3) * (y < 0 ? -1 : 1),\n            t = X + Y + .5;\n            return (1 - t) * 3 * t * t + t * t * t;\n        },\n        backIn: function(n) {\n            var s = 1.70158;\n            return n * n * ((s + 1) * n - s);\n        },\n        backOut: function(n) {\n            n = n - 1;\n            var s = 1.70158;\n            return n * n * ((s + 1) * n + s) + 1;\n        },\n        elastic: function(n) {\n            if (n == !!n) {\n                return n;\n            }\n            return pow(2, -10 * n) * mathSin((n - .075) * (2 * PI) / .3) + 1;\n        },\n        bounce: function(n) {\n            var s = 7.5625,\n            p = 2.75,\n            l;\n            if (n < (1 / p)) {\n                l = s * n * n;\n            } else {\n                if (n < (2 / p)) {\n                    n -= (1.5 / p);\n                    l = s * n * n + .75;\n                } else {\n                    if (n < (2.5 / p)) {\n                        n -= (2.25 / p);\n                        l = s * n * n + .9375;\n                    } else {\n                        n -= (2.625 / p);\n                        l = s * n * n + .984375;\n                    }\n                }\n            }\n            return l;\n        },\n        // used in line chart anchor animation\n        oneBounceOut: function (n) {\n            var top = 120;\n            if (n <= 0.9) {\n                return ef.easeIn(n) * 1.33;\n            }\n            return 1.2 - n / 5;\n        },\n        // Used in translating bubble plots\n        elasticOnce: function(n) {\n            var p = 0.9;\n            if (n == !!n) {\n                return n;\n            }\n            return Math.pow(2, -10 * n) * Math.sin((n - p / 4) * (2 * Math.PI) / p) + 1;\n        },\n        // accelerating from zero velocity\n        easeInQuad: function (t) { return t*t },\n        // decelerating to zero velocity\n        easeOutQuad: function (t) { return t*(2-t) },\n        // acceleration until halfway, then deceleration\n        easeInOutQuad: function (t) { return t<.5 ? 2*t*t : -1+(4-2*t)*t },\n        // accelerating from zero velocity\n        easeInCubic: function (t) { return t*t*t },\n        // decelerating to zero velocity\n        easeOutCubic: function (t) { return (--t)*t*t+1 },\n        // acceleration until halfway, then deceleration\n        easeInOutCubic: function (t) { return t<.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1 },\n        // accelerating from zero velocity\n        easeInQuart: function (t) { return t*t*t*t },\n        // decelerating to zero velocity\n        easeOutQuart: function (t) { return 1-(--t)*t*t*t },\n        // acceleration until halfway, then deceleration\n        easeInOutQuart: function (t) { return t<.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t },\n        // accelerating from zero velocity\n        easeInQuint: function (t) { return t*t*t*t*t },\n        // decelerating to zero velocity\n        easeOutQuint: function (t) { return 1+(--t)*t*t*t*t },\n        // acceleration until halfway, then deceleration\n        easeInOutQuint: function (t) { return t<.5 ? 16*t*t*t*t*t : 1+16*(--t)*t*t*t*t }\n    };\n    ef.easeIn = ef[\"ease-in\"] = ef[\"<\"];\n    ef.easeOut = ef[\"ease-out\"] = ef[\">\"];\n    ef.easeInOut = ef[\"ease-in-out\"] = ef[\"<>\"];\n    ef[\"back-in\"] = ef.backIn;\n    ef[\"back-out\"] = ef.backOut;\n\n    var animationElements = [],\n    requestAnimFrame,\n    // This a temporary fix so that animation can be handled from the scheduler module.\n    animation = function() {\n        var Now = +new Date,\n            l = 0,\n            deqArr = [],\n            i = 0,\n            ll = 0,\n            tmpOpacity,\n            radial,\n            animFrameFn;\n\n        for (; l < animationElements.length; l++) {\n            var e = animationElements[l];\n            if (e.el.removed || e.paused || e.parentEl && e.parentEl.e && e.parentEl.e.paused) {\n                continue;\n            }\n            var time = Now - e.start,\n            ms = e.ms,\n            easing = e.easing,\n            from = e.from,\n            diff = e.diff,\n            to = e.to,\n            t = e.t,\n            that = e.el,\n            set = {},\n            now,\n            origms,\n            init = {},\n            executeEvent = !R.stopPartialEventPropagation,\n            key,\n            i = 0,\n            peekVal = e.el && e.el.animElements &&\n                e.el.animElements.peek();\n            // Checking hooks\n            while (peekVal && peekVal.pos <= time / ms) {\n                deqArr.push(e.el.animElements.deq());\n                peekVal = e.el.animElements.peek();\n            }\n            if (e.initstatus) {\n                time = (e.initstatus * e.anim.top - e.prev) / (e.percent - e.prev) * ms;\n                e.status = e.initstatus;\n                delete e.initstatus;\n                if (e.stop) {\n                    delete e.el;\n                    animationElements.splice(l--, 1);\n                }\n            } else {\n                e.status = (e.prev + (e.percent - e.prev) * (time / ms)) / e.anim.top;\n            }\n            origms = ms;\n            // If has parentEl\n            if (e.parentEl && e.parentEl.animElements) {\n                ms = e.delayend - e.delaystart;\n                time = e.parentEl.cPos - e.delaystart;\n            } else if (e.el.animElements) {\n                e.el.cPos = time / ms;\n            }\n            if (time < 0) {\n                continue;\n            }\n            if (time < ms) {\n                var pos = easing(time / ms);\n                ms = origms;\n                for (var attr in from)\n                    if (from[has](attr)) {\n                        switch (availableAnimAttrs[attr]) {\n                            case nu:\n                                now = +from[attr] + pos * ms * diff[attr];\n                                break;\n                            case \"colour\":\n                                    if (!diff[attr].length) {\n                                        tmpOpacity = (from[attr].opacity + pos * ms * diff[attr].opacity);\n                                        if(isNaN(tmpOpacity)){\n                                            tmpOpacity = 1;\n                                        }\n                                        now = \"rgba(\" + [\n                                            upto255(round(from[attr].r + pos * ms * diff[attr].r)),\n                                            upto255(round(from[attr].g + pos * ms * diff[attr].g)),\n                                            upto255(round(from[attr].b + pos * ms * diff[attr].b)),\n                                            tmpOpacity\n                                        ].join(\",\") + \")\";\n                                    } else {\n                                        now = [];\n                                        for (i = 0, ii = from[attr].length; i < ii; ++i) {\n                                            if (i === 0) {\n                                                if(from[attr].isRadial || diff[attr].isRadial){\n                                                    radial = \"xr(\";\n                                                    radial += from[attr][0].f1 * (1 - pos) + diff[attr][0].f1 * pos || '';\n                                                    radial += ',';\n                                                    radial += from[attr][0].f2 * (1 - pos) + diff[attr][0].f2 * pos || '';\n                                                    radial += ',';\n                                                    radial += (from[attr][0].f3 * (1 - pos) + diff[attr][0].f3 * pos) * 100 || '';\n                                                    radial += '%,';\n                                                    radial += from[attr][0].f4 * (1 - pos) + diff[attr][0].f4 * pos || '';\n                                                    radial += ',';\n                                                    radial += from[attr][0].f5 * (1 - pos) + diff[attr][0].f5 * pos;\n                                                    radial += ',';\n                                                    radial += from[attr][0].f6;\n                                                    radial += ')';\n                                                    now.push(radial)\n                                                } else {\n                                                    now.push((from[attr][i] * (1 - pos)) + (pos * diff[attr][i]));\n                                                    if (now[0] <= 0) {\n                                                        now[0] += 360;\n                                                    }\n                                                }\n                                            } else {\n                                                now.push(\"rgba(\" + [\n                                                    upto255(round(from[attr][i].r + pos * ms * diff[attr][i].r)),\n                                                    upto255(round(from[attr][i].g + pos * ms * diff[attr][i].g)),\n                                                    upto255(round(from[attr][i].b + pos * ms * diff[attr][i].b)),\n                                                    (from[attr][i].opacity + pos * ms * diff[attr][i].opacity)\n                                                ].join(\",\") + \"):\" + from[attr][i].position);\n                                            }\n                                        }\n                                        now = now.join(\"-\");\n                                        // If radial focus doesnt have a separator\n                                        if(from[attr].isRadial || diff[attr].isRadial){\n                                            now = now.replace('-', '');\n                                        }\n                                    }\n                                    break;\n                                case \"path\":\n                                    now = [];\n                                    for (var i = 0, ii = from[attr].length; i < ii; i++) {\n                                        now[i] = [from[attr][i][0]];\n                                        var jj;\n                                        jj = from[attr][i] ? from[attr][i].length : 0;\n                                        for (var j = 1  ; j < jj; j++) {\n                                            now[i][j] = (+from[attr][i][j] + pos * ms * diff[attr][i][j]).toFixed(4);\n                                        }\n                                        now[i] = now[i].join(S);\n                                    }\n                                    now = now.join(S);\n                                    break;\n                                case \"transform\":\n                                if (diff[attr].real) {\n                                    now = [];\n                                    for (i = 0, ii = from[attr].length; i < ii; i++) {\n                                        now[i] = [from[attr][i][0]];\n                                        for (j = 1, jj = from[attr][i].length; j < jj; j++) {\n                                            now[i][j] = from[attr][i][j] + pos * ms * diff[attr][i][j];\n                                        }\n                                    }\n                                } else {\n                                    var get = function(i) {\n                                        return +from[attr][i] + pos * ms * diff[attr][i];\n                                    };\n                                    // now = [[\"r\", get(2), 0, 0], [\"t\", get(3), get(4)], [\"s\", get(0), get(1), 0, 0]];\n                                    now = [[\"m\", get(0), get(1), get(2), get(3), get(4), get(5)]];\n                                }\n                                break;\n                            case \"csv\":\n                                if (attr == \"clip-rect\") {\n                                    now = [];\n                                    i = 4;\n                                    while (i--) {\n                                        now[i] = +from[attr][i] + pos * ms * diff[attr][i];\n                                    }\n                                }\n                                break;\n                            case \"text-bound\":\n                                now = [][concat](from[attr]);\n                                break;\n                            default:\n                                var from2 = [][concat](from[attr]);\n                                now = [];\n                                i = that.ca[attr].length;\n                                while (i--) {\n                                    now[i] = +from2[i] + pos * ms * diff[attr][i];\n                                }\n                                break;\n                        }\n                        set[attr] = now;\n                    }\n                that.attr(set);\n                if (executeEvent) {\n                    (function(id, that, anim) {\n                        setTimeout(function() {\n                            eve(\"raphael.anim.frame.\" + id, that, anim);\n                        });\n                    })(that.id, that, e.anim);\n                }\n            } else {\n                (function(f, el, a) {\n                    setTimeout(function() {\n                        executeEvent && eve(\"raphael.anim.frame.\" + el.id, el, a);\n                        executeEvent && eve(\"raphael.anim.finish.\" + el.id, el, a);\n                        R.is(f, \"function\") && f.call(el);\n                    });\n                })(e.callback, that, e.anim);\n\n                that.attr(to);\n                delete e.el;\n                animationElements.splice(l--, 1);\n                if (e.repeat > 1 && !e.next) {\n                    for (key in to)\n                        if (to[has](key)) {\n                            init[key] = e.totalOrigin[key];\n                        }\n                    e.el.attr(init);\n                    runAnimation(e.anim, e.el, e.anim.percents[0], null, e.totalOrigin, e.repeat - 1);\n                }\n                if (e.next && !e.stop) {\n                    runAnimation(e.anim, e.el, e.next, null, e.totalOrigin, e.repeat);\n                }\n            }\n        }\n        R.svg && that && that.paper && that.paper.safari();\n\n         // Starting animation on timer 0\n        for (l = 0, ll = deqArr.length; l < ll; ++l) {\n            // lib.schedular.addJob((function (l) {\n            //     return function ()  {\n            //         runAnimation.apply(null, deqArr[l].params);\n            //     };\n            // })(l), lib.priorityList.instant);\n            animFrameFn = R.getInstantAnimFrameFn();\n            animFrameFn((function (l) {\n                return function ()  {\n                    runAnimation.apply(null, deqArr[l].params);\n                };\n            })(l));\n        }\n\n        animationElements.length && (requestAnimFrame || R.getAnimFrameFn())(animation);\n    },\n    upto255 = function(color) {\n        return color > 255 ? 255 : color < 0 ? 0 : color;\n    },\n    checkPercentage = function (num) {\n        num > 1 && (num = 1);\n        num < 0 && (num = 0);\n        return num;\n    };\n\n    R.getAnimFrameFn = function () {\n        return requestAnimFrame = R.requestAnimFrame ||\n        _win.webkitRequestAnimationFrame ||\n        _win.mozRequestAnimationFrame ||\n        _win.oRequestAnimationFrame ||\n        _win.msRequestAnimationFrame ||\n        function(callback) {\n            setTimeout(callback, 16);\n        };\n    };\n\n    R.getInstantAnimFrameFn = function () {\n        return R.instantRequestAnimFrame ||\n        _win.webkitRequestAnimationFrame ||\n        _win.mozRequestAnimationFrame ||\n        _win.oRequestAnimationFrame ||\n        _win.msRequestAnimationFrame ||\n        function(callback) {\n            setTimeout(callback, 16);\n        };\n    };\n\n    /*\\\n     * Element.animateWith\n     [ method ]\n     **\n     * Acts similar to @Element.animate, but ensure that given animation runs in sync with another given element.\n     **\n     > Parameters\n     **\n     - el (object) element to sync with\n     - anim (object) animation to sync with\n     - params (object) #optional final attributes for the element, see also @Element.attr\n     - ms (number) #optional number of milliseconds for animation to run\n     - easing (string) #optional easing type. Accept on of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\n     - callback (function) #optional callback function. Will be called at the end of animation.\n     - configObject (object) #optional takes an object with optional properties like\n        start(what percentage to start aniation), end(what percentage to end animation), hookFn(function\n        to be called before applying animation), smartMorph(whether to use smartMorphing in path animation)\n     * or\n     - element (object) element to sync with\n     - anim (object) animation to sync with\n     - animation (object) #optional animation object, see @Raphael.animation\n     **\n     = (object) original element\n    \\*/\n    elproto.animateWith = function(el, anim, params, ms, easing, callback, configObject) {\n        var element = this,\n            refOb = {},\n            key;\n        // Copying the reference object\n        configObject = configObject || {};\n        for (key in configObject) {\n            if (configObject.hasOwnProperty(key)) {\n                refOb[key] = configObject[key];\n            }\n        }\n        configObject = refOb;\n        if (element.removed) {\n            callback && callback.call(element);\n            return element;\n        }\n        if (ms == 0) {\n            if (R.is(callback, \"function\")) {\n                setTimeout(function () {\n                    callback.call(element);\n                }, 0);\n            }\n            return element.attr (params);\n        }\n        var a = params instanceof Animation ? params : R.animation(params, ms, easing, callback),\n        x, y;\n        configObject.start = checkPercentage(configObject.start || 0);\n        configObject.end = checkPercentage(configObject.end || 1);\n        if (configObject.start >= configObject.end){\n            configObject.start = configObject.end;\n        }\n\n        if (!configObject.from && configObject.start > 0.01) {\n            // Initializing new Priority Queue if not present already\n            el.animElements = el.animElements || new PriorityQueue(function comparator (a, b) {\n                return b.pos - a.pos;\n            });\n            el.animElements.enq({\n                pos: configObject.start,\n                attr: configObject.start === configObject.end,\n                params: [a, element, a.percents[0], null, element.attr(),undefined, el, {\n                    start: configObject.start,\n                    end: configObject.end,\n                    smartMorph: configObject.smartMorph,\n                    hookFn: configObject.hookFn\n                }, params],\n                executeOb: {\n                    el: this,\n                    attrs: params,\n                    callback: callback,\n                    hookFn: configObject.hookFn\n                }\n            });\n        } else {\n            runAnimation(a, element, a.percents[0], null, element.attr(),undefined, el, configObject);\n        }\n        for (var i = 0, ii = animationElements.length; i < ii; i++) {\n            if (animationElements[i].anim == anim && animationElements[i].el == el) {\n                animationElements[ii - 1].start = animationElements[i].start;\n                break;\n            }\n        }\n        return element;\n    // var a = params ? R.animation(params, ms, easing, callback) : anim,\n    //     status = element.status(anim);\n    // return this.animate(a).status(a, status * anim.ms / a.ms);\n    };\n    function CubicBezierAtTime(t, p1x, p1y, p2x, p2y, duration) {\n        var cx = 3 * p1x,\n        bx = 3 * (p2x - p1x) - cx,\n        ax = 1 - cx - bx,\n        cy = 3 * p1y,\n        by = 3 * (p2y - p1y) - cy,\n        ay = 1 - cy - by;\n        function sampleCurveX(t) {\n            return ((ax * t + bx) * t + cx) * t;\n        }\n        function solve(x, epsilon) {\n            var t = solveCurveX(x, epsilon);\n            return ((ay * t + by) * t + cy) * t;\n        }\n        function solveCurveX(x, epsilon) {\n            var t0, t1, t2, x2, d2, i;\n            for (t2 = x, i = 0; i < 8; i++) {\n                x2 = sampleCurveX(t2) - x;\n                if (abs(x2) < epsilon) {\n                    return t2;\n                }\n                d2 = (3 * ax * t2 + 2 * bx) * t2 + cx;\n                if (abs(d2) < 1e-6) {\n                    break;\n                }\n                t2 = t2 - x2 / d2;\n            }\n            t0 = 0;\n            t1 = 1;\n            t2 = x;\n            if (t2 < t0) {\n                return t0;\n            }\n            if (t2 > t1) {\n                return t1;\n            }\n            while (t0 < t1) {\n                x2 = sampleCurveX(t2);\n                if (abs(x2 - x) < epsilon) {\n                    return t2;\n                }\n                if (x > x2) {\n                    t0 = t2;\n                } else {\n                    t1 = t2;\n                }\n                t2 = (t1 - t0) / 2 + t0;\n            }\n            return t2;\n        }\n        return solve(t, 1 / (200 * duration));\n    }\n    elproto.onAnimation = function(f) {\n        f ? eve.on(\"raphael.anim.frame.\" + this.id, f) : eve.unbind(\"raphael.anim.frame.\" + this.id);\n        return this;\n    };\n    function Animation(anim, ms) {\n        var percents = [],\n        newAnim = {};\n        this.ms = ms;\n        this.times = 1;\n        if (anim) {\n            for (var attr in anim)\n                if (anim[has](attr)) {\n                    newAnim[toFloat(attr)] = anim[attr];\n                    percents.push(toFloat(attr));\n                }\n            percents.sort(sortByNumber);\n        }\n        this.anim = newAnim;\n        this.top = percents[percents.length - 1];\n        this.percents = percents;\n    }\n\n    /*\\\n     * Animation.delay\n     [ method ]\n     **\n     * Creates a copy of existing animation object with given delay.\n     **\n     > Parameters\n     **\n     - delay (number) number of ms to pass between animation start and actual animation\n     **\n     = (object) new altered Animation object\n     | var anim = Raphael.animation({cx: 10, cy: 20}, 2e3);\n     | circle1.animate(anim); // run the given animation immediately\n     | circle2.animate(anim.delay(500)); // run the given animation after 500 ms\n    \\*/\n    Animation.prototype.delay = function(delay) {\n        var a = new Animation(this.anim, this.ms);\n        a.times = this.times;\n        a.del = +delay || 0;\n        return a;\n    };\n\n    /*\\\n     * Animation.repeat\n     [ method ]\n     **\n     * Creates a copy of existing animation object with given repetition.\n     **\n     > Parameters\n     **\n     - repeat (number) number iterations of animation. For infinite animation pass `Infinity`\n     **\n     = (object) new altered Animation object\n    \\*/\n    Animation.prototype.repeat = function(times) {\n        var a = new Animation(this.anim, this.ms);\n        a.del = this.del;\n        a.times = math.floor(mmax(times, 0)) || 1;\n        return a;\n    };\n\n    /*\n    ** Function to convert two color string in array format such that\n    ** it is animatabale\n    ** @param {string} c1 color 1\n    ** @param {string} c2 color 2\n    ** @param {function} function to getRGB\n    */\n    function colorNormalizer(c1, c2, getRGB) {\n        \"use strict\";\n        var colorAr1,\n            colorAr2,\n            i = 0,\n            ii = 0,\n            j = 0,\n            newColArr = [],\n            newColArr2 = [],\n            temp = {},\n            pos = 0,\n            uniqArr = [];\n\n        c1 = c1.constructor === Array ? c1[0]: c1;\n        c2 = c2.constructor === Array ? c2[0]: c2;\n\n        colorAr1 = c1.split('-');\n        colorAr2 = c2.split('-');\n\n        if (colorAr1.length === 1 && colorAr2.length === 1) {\n            return [c1, c2];\n        }\n        // Convert colors to linear format, and mark if any of them is radial\n        // linear to radial animation is not correct\n        colorAr1 = allToLinear(colorAr1);\n        colorAr2 = allToLinear(colorAr2);\n\n        // Handling if default color was added to one\n        // and not other\n        if (!colorAr1.defaultAngleSet && colorAr2.defaultAngleSet) {\n            colorAr2[0] = colorAr1[0];\n        }\n\n        if (!colorAr2.defaultAngleSet && colorAr1.defaultAngleSet) {\n            colorAr1[0] = colorAr2[0];\n        }\n\n        // If one is radial convert both to radial\n        converToRadialIfOneRadial(colorAr1, colorAr2);\n        /* Making a unique array to store all unique\n            color positions of both color so that new color\n            can be generated that have same amount of positions\n            added */\n        for(i = 1, ii = colorAr1.length; i < ii; ++i){\n            pos = colorAr1[i].position;\n            // if(uniqArr.indexOf(pos) === -1){\n                uniqArr.push(pos);\n            // }\n        }\n        for(i = 1, ii = colorAr2.length; i < ii; ++i){\n            pos = colorAr2[i].position;\n            if(uniqArr.indexOf(pos) === -1){\n                uniqArr.push(pos);\n            }\n        }\n        uniqArr.push(0);\n        // sort the positions\n        uniqArr.sort(function(a,b){return a - b});\n        // generating new colors from the existing colors\n        newColArr = [colorAr1[0]];\n        for (i = 1, ii = uniqArr.length; i < ii; ++i) {\n            pos = uniqArr[i];\n            temp = colorAr1.getColorAtPosition(pos);\n            newColArr.push(temp);\n        }\n        newColArr2 = [colorAr2[0]];\n        for (i = 1, ii = uniqArr.length; i < ii; ++i) {\n            pos = uniqArr[i];\n            temp = colorAr2.getColorAtPosition(pos);\n            newColArr2.push(temp);\n        }\n\n        // copying isRadial property\n        newColArr.isRadial = colorAr1.isRadial;\n        newColArr2.isRadial = colorAr2.isRadial;\n        return [newColArr, newColArr2];\n        // Getting all unique points\n\n        function converToRadialIfOneRadial(a, b, end){\n            var angle = 0;\n            if(a.isRadial && !b.isRadial){\n                angle += +b[0];\n                b[0] = {\n                    f1: 0,\n                    f2: 0,\n                    f3: 0,\n                    f4: 0,\n                    f5: 0,\n                    f6: ''\n                }\n                b.isRadial = true;\n            }\n\n            if(!end){\n                converToRadialIfOneRadial(b, a, true);\n            }\n        }\n        // Function to convert color to array in linear format\n        // and mark if any one of them is radial\n        function allToLinear(arr) {\n            var i = 0,\n                ii = 0,\n                j = 0,\n                item = {},\n                temp = [],\n                temp2 = {},\n                key,\n                prevVal = 0,\n                lastVal = 0,\n                counter = 0,\n                rPos = 0,\n                openBrPos = 0,\n                closedBrPos = 0,\n                radial = {\n                    f1 : 0.5,\n                    f2 : 0.5\n                };\n\n            // Solid color operation\n            if (arr.length === 1) {\n                if(arr[0] === \"none\"){\n                    arr[0] = \"rgba(0,0,0,0)\";\n                }\n                // Push angle zero to start\n                arr.unshift(0);\n                // Mentioning that a default angle was added\n                arr.defaultAngleSet = true;\n            }\n\n            // Convert angle to number\n            if (isNaN(arr[0])) {\n                // Check if is radial\n                if(~\"rx\".indexOf(arr[0].charAt(0))){\n                    arr.isRadial = true;\n\n                    rPos = 1;\n                    // check if focus if provided\n                    // otherwise use default focus\n                    if(arr[0].indexOf(')') !== -1){\n                        rPos = arr[0].indexOf(')');\n                        openBrPos = arr[0].indexOf('(') + 1;\n                        closedBrPos = rPos;\n                        temp = arr[0].substr(openBrPos, closedBrPos - openBrPos).split(',');\n                        radial.f1 = parseFloat(temp[0]) || 0;\n                        radial.f2 = parseFloat(temp[1]) || 0;\n                        if (~temp[2].indexOf('%')) {\n                            temp[2] = parseFloat(temp[2]) / 100;\n                        }\n                        radial.f3 = parseFloat(temp[2]) || 0;\n                        radial.f4 = parseFloat(temp[3]) || 0;\n                        radial.f5 = parseFloat(temp[4]) || 0;\n                        radial.f6 = temp[5];\n                    }\n                    arr[0] = arr[0].substr(closedBrPos + 1);\n                    arr.unshift(radial);\n\n                } else {\n                    arr[0] = 0;\n                }\n            } else {\n                arr[0] = +arr[0];\n            }\n\n            for (i = 1, ii = arr.length; i < ii; ++i) {\n                temp = arr[i].split(\":\");\n                // conver first element to rgb object and store\n                temp2 = getRGB(temp[0]);\n                arr[i] = {};\n                arr[i].r = temp2.r;\n                arr[i].g = temp2.g;\n                arr[i].b = temp2.b;\n                arr[i].opacity = temp2.opacity;\n                // if opacity not present set  to 1\n                arr[i].opacity = +arr[i].opacity;\n                if (isNaN(arr[i].opacity)) {\n                    arr[i].opacity = 1;\n                }\n                // set the position\n                arr[i].position = +temp[1];\n            }\n\n            // Sorting array according to position\n            // angle and radial focus should be elemnt 0\n            arr.sort(function(a, b) {\n                if (typeof a === \"number\" || a.f1) {\n                    return -1;\n                }\n                if (typeof b === \"number\" || a.f2) {\n                    return 1;\n                }\n                if (isNaN(a.position) && isNaN(b.position)) {\n                    return 0;\n                }\n                if (isNaN(a.position)) {\n                    return -1;\n                }\n                if (isNaN(b.position)) {\n                    return 1;\n                }\n                return a.position - b.position;\n            });\n\n            // If first position is not zero\n            // add new color with position zero\n            if (+arr[1].position !== 0) {\n                if (isNaN(arr[1].position)) {\n                    arr[1].position = 0;\n                } else {\n                    temp2 = {};\n                    for (key in arr[1]) {\n                        temp2[key] = arr[1][key];\n                    }\n                    temp2.position = 0;\n                    // Shifting array to add current object\n                    // in position 1\n                    arr.push({});\n                    for (i = arr.length - 1; i !== 1; --i) {\n                        arr[i] = arr[i - 1];\n                    }\n                    arr[1] = temp2;\n                }\n            }\n            // index to last position\n            ii = arr.length - 1;\n            // If last position is not 100\n            // add new color with position 100\n            if (arr[ii].position !== 100) {\n                if (isNaN(arr[ii].position)) {\n                    arr[ii].position = 100;\n                } else {\n                    temp2 = {};\n                    for (key in arr[ii]) {\n                        temp2[key] = arr[ii][key];\n                    }\n                    temp2.position = 100;\n                    // Shifting array to add current object\n                    // in position 1\n                    arr.push(temp2);\n                }\n            }\n\n            // Filling correct position value whereever NaN found\n            for (i = 2, ii = arr.length; i < ii; ++i) {\n                if (!(arr[i].position)) {\n                    prevVal = arr[i - 1].position;\n                    counter = 1;\n                    for (j = i + 1; j < ii; ++j) {\n                        ++counter;\n                        if (!isNaN(arr[j].position)) {\n                            lastVal = +arr[j].position;\n                            break;\n                        }\n                    }\n                    arr[i].position = prevVal + ((lastVal - prevVal) / counter);\n                }\n            }\n\n            arr.getColorAtPosition = function(pos) {\n                var prevPos = -1,\n                    nextPos = this.length,\n                    i = 1,\n                    ii = this.length,\n                    item = {},\n                    colPrev,\n                    colNext,\n                    ratio = 0,\n                    key = \"\",\n                    col = { r: 0, g: 0, b: 0 };\n\n                // Critical section; check again\n                for (; i < ii - 1; ++i) {\n                    if (this[i].position <= pos) {\n                        prevPos = i;\n                        nextPos = i + 1;\n                    }\n                    if (!(this[i].position < pos) && this[i].position >= pos) {\n                        nextPos = i;\n                        break;\n                    }\n                }\n                ratio = (pos - this[prevPos].position) / (this[nextPos].position - this[prevPos].position);\n                if (isNaN(ratio)) {\n                    ratio = 0;\n                }\n                for (key in col) {\n                    col[key] = upto255((1 - ratio) * this[prevPos][key] + ratio * this[nextPos][key]);\n                }\n                col.position = pos;\n                col.opacity = (1 - ratio) * this[prevPos][\"opacity\"] + ratio * this[nextPos][\"opacity\"];\n                return col;\n            }\n            return arr;\n        }\n    }\n    /**\n     * Function to make to uncommon path array to a equal length\n     * of path array and same type (L - lineto) to make it animatable\n     * @param {array} path array 1\n     * @param {array} path array 2\n     * @return {object} object containing final 'from' and 'to' path\n     */\n    function pathNormalizer(p1, p2) {\n        'use strict';\n        // Function to convert array to svg path (?) only for curves\n        var finalp1 = [],\n            finalp2 = [],\n            pathArr1 = toSvgPath(p1),\n            pathArr2 = toSvgPath(p2),\n            i = 0,\n            ii = 0,\n            temp,\n            createElementNS = document.createElementNS && document.createElementNS.bind(document),\n            dPath = createElementNS && createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n\n        // If path invalid or svg not supported return\n        if (!pathArr1 || !pathArr2 || !dPath) {\n            return [p1, p2];\n        }\n        if (canFallback(p1, p2)) {\n            return [p1, p2];\n        }\n        // If any of the parameters is\n        // absent return to normal flow\n        if (!p1 || !p2) {\n            return [p1, p2];\n        }\n        // If svg not available return to normal flow\n        if (!document.createElementNS) {\n            return [p1, p2];\n        }\n        // Setting path again\n        pathArr1 = toSvgPath(p1);\n        pathArr2 = toSvgPath(p2);\n        // If invalid path return the original path\n        if(pathArr1.join().indexOf('undefined') !== -1) {\n            return [p1, p2];\n        }\n        if(pathArr2.join().indexOf('undefined') !== -1) {\n            return [p1, p2];\n        }\n        // If svg functions not available return to normal flow\n        if (!dPath.getTotalLength || !dPath.getPointAtLength) {\n            return [p1, p2];\n        }\n        /* Function to check if the current environment\n        ** can animate the path, as pathNormalizer pauses\n        ** getTotalLength and getPointAtLength function of svg\n        ** which are not supported by all browsers\n        */\n        function canFallback (path1, path2) {\n            var str1 = '',\n                str2 = '',\n                testLen,\n                testPoint;\n            // Checking path totoalLength is accurate or not\n            // testing with a known path\n            // this check is for Firefox\n            dPath.setAttribute('d', 'M300 10 L300 300 C50 310,50 640,350 650' +\n                'C600 640,600 310,400 300 L400 10 L295 10');\n            testLen = dPath.getTotalLength();\n            testPoint = dPath.getPointAtLength(10);\n            if (testLen < 1829.1 || testLen > 1829.2) {\n                return true;\n            }\n            if (Math.round(testPoint.x) !== 300 || Math.round(testPoint.y) !== 20) {\n                return true;\n            }\n            // path1 and path2 are in array\n            function trimPathArray (arr) {\n                var i = arr.length;\n                while (i-- - 1) {\n                    if (arr[i].join('') === arr[i - 1].join('')) {\n                        arr.pop();\n                    } else {\n                        break;\n                    }\n                }\n            }\n            function getPathFromArray(arr) {\n                var str = '',\n                    i = 0,\n                    ii = arr.length;\n                for (; i < ii; ++i) {\n                    str += arr[i].join(' ');\n                }\n                return str;\n            }\n            trimPathArray(path1);\n            trimPathArray(path2);\n            str1 = getPathFromArray(path1);\n            str2 = getPathFromArray(path2);\n            if (str1.split(/[Mm]/).length > 2 || str2.split(/[Mm]/).length > 2) {\n                return false;\n            }\n            if (path1.length === path2.length) {\n                return true;\n            }\n            return false;\n        }\n        /* Convert svg path array to string,\n            Also removes repeated commands */\n        function toSvgPath(arr) {\n            var str = [],\n                i = 0,\n                ii = arr.length,\n                item = [];\n            if (typeof arr === 'string') {\n                return arr;\n            }\n            // Converting the array to string; path type\n            for (i = 0; i < ii; ++i) {\n                if (!arr[i].join){\n                    return;\n                } else {\n                    // Removing continuous Move commands\n                    // Picking up the last one\n                    if ( !i || !arr[i + 1] || arr[i + 1][0] !== 'M' || arr[i][0] !== 'M'){\n                        str.push(arr[i].join(' '));\n                    }\n                }\n            }\n            str = str.join('');\n            str = str.split(/[Mm]/).slice(1);\n            for (i = 0, ii = str.length; i < ii; ++i) {\n                str[i] = 'M' + str[i];\n            }\n            return str;\n        }\n\n        ii = Math.max(pathArr1.length, pathArr2.length);\n        for (i = 0; i < ii; ++i) {\n            temp = _pathNormalizer(pathArr1[i], pathArr2[i]);\n            pathArr1[i] = temp[0];\n            pathArr2[i] = temp[1];\n        }\n        // Convert line path 2 dimensional array to string\n        function linetopath (arr) {\n            var i = 0,\n                ii = 0,\n                str = [];\n            arr = arr || [];\n            ii = arr.length;\n            for (i = 0; i < ii; ++i) {\n                if (arr[i].length - 1) {\n                    str.push(arr[i].join(' '));\n                }\n            }\n            return str.join('');\n        }\n        /* path2curve appends repeated last path command,\n            this function removes it or any other repeated path command */\n        function removeBlanks (arr, pos) {\n            var i = arr.length,\n                j = 0,\n                path;\n            while (i-- - 1) {\n                // Pop if length is zero\n                if (arr[i].slice(1).toString() === arr[i - 1].slice(1).toString()) {\n                    arr.pop();\n                } else {\n                    break;\n                }\n            }\n            if (arr.length === 1 && pos){\n                arr.length = 0;\n            }\n        }\n        /* Divide a path array to number to a given number of times\n            as provided in parameters, All path array should start with M command */\n        function _divide(arr, times) {\n            var resArr = [],\n                locArr = [],\n                arrLen = arr.length,\n                i = 0,\n                ii = 0,\n                x = 0,\n                prevPos = 0,\n                y = 0,\n                // If array size is smaller than\n                // divisions needed\n                diffTimes = times - arrLen;\n            while (diffTimes >= 0) {\n                i = arr.length - 1;\n                arr.push(arr.slice(i)[0]);\n                --diffTimes;\n            }\n            arrLen = arr.length;\n            for (i = 0; i <= times; ++i) {\n                locArr.push(Math.round((i / times) * arrLen));\n            }\n            for (i = 0, ii = locArr.length - 1; i < ii; ++i) {\n                resArr.push(arr.slice(locArr[i], locArr[i + 1]));\n                if (resArr[i][0][0] !== 'M' && resArr[i][0][0] !== 'm') {\n                    prevPos = resArr[i - 1].length - 1;\n                    x = resArr[i - 1][prevPos][1];\n                    y = resArr[i - 1][prevPos][2];\n                    resArr[i].unshift(['M', x, y]);\n                }\n            }\n            return resArr;\n        }\n        /* If two path array have different number of MoveTo commands,\n            divide the smaller number of MoveTo command holder to match the other one */\n        function divideArray (diff) {\n            var arrToDivide = [],\n                countArr = [],\n                transArr = [],\n                i = 0,\n                ii = 0,\n                isArr1 = true;\n            if (diff === 0) {\n                return;\n            } else if (diff > 0) {\n                arrToDivide = pathArr2;\n                isArr1 = false;\n            } else {\n                diff = -diff;\n                arrToDivide = pathArr1;\n            }\n            // Maintaining a count array to judge number of times a1\n            // path needs to be divided, 1 means dont divide\n            for (i = 0, ii = arrToDivide.length; i < ii; ++i) {\n                countArr.push(1);\n            }\n            while (diff--) {\n                --i;\n                if (i < 0) {\n                    i = ii - 1;\n                }\n                countArr[i]++;\n            }\n\n            for (i = 0; i < ii; ++i){\n                if (countArr[i] === 1) {\n                    transArr.push(arrToDivide[i]);\n                } else {\n                    transArr.push.apply(transArr, _divide(arrToDivide[i], countArr[i]));\n                }\n            }\n            if (isArr1) {\n                pathArr1 = transArr;\n            } else {\n                pathArr2 = transArr;\n            }\n        }\n        for (i = pathArr1.length; i--;) {\n            removeBlanks(pathArr1[i], i);\n            // If last element is blank pop it\n            pathArr1[i].length || pathArr1.pop();\n        }\n        for (i = pathArr2.length; i--;) {\n            removeBlanks(pathArr2[i], i);\n            pathArr2[i].length || pathArr2.pop();\n        }\n        // Making number off moveto commands equal in both path\n        divideArray(pathArr1.length - pathArr2.length);\n\n        ii = Math.max(pathArr1.length, pathArr2.length);\n        for (i = 0; i < ii; ++i) {\n            temp = _pathNormalizer(linetopath(pathArr1[i]), linetopath(pathArr2[i]));\n            pathArr1[i] = temp[0];\n            pathArr2[i] = temp[1];\n        }\n\n        for (i = 0, ii = pathArr1.length; i < ii; ++i) {\n            finalp1 = finalp1.concat(pathArr1[i]);\n        }\n        for (i = 0, ii = pathArr2.length; i < ii; ++i) {\n            finalp2 = finalp2.concat(pathArr2[i]);\n        }\n        return [finalp1, finalp2];\n    }\n\n    // A function to calculate common path\n    // in two given paths\n    function commonPathCalculator (p1, p2) {\n        'use strict';\n        var i = 0,\n            j = 0,\n            ii = 0,\n            jj = 0,\n            k = 0,\n            kk = 0,\n            uncommon1 = 0,\n            uncommon2 = 0,\n            lim1 = 0,\n            lim2 = 0,\n            nearestPoint1,\n            nearestPoint2,\n            map1 = {},\n            map2 = {},\n            groupedPath1 = [],\n            groupedPath2 = [],\n            gpIndex1 = -1,\n            gpIndex2 = -1,\n            isSame = true;\n        // Splitting the string commands to get\n        // particular points later\n        // Will be required while breaking paths\n        // into common and uncommon parts\n        function splitter (path) {\n            var i = 0,\n                ii = 0;\n            path = path.split(/[MCLmcl]/).slice(1);\n            for (i = 0, ii = path.length; i < ii; ++i) {\n                path[i] = path[i].split(' ').slice(1);\n                i || path[i].unshift('M');\n                if (i) {\n                    path[i].length === 2 && path[i].unshift('L') || path[i].unshift('C');\n                }\n            }\n            return path;\n        }\n        // populate the arr to object in reverse manner\n        // i.e value to key mapping\n        function mapper (arr, ob) {\n            var i = 0,\n                ii = arr.length,\n                val,\n                item;\n            for (i = 0, ii = arr.length; i < ii; ++i) {\n                val = arr[i].join(' ');\n                item = arr[i];\n                if (item[0] === 'C' && item[3] === item[5] && item[4] === item[6]) {\n                    arr[i].stringValue = ['L', item[3], item[4]].join(' ');\n                } else\n                item.stringValue = val;\n                // Creating an array if undefined\n                // pushing otherwise\n                ob[item.stringValue] && ob[item.stringValue].push(i);\n                ob[item.stringValue] || (ob[item.stringValue] = [i]);\n            }\n        }\n        // Function to get nearest point that exist\n        // in the other array\n        function getNearestExistingPoint (arr, map, start, ii, lim) {\n            var i = start,\n                k = 0,\n                kk = 0,\n                item;\n            for (; i < ii; ++i) {\n                item = map[arr[i].stringValue];\n                if (item) {\n                    for (k = 0, kk = item.length; k < kk; ++k) {\n                        if (item[k] >= lim) {\n                            return {\n                                index : i,\n                                mapValue : item[k],\n                                diff : i - start\n                            };\n                        }\n                    }\n                }\n            }\n            return -1;\n        }\n        // function to get last coordinate for CurveTo command\n        function getCoordinateAsMove (arr) {\n            var last = arr.length - 1;\n            return ['M', arr[last - 1], arr[last]].join(' ');\n        }\n        // function to conver path array to string\n        function pathToString (arr) {\n            return arr.join('');\n        }\n        // commonPathCalculator flow here\n        p1 = splitter(p1);\n        p2 = splitter(p2);\n        mapper(p1, map1);\n        mapper(p2, map2);\n        // Setting length\n        ii = p1.length;\n        jj = p2.length;\n        i = 0;\n        j = 0;\n        // Making partitions for common\n        // and uncommon parts\n        // Checking if first is common or uncommon\n        while (i < ii && j < jj) {\n            ++gpIndex1;\n            ++gpIndex2;\n            // initializing blank arrays\n            groupedPath1[gpIndex1] = [];\n            groupedPath2[gpIndex2] = [];\n            isSame = (p1[i].stringValue === p2[j].stringValue);\n            if (i) {\n                // Logic to push prev coordinate as move command\n                groupedPath1[gpIndex1].push(getCoordinateAsMove(p1[i - 1]));\n                groupedPath2[gpIndex2].push(getCoordinateAsMove(p2[j - 1]));\n            }\n            if (isSame) {\n                while (i < ii && j < jj && p1[i].stringValue === p2[j].stringValue) {\n                    groupedPath1[gpIndex1].push(p1[i].stringValue);\n                    groupedPath2[gpIndex2].push(p2[j].stringValue);\n                    ++i;\n                    ++j;\n                }\n            } else {\n                nearestPoint1 = getNearestExistingPoint(p1, map2, i, ii, j);\n                nearestPoint2 = getNearestExistingPoint(p2, map1, j, jj, i);\n                // Assuming nearestPoint1 is nearer than nearestPoint2\n                lim1 = nearestPoint1.index;\n                lim2 = nearestPoint1.mapValue;\n                // If nearestPoint2 is nearer\n                if (!~nearestPoint1 || nearestPoint1.diff > nearestPoint2.diff) {\n                    lim1 = nearestPoint2.mapValue;\n                    lim2 = nearestPoint2.index;\n                }\n                if (!~nearestPoint1 && !~nearestPoint2) {\n                   // If both not found include all as uncommon\n                    lim1 = ii - 1;\n                    lim2 = jj - 1;\n                }\n                // Pushing uncommon paths\n                while (i <= lim1) {\n                    groupedPath1[gpIndex1].push(p1[i].stringValue);\n                    ++i;\n                }\n                while (j <= lim2) {\n                    groupedPath2[gpIndex2].push(p2[j].stringValue);\n                    ++j;\n                }\n            }\n            groupedPath1[gpIndex1] = pathToString(groupedPath1[gpIndex1]);\n            groupedPath2[gpIndex2] = pathToString(groupedPath2[gpIndex2]);\n        }\n        // If Any one is left add them all\n        if (i < ii) {\n            ++gpIndex1;\n            groupedPath1[gpIndex1] = [];\n            groupedPath1[gpIndex1].push(getCoordinateAsMove(p1[i - 1]));\n            ++gpIndex2;\n            groupedPath2[gpIndex2] = [];\n            groupedPath2[gpIndex2].push(getCoordinateAsMove(p2[j - 1]));\n            while(i < ii) {\n                groupedPath1[gpIndex1].push(p1[i].stringValue);\n                ++i;\n            }\n            groupedPath1[gpIndex1] = pathToString(groupedPath1[gpIndex1]);\n        }\n        if (j < jj) {\n            ++gpIndex1;\n            groupedPath1[gpIndex1] = [];\n            groupedPath1[gpIndex1].push(getCoordinateAsMove(p1[i - 1]));\n            ++gpIndex2;\n            groupedPath2[gpIndex2] = [];\n            groupedPath2[gpIndex2].push(getCoordinateAsMove(p2[j - 1]));\n            while(j < jj) {\n                groupedPath2[gpIndex2].push(p2[j].stringValue);\n                ++j;\n            }\n            groupedPath2[gpIndex2] = pathToString(groupedPath2[gpIndex2]);\n        }\n        return [groupedPath1, groupedPath2];\n    }\n\n    // function to get equal points for two different path\n    // We set path to an dynamically created svg path node\n    // and get equal number of path commands from two different\n    // paths. Uses getPointAtLength and getTotalLength of svg that\n    // arent supported on every browser\n    function _pathNormalizer(p1, p2) {\n        'use strict';\n        var i = 0,\n            j = 0,\n            ii = 0,\n            jj = 0,\n            item = {},\n            fPath1 = [],\n            fPath2 = [],\n            divisions = 0,\n            commonPath,\n            tmp;\n        // Uncommon path normalizer\n        function normalizeUncommonPaths (p1, p2) {\n            var dPath1,\n                dPath2,\n                i = 0,\n                j = 0,\n                item = {},\n                pathLen1 = 0,\n                pathLen2 = 0,\n                fPath1 = [],\n                fPath2 = [],\n                divisions = 0,\n                round = Math.round;\n            // Creating path elements to use functions 'getTotalLength'\n            // and 'getPointAtLength'\n            dPath1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n            dPath1.setAttribute(\"d\", p1);\n\n            dPath2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n            dPath2.setAttribute(\"d\", p2);\n\n            // Getting length of the paths\n            pathLen1 = dPath1.getTotalLength();\n            pathLen2 = dPath2.getTotalLength();\n\n            // Number of divisions will depend on larger path\n            divisions = 0.15 * Math.max(pathLen1, pathLen2);\n            divisions = Math.ceil(divisions);\n\n            if (!divisions || !isFinite(divisions) || divisions < 10) {\n                divisions = 10;\n            }\n\n            for (i = 0; i <= divisions; ++i) {\n                item = dPath1.getPointAtLength((i / divisions) * pathLen1);\n                fPath1.push([i ? \"L\" : \"M\",\n                    round(item.x),\n                    round(item.y)\n                ]);\n                item = dPath2.getPointAtLength((i / divisions) * pathLen2);\n                fPath2.push([i ? \"L\" : \"M\",\n                    round(item.x),\n                    round(item.y)\n                ]);\n            }\n            return [fPath1, fPath2];\n        }\n        if (!p1 || p1 === 'M  ') {\n            p1 = p2.split(' ').slice(0, 3).join(' ').replace(/[LC]/, '');\n        }\n        if (!p2 || p2 === 'M  ') {\n            p2 = p1.split(' ').slice(0, 3).join(' ').replace(/[LC]/, '');\n        }\n        commonPath = commonPathCalculator(p1, p2);\n\n        for (i = 0, ii = commonPath[0].length; i < ii; ++i) {\n            tmp = normalizeUncommonPaths(commonPath[0][i], commonPath[1][i]);\n            if (i) {\n                fPath1 = fPath1.concat(tmp[0].slice(1));\n                fPath2 = fPath2.concat(tmp[1].slice(1));\n            } else {\n                fPath1 = fPath1.concat(tmp[0]);\n                fPath2 = fPath2.concat(tmp[1]);\n            }\n        }\n        return [fPath1, fPath2];\n    }\n\n\n\n    function runAnimation(anim, element, percent, status, totalOrigin, times, parentEl, configObject) {\n        percent = toFloat(percent);\n        var params,\n        isInAnim,\n        isInAnimSet,\n        percents = [],\n        next,\n        prev,\n        temp,\n        timestamp,\n        tempDiff,\n        change,\n        ms = anim.ms,\n        from = {},\n        to = {},\n        diff = {};\n\n        if (element.type === null) {\n            return;\n        }\n\n        configObject = configObject || {};\n        configObject.hookFn && configObject.hookFn.call(element);\n        configObject.from = configObject.from || {};\n        if (status) {\n            for (i = 0, ii = animationElements.length; i < ii; i++) {\n                var e = animationElements[i];\n                if (e.el.id == element.id && e.anim == anim) {\n                    if (e.percent != percent) {\n                        delete e.el.e;\n                        delete e.el;\n                        animationElements.splice(i, 1);\n                        isInAnimSet = 1;\n                    } else {\n                        isInAnim = e;\n                    }\n                    element.attr(e.totalOrigin);\n                    break;\n                }\n            }\n        } else {\n            status = +to; // NaN\n        }\n        for (var i = 0, ii = anim.percents.length; i < ii; i++) {\n            if (anim.percents[i] == percent || anim.percents[i] > status * anim.top) {\n                percent = anim.percents[i];\n                prev = anim.percents[i - 1] || 0;\n                ms = ms / anim.top * (percent - prev);\n                next = anim.percents[i + 1];\n                params = anim.anim[percent];\n                break;\n            } else if (status) {\n                element.attr(anim.anim[anim.percents[i]]);\n            }\n        }\n        if (!params) {\n            return;\n        }\n        if (!isInAnim) {\n            for (var attr in params)\n                if (params[has](attr)) {\n                    if (availableAnimAttrs[has](attr) || element.ca[attr]) {\n                        from[attr] = configObject.from[attr] || element.attr(attr);\n                        (from[attr] == null) && (from[attr] = availableAttrs[attr]);\n                        to[attr] = params[attr];\n                        change = false;\n                        switch (availableAnimAttrs[attr]) {\n                            case nu:\n                                tempDiff = to[attr] - from[attr];\n                                (tempDiff || isNaN(tempDiff)) && (change = true);\n                                diff[attr] = tempDiff / ms;\n                                break;\n                            case \"colour\":\n                                if(from[attr] === to[attr]){\n                                    break;\n                                } else {\n                                    change = true;\n                                }\n                                var colorsNormalized = colorNormalizer(from[attr], to[attr], R.getRGB);\n                                from[attr] = colorsNormalized[0];\n                                var toColour = colorsNormalized[1];\n                                if (typeof toColour === \"string\") {\n                                    if(from[attr].toLowerCase() !== \"none\"){\n                                        from[attr] = R.getRGB(from[attr]);\n                                        if(!from[attr].opacity){\n                                            from[attr].opacity = 1;\n                                        }\n                                    } else {\n                                        from[attr] = {\n                                            r : 0,\n                                            g : 0,\n                                            b : 0,\n                                            opacity : 0\n                                        }\n                                    }\n                                    if(to[attr].toLowerCase() !== \"none\"){\n                                        toColour = R.getRGB(to[attr]);\n                                        if(!toColour.opacity){\n                                            toColour.opacity = 1;\n                                        }\n                                    } else {\n                                        toColour = {\n                                            r : 0,\n                                            g : 0,\n                                            b : 0,\n                                            opacity : 0\n                                        }\n                                    }\n                                    diff[attr] = {\n                                        r: (toColour.r - from[attr].r) / ms,\n                                        g: (toColour.g - from[attr].g) / ms,\n                                        b: (toColour.b - from[attr].b) / ms,\n                                        opacity: ((toColour.opacity - from[attr].opacity) / ms)\n                                    };\n                                } else {\n                                    diff[attr] = [];\n                                    for (i = 0, ii = from[attr].length; i < ii; ++i) {\n                                        if (i === 0) {\n                                            diff[attr].push(toColour[0]);\n                                        } else {\n                                            diff[attr].push({\n                                                r: (toColour[i].r - from[attr][i].r) / ms,\n                                                g: (toColour[i].g - from[attr][i].g) / ms,\n                                                b: (toColour[i].b - from[attr][i].b) / ms,\n                                                opacity: (toColour[i].opacity - from[attr][i].opacity) / ms\n                                            });\n                                        }\n                                    }\n                                }\n                                break;\n                            case \"path\":\n                                var toPath,\n                                    pathes = path2curve(from[attr], to[attr]);\n                                if (configObject.smartMorph) {\n                                    pathes = pathNormalizer(pathes[0], pathes[1], configObject);\n                                }\n                                toPath = pathes[1];\n                                from[attr] = pathes[0];\n                                diff[attr] = [];\n                                for (i = 0, ii = from[attr].length; i < ii; i++) {\n                                    diff[attr][i] = [0];\n                                    var jj;\n                                    jj = from[attr][i] ? from[attr][i].length : 0;\n                                    for (var j = 1; j < jj; j++) {\n                                        diff[attr][i][j] = (toPath[i][j] - from[attr][i][j]) / ms;\n                                        (!change) && diff[attr][i][j] && (change = true);\n                                    }\n                                }\n                                break;\n                            case \"transform\":\n                                var _ = element._,\n                                eq = equaliseTransform(_[attr], to[attr]);\n                                change = true;\n                                if (eq) {\n                                    from[attr] = eq.from;\n                                    to[attr] = eq.to;\n                                    diff[attr] = [];\n                                    diff[attr].real = true;\n                                    for (i = 0, ii = from[attr].length; i < ii; i++) {\n                                        diff[attr][i] = [from[attr][i][0]];\n                                        for (j = 1, jj = from[attr][i].length; j < jj; j++) {\n                                            diff[attr][i][j] = (to[attr][i][j] - from[attr][i][j]) / ms;\n                                        }\n                                    }\n                                } else {\n                                    var m = (element.matrix || new Matrix),\n                                    to2 = {\n                                        _: {\n                                            transform: _.transform\n                                        },\n                                        getBBox: function() {\n                                            return element.getBBox(1);\n                                        }\n                                    };\n                                    from[attr] = [\n                                    m.a,\n                                    m.b,\n                                    m.c,\n                                    m.d,\n                                    m.e,\n                                    m.f\n                                    ];\n                                    extractTransform(to2, to[attr]);\n                                    to[attr] = to2._.transform;\n                                    diff[attr] = [\n                                    (to2.matrix.a - m.a) / ms,\n                                    (to2.matrix.b - m.b) / ms,\n                                    (to2.matrix.c - m.c) / ms,\n                                    (to2.matrix.d - m.d) / ms,\n                                    (to2.matrix.e - m.e) / ms,\n                                    (to2.matrix.f - m.f) / ms\n                                    ];\n                                // from[attr] = [_.sx, _.sy, _.deg, _.dx, _.dy];\n                                // var to2 = {_:{}, getBBox: function () { return element.getBBox(); }};\n                                // extractTransform(to2, to[attr]);\n                                // diff[attr] = [\n                                //     (to2._.sx - _.sx) / ms,\n                                //     (to2._.sy - _.sy) / ms,\n                                //     (to2._.deg - _.deg) / ms,\n                                //     (to2._.dx - _.dx) / ms,\n                                //     (to2._.dy - _.dy) / ms\n                                // ];\n                                }\n                                break;\n                            case \"csv\":\n                                var values = Str(params[attr])[split](separator),\n                                from2 = Str(from[attr])[split](separator);\n                                if (attr == \"clip-rect\") {\n                                    from[attr] = from2;\n                                    diff[attr] = [];\n                                    i = from2.length;\n                                    while (i--) {\n                                        tempDiff = values[i] - from[attr][i];\n                                        (tempDiff || isNaN(tempDiff)) && (change = true);\n                                        diff[attr][i] = tempDiff / ms;\n                                    }\n                                }\n                                to[attr] = values;\n                                break;\n                            default:\n                                values = [][concat](params[attr]);\n                                from2 = [][concat](from[attr]);\n                                diff[attr] = [];\n                                i = element.ca[attr].length;\n                                while (i--) {\n                                    tempDiff = (values[i] || 0) - (from2[i] || 0);\n                                    (tempDiff || isNaN(tempDiff)) && (change = true);\n                                    diff[attr][i] = tempDiff / ms;\n                                }\n                                break;\n                        }\n                        if (!change) {\n                            delete from[attr];\n                            delete to[attr];\n                            delete params[attr];\n                            delete diff[attr];\n                        }\n                    }\n                    else if (R._availableAttrs[has](attr) || attr === 'text' || element.ca[attr]) {\n                        element.attr(attr, params[attr]);\n                        delete params[attr];\n                    }\n                }\n            var easing = params.easing,\n            easyeasy = R.easing_formulas[easing];\n            if (!easyeasy) {\n                easyeasy = Str(easing).match(bezierrg);\n                if (easyeasy && easyeasy.length == 5) {\n                    var curve = easyeasy;\n                    easyeasy = function(t) {\n                        return CubicBezierAtTime(t, +curve[1], +curve[2], +curve[3], +curve[4], ms);\n                    };\n                } else {\n                    easyeasy = pipe;\n                }\n            }\n            timestamp = params.start || anim.start || +new Date;\n            element.e =  e = {\n                anim: anim,\n                percent: percent,\n                timestamp: timestamp,\n                start: timestamp + (anim.del || 0),\n                status: 0,\n                initstatus: status || 0,\n                stop: false,\n                ms: ms,\n                easing: easyeasy,\n                from: from,\n                diff: diff,\n                to: to,\n                el: element,\n                callback: params.callback,\n                prev: prev,\n                next: next,\n                repeat: times || anim.times,\n                origin: element.attr(),\n                totalOrigin: totalOrigin,\n                parentEl : parentEl,\n                delayend: configObject && configObject.end,\n                delaystart: configObject && configObject.start\n            };\n            animationElements.push(e);\n\n            if (status && !isInAnim && !isInAnimSet) {\n                e.stop = true;\n                e.start = new Date - ms * status;\n                if (animationElements.length == 1) {\n                    return animation();\n                }\n            }\n            if (isInAnimSet) {\n                e.start = new Date - e.ms * status;\n            }\n            animationElements.length == 1 && (requestAnimFrame || R.getAnimFrameFn())(animation);\n        } else {\n            isInAnim.initstatus = status;\n            isInAnim.start = new Date - isInAnim.ms * status;\n        }\n        eve(\"raphael.anim.start.\" + element.id, element, anim);\n    }\n\n    /*\\\n     * Raphael.animation\n     [ method ]\n     **\n     * Creates an animation object that can be passed to the @Element.animate or @Element.animateWith methods.\n     * See also @Animation.delay and @Animation.repeat methods.\n     **\n     > Parameters\n     **\n     - params (object) final attributes for the element, see also @Element.attr\n     - ms (number) number of milliseconds for animation to run\n     - easing (string) #optional easing type. Accept one of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\n     - callback (function) #optional callback function. Will be called at the end of animation.\n     **\n     = (object) @Animation\n    \\*/\n    R.animation = function(params, ms, easing, callback, stopPartialEventPropagation) {\n        if (params instanceof Animation) {\n            return params;\n        }\n        if (R.is(easing, \"function\") || !easing) {\n            callback = callback || easing || null;\n            easing = null;\n        }\n        !R.stopPartialEventPropagation && (R.stopPartialEventPropagation = stopPartialEventPropagation);\n        params = Object(params);\n        ms = +ms || 0;\n        var p = {},\n        json,\n        attr;\n        for (attr in params)\n            if (params[has](attr) && toFloat(attr) != attr && toFloat(attr) + \"%\" != attr) {\n                json = true;\n                p[attr] = params[attr];\n            }\n        // Enabling the callback to be called even if attr is not provided\n        callback && (json = true);\n        if (!json) {\n            return new Animation(params, ms);\n        } else {\n            easing && (p.easing = easing);\n            callback && (p.callback = callback);\n            return new Animation({\n                100: p\n            }, ms);\n        }\n    };\n\n    /*\\\n     * Element.animate\n     [ method ]\n     **\n     * Creates and starts animation for given element.\n     **\n     > Parameters\n     **\n     - params (object) final attributes for the element, see also @Element.attr\n     - ms (number) number of milliseconds for animation to run\n     - easing (string) #optional easing type. Accept one of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\n     - callback (function) #optional callback function. Will be called at the end of animation.\n     * or\n     - animation (object) animation object, see @Raphael.animation\n     **\n     = (object) original element\n    \\*/\n    elproto.animate = function(params, ms, easing, callback) {\n        var element = this;\n        if (element.removed) {\n            callback && callback.call(element);\n            return element;\n        }\n        var anim = params instanceof Animation ? params : R.animation(params, ms, easing, callback);\n        runAnimation(anim, element, anim.percents[0], null, element.attr());\n        return element;\n    };\n\n    /*\\\n     * Element.status\n     [ method ]\n     **\n     * Gets or sets the status of animation of the element.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     - value (number) #optional 0 – 1. If specified, method works like a setter and sets the status of a given animation to the value. This will cause animation to jump to the given position.\n     **\n     = (number) status\n     * or\n     = (array) status if `anim` is not specified. Array of objects in format:\n     o {\n     o     anim: (object) animation object\n     o     status: (number) status\n     o }\n     * or\n     = (object) original element if `value` is specified\n    \\*/\n    elproto.status = function(anim, value) {\n        var out = [],\n        i = 0,\n        len,\n        e;\n        if (value != null) {\n            runAnimation(anim, this, -1, mmin(value, 1));\n            return this;\n        } else {\n            len = animationElements.length;\n            for (; i < len; i++) {\n                e = animationElements[i];\n                if (e.el.id == this.id && (!anim || e.anim == anim)) {\n                    if (anim) {\n                        return e.status;\n                    }\n                    out.push({\n                        anim: e.anim,\n                        status: e.status\n                    });\n                }\n            }\n            if (anim) {\n                return 0;\n            }\n            return out;\n        }\n    };\n\n    /*\\\n     * Element.pause\n     [ method ]\n     **\n     * Stops animation of the element with ability to resume it later on.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     - resumeChildAnimation (boolean) #pauses the animation of the elements which are in sync with the current element\n     **\n     = (object) original element\n    \\*/\n    elproto.pause = function(anim, pauseChildAnimation) {\n        var now = +new Date,\n            e,\n            i;\n        for (i = 0; i < animationElements.length; i++) {\n            e = animationElements[i];\n            // @todo - need a scope to implement the logic for nested animations.\n            if ((e.el.id === this.id || (pauseChildAnimation && e.parentEl && e.parentEl.e.el &&\n                e.parentEl.e.el.id === this.id)) && (!anim || e.anim == anim)) {\n                if (eve(\"raphael.anim.pause.\" + this.id, this, e.anim) !== false) {\n                    e.paused = true;\n                    e.pauseStart = now;\n                }\n            }\n        }\n        return this;\n    };\n\n    /*\\\n     * Element.resume\n     [ method ]\n     **\n     * Resumes animation if it was paused with @Element.pause method.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     - resumeChildAnimation (boolean) #resumes the animation of the elements which are in sync with the current element\n     **\n     = (object) original element\n    \\*/\n    elproto.resume = function(anim, resumeChildAnimation) {\n        var now = +new Date,\n            e,\n            i;\n        for (i = 0; i < animationElements.length; i++) {\n            e = animationElements[i];\n            // @todo - need a scope to implement the logic for nested animations.\n            if ((e.el.id === this.id || (resumeChildAnimation && e.parentEl && e.parentEl.e.el &&\n                e.parentEl.e.el.id === this.id)) && (!anim || e.anim == anim)) {\n                if (eve(\"raphael.anim.resume.\" + this.id, this, e.anim) !== false) {\n                    delete e.paused;\n                    e.el.status(e.anim, e.status);\n                    e.pauseEnd = now;\n                    e.start += (((e.parentEl && e.parentEl.e.pauseEnd || e.pauseEnd) -\n                        (e.parentEl && e.parentEl.e.pauseStart || e.pauseStart)) || 0);\n                }\n            }\n        }\n        return this;\n    };\n\n\n    /*\\\n     * Element.stop\n     [ method ]\n     **\n     * Stops animation of the element.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     - stopChildAnimation (boolean) #optional stops the animation of all the element which are in sync with the current element\n     - jumpToEnd (boolean) #optional takes the current animation to its end value\n     **\n     = (object) original element\n    \\*/\n    elproto.stop = function(anim, stopChildAnimation, jumpToEnd) {\n        var e, i, ele;\n        if (stopChildAnimation) {\n            for (i = animationElements.length - 1; i >= 0; i--) {\n                e = animationElements[i];\n                // @todo - need a scope to implement the logic for nested animations.\n                if ((e.el.id === this.id || (e.parentEl && e.parentEl.id === this.id)) &&\n                    (!anim || animationElements[i].anim == anim)) {\n                    ele = e.el;\n                    jumpToEnd && ele.attr(e.to);\n                    e.callback && e.callback.call(ele);\n                    delete ele.e;\n                    delete e.el;\n                    animationElements.splice(i, 1);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < animationElements.length; i++){\n                e = animationElements[i];\n                if (e.el.id === this.id && (!anim || e.anim === anim)) {\n                    if (eve(\"raphael.anim.stop.\" + this.id, this, e.anim) !== false) {\n                        animationElements.splice(i--, 1);\n                    }\n                }\n            }\n        }\n        // In case root object has hooked animation elements\n        // in priority queue execute them all\n        if (this.animElements) {\n            executeAnimQueue(this.animElements);\n        }\n        return this;\n    };\n\n    function executeAnimQueue (queue) {\n        var ob;\n        // Looping until all executed\n        while (ob = queue.deq()) {\n            ob = ob.executeOb;\n            ob.hookFn && ob.hookFn.call(ob.el);\n            ob.el.attr(ob.attrs);\n            ob.callback && ob.callback.call(ob.el);\n        }\n    }\n\n    function stopAnimation(paper) {\n        for (var i = 0; i < animationElements.length; i++)\n            if (animationElements[i].el.paper == paper) {\n                animationElements.splice(i--, 1);\n            }\n    }\n    eve.on(\"raphael.remove\", stopAnimation);\n    eve.on(\"raphael.clear\", stopAnimation);\n    elproto.toString = function() {\n        return \"Rapha\\xebl\\u2019s object\";\n    };\n\n    elproto.toFront = function() {\n        if (this.removed) {\n            return this;\n        }\n\n        var o = this,\n            thisNode = R._engine.getNode(o),\n            parent = o.parent,\n            followers = o.followers,\n            follower,\n            i,\n            ii;\n\n        if (R._tofront(o, parent)) {\n            parent.canvas.appendChild(thisNode);\n        }\n\n        for (i = 0, ii = followers.length; i < ii; i++) {\n            (follower = followers[i]).stalk && follower.el[follower.stalk](o);\n        }\n        return o;\n    };\n\n    elproto.toBack = function() {\n        if (this.removed) {\n            return this;\n        }\n\n        var o = this,\n            thisNode = R._engine.getNode(o),\n            parent = o.parent,\n            followers = o.followers,\n            follower,\n            i,\n            ii;\n\n        if (R._toback(o, parent)) {\n            parent.canvas.insertBefore(thisNode, parent.canvas.firstChild);\n        }\n\n        for (i = 0, ii = followers.length; i < ii; i++) {\n            (follower = followers[i]).stalk && follower.el[follower.stalk](o);\n        }\n        return o;\n    };\n\n    elproto.insertAfter = function(element) {\n        if (this.removed) {\n            return this;\n        }\n\n        var o = this,\n            thisNode = R._engine.getNode(o),\n            thatNode = R._engine.getLastNode(element),\n            parentNode = element.parent.canvas,\n            followers = o.followers,\n            follower,\n            i,\n            ii;\n\n        if (thatNode.nextSibling) {\n            parentNode.insertBefore(thisNode, thatNode.nextSibling);\n        }\n        else {\n            parentNode.appendChild(thisNode);\n        }\n        R._insertafter(o, element, o.parent, element.parent);\n\n        for (i = 0, ii = followers.length; i < ii; i++) {\n            (follower = followers[i]).stalk &&\n                follower.el[follower.stalk](element);\n        }\n        return o;\n    };\n\n    elproto.insertBefore = function(element) {\n        if (this.removed) {\n            return this;\n        }\n\n        var o = this,\n            thisNode = R._engine.getNode(o),\n            thatNode = R._engine.getNode(element),\n            followers = o.followers,\n            follower,\n            i,\n            ii;\n\n        element.parent.canvas.insertBefore(thisNode, thatNode);\n        R._insertbefore(o, element, o.parent, element.parent);\n        o.parent = element.parent;\n\n        for (i = 0, ii = followers.length; i < ii; i++) {\n            (follower = followers[i]).stalk &&\n                follower.el[follower.stalk](element);\n        }\n        return this;\n    };\n\n    elproto.appendChild = function (element) {\n        if (this.removed || this.type !== 'group') {\n            return this;\n        }\n\n        var group = this,\n            followers = group.followers,\n            follower,\n            thatNode,\n            i,\n            ii;\n\n        // If appending in same group, simply perform toFront().\n        if (element.parent === group) {\n            element.toFront();\n            return group;\n        }\n\n        thatNode = R._engine.getNode(element);\n\n        // first remove from own group\n        R._tear(element, element.parent);\n\n        group.canvas.appendChild(thatNode);\n        element.parent = group;\n\n        !group.bottom && (group.bottom = element);\n        element.prev = group.top;\n        element.next = null;\n        group.top && (group.top.next = element);\n        group.top = element;\n\n        for (i = 0, ii = followers.length; i < ii; i++) {\n            (follower = followers[i]).stalk &&\n                follower.el[follower.stalk](element);\n        }\n\n        return group;\n    };\n\n    // Reverse application of appendChild\n    elproto.appendTo = function (group) {\n        return group.appendChild(this);\n    }\n\n    elproto.removeChild = function (element) {\n        if (this.removed || this.type !== 'group' || element.parent !== this) {\n            return this;\n        }\n\n        var o = this,\n            thatNode = R._engine.getNode(element),\n            paper = o.paper;\n\n        R._tear(element, o);\n        paper.canvas.appendChild(thatNode);\n\n        o.parent = paper;\n        !paper.bottom && (paper.bottom = o);\n\n        o.prev = paper.top;\n        paper.top && (paper.top.next = o);\n        paper.top = o;\n        o.next = null;\n\n        return o;\n    };\n\n    /*\\\n     * Raphael.format\n     [ method ]\n     **\n     * Simple format function. Replaces construction of type “`{<number>}`” to the corresponding argument.\n     **\n     > Parameters\n     **\n     - token (string) string to format\n     - … (string) rest of arguments will be treated as parameters for replacement\n     = (string) formated string\n     > Usage\n     | var x = 10,\n     |     y = 20,\n     |     width = 40,\n     |     height = 50;\n     | // this will draw a rectangular shape equivalent to \"M10,20h40v50h-40z\"\n     | paper.path(Raphael.format(\"M{0},{1}h{2}v{3}h{4}z\", x, y, width, height, -width));\n    \\*/\n    R.format = function(token, params) {\n        for (var i = 0, len = arguments.length, arg = new Array(len); i < len; i++) {\n            arg[i] = arguments[i];\n        }\n        var args = R.is(params, array) ? [0][concat](params) : arg;\n        token && R.is(token, string) && args.length - 1 && (token = token.replace(formatrg, function(str, i) {\n            return args[++i] == null ? E : args[i];\n        }));\n        return token || E;\n    };\n\n    var crispFixer = (R.vml && 0.5 || 0);\n\n    R.crispBound = cacher(function (x, y, w, h, s) {\n        var at = {},\n            normalizer;\n\n        x = x || 0;\n        y = y || 0;\n        w = w || 0;\n        h = h || 0;\n        s = s || 0;\n        normalizer = s % 2 / 2 + crispFixer;\n\n        // normalize for crisp edges\n        at.x = round(x + normalizer) - normalizer;\n        at.y = round(y + normalizer) - normalizer;\n        at.width = round(x + w + normalizer) - normalizer - at.x;\n        at.height = round(y + h + normalizer) - normalizer - at.y;\n        at['stroke-width'] = s;\n\n        // adjust to single pixel if resultant dimension is zero.\n        (at.width === 0 && w !== 0) && (at.width = 1);\n        (at.height === 0 && h !== 0) && (at.height = 1);\n\n        return at;\n    }, R);\n\n    elproto.crisp = function () {\n        var o = this,\n            attrs = o.attrs,\n            key,\n            attr = {},\n            values = o.attr();\n\n        values = R.crispBound(values.x, values.y, values.width, values.height,\n            values['stroke-width']);\n\n        for (key in values) {\n            if (attrs[key] === values[key]) { // only set attribute if changed\n                delete values[key];\n            }\n        }\n\n        return o.attr(values);\n    };\n\n    /*\\\n     * Raphael.define\n     [ method ]\n     **\n     * Allows a unified definition of composite shapes and other behaviours using\n     * simple directives.\n     **\n     > Parameters\n     **\n     - definition (object) the shape definition\n    \\*/\n    R.define = function (name, init, ca, fn, e, data) {\n        var i,\n            ii;\n\n        // multi definition\n        if (R.is(name, array)) {\n            for (i = 0, ii = name.length; i < ii; i++) {\n                R.define(name[i]);\n            }\n            return;\n        }\n        // object definition\n        else if (R.is(name, object)) {\n            R.define(name.name, name[name.name], name.ca, name.fn, name.e, name.data);\n            return;\n        }\n        // invalid or duplicate definition\n        else if (!name || R.fn[name]) {\n            return;\n        }\n\n        R.fn[name] = function () {\n            for (var i = 0, len = arguments.length, arg = new Array(len); i < len; i++) {\n                arg[i] = arguments[i];\n            }\n            var element = init.apply(this, arg),\n                key;\n\n            if (fn && R.is(fn, object)) {\n                for (key in fn) {\n                    element[key] = fn[key];\n                }\n            }\n\n            if (e && R.is(e, object)) {\n                for (key in e) {\n                    element[key] && element[key](e[key]);\n                }\n            }\n\n            if (ca) {\n                if (R.is(ca, 'function')) {\n                    element.ca[name] = ca;\n                }\n                else {\n                    for (key in ca) {\n                        element.ca[key] = ca[key];\n                    }\n                }\n\n                // Check if namesake ca exists and apply it\n                if (element.ca[name]) {\n                    R._lastArgIfGroup(args, true); // purge group\n                    if (args.length) {\n                        // If name attribute is present then the received argument is an object with the customAttribute and other\n                        // common attributes. Else it is just the customAttributes that is to be applied.\n                        args[0][name] ? element.attr.apply(element, args): element.attr(name, args[0]);\n                    }\n                }\n            }\n\n            return element;\n        };\n\n        if (ca) { R.fn[name].ca = ca; }\n        if (fn) { R.fn[name].fn = fn; }\n        if (e) { R.fn[name].e = e; }\n        if (data) { R.fn[name].data = data; }\n\n        return R.fn[name];\n    };\n    // Firefox <3.6 fix: http://webreflection.blogspot.com/2009/11/195-chars-to-help-lazy-loading.html\n    (function(doc, loaded, f) {\n        if (doc.readyState == null && doc.addEventListener) {\n            doc.addEventListener(loaded, f = function() {\n                doc.removeEventListener(loaded, f, false);\n                doc.readyState = \"complete\";\n            }, false);\n            doc.readyState = \"loading\";\n        }\n        function isLoaded() {\n            (/in/).test(doc.readyState) ? setTimeout(isLoaded, 9) : R.eve(\"raphael.DOMload\");\n        }\n        isLoaded();\n    })(doc, \"DOMContentLoaded\");\n\n    eve.on(\"raphael.DOMload\", function() {\n        loaded = true;\n    });\n\n\n\n    // EXPOSE\n    // SVG and VML are appended just before the EXPOSE line\n    // Even with AMD, Raphael should be defined globally\n    // oldRaphael.was ? (g.win.Raphael = R) : (Raphael = R);\n\nexport default R;\n\n\n\n// WEBPACK FOOTER //\n// ./source/raphael.core.js","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/iterator.js\n// module id = 42\n// module chunks = 0","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.string.iterator.js\n// module id = 43\n// module chunks = 0","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-at.js\n// module id = 44\n// module chunks = 0","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ctx.js\n// module id = 45\n// module chunks = 0","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_a-function.js\n// module id = 46\n// module chunks = 0","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-create.js\n// module id = 47\n// module chunks = 0","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dps.js\n// module id = 48\n// module chunks = 0","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iobject.js\n// module id = 49\n// module chunks = 0","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-includes.js\n// module id = 50\n// module chunks = 0","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-length.js\n// module id = 51\n// module chunks = 0","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-absolute-index.js\n// module id = 52\n// module chunks = 0","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_html.js\n// module id = 53\n// module chunks = 0","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gpo.js\n// module id = 54\n// module chunks = 0","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-object.js\n// module id = 55\n// module chunks = 0","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/web.dom.iterable.js\n// module id = 56\n// module chunks = 0","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.iterator.js\n// module id = 57\n// module chunks = 0","module.exports = function () { /* empty */ };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_add-to-unscopables.js\n// module id = 58\n// module chunks = 0","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-step.js\n// module id = 59\n// module chunks = 0","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/index.js\n// module id = 60\n// module chunks = 0","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.symbol.js\n// module id = 61\n// module chunks = 0","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_meta.js\n// module id = 62\n// module chunks = 0","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-keys.js\n// module id = 63\n// module chunks = 0","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array.js\n// module id = 64\n// module chunks = 0","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn-ext.js\n// module id = 65\n// module chunks = 0","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopd.js\n// module id = 66\n// module chunks = 0","require('./_wks-define')('asyncIterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 68\n// module chunks = 0","require('./_wks-define')('observable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.observable.js\n// module id = 69\n// module chunks = 0","// Copyright (c) 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// ┌────────────────────────────────────────────────────────────┐ \\\\\n// │ Eve 0.5.3 - JavaScript Events Library                      │ \\\\\n// ├────────────────────────────────────────────────────────────┤ \\\\\n// │ Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/) │ \\\\\n// └────────────────────────────────────────────────────────────┘ \\\\\n\nexport default (function (glob) {\n    var version = \"0.5.3\",\n        has = \"hasOwnProperty\",\n        separator = /[\\.\\/]/,\n        comaseparator = /\\s*,\\s*/,\n        wildcard = \"*\",\n        fun = function () {},\n        numsort = function (a, b) {\n            return a - b;\n        },\n        current_event,\n        stop,\n        events = {n: {}},\n        firstDefined = function () {\n            for (var i = 0, ii = this.length; i < ii; i++) {\n                if (typeof this[i] != \"undefined\") {\n                    return this[i];\n                }\n            }\n        },\n        lastDefined = function () {\n            var i = this.length;\n            while (--i) {\n                if (typeof this[i] != \"undefined\") {\n                    return this[i];\n                }\n            }\n        },\n        objtos = Object.prototype.toString,\n        Str = String,\n        isArray = Array.isArray || function (ar) {\n            return ar instanceof Array || objtos.call(ar) == \"[object Array]\";\n        },\n    /*\\\n     * eve\n     [ method ]\n\n     * Fires event with given `name`, given scope and other parameters.\n\n     - name (string) name of the *event*, dot (`.`) or slash (`/`) separated\n     - scope (object) context for the event handlers\n     - varargs (...) the rest of arguments will be sent to event handlers\n\n     = (object) array of returned values from the listeners. Array has two methods `.firstDefined()` and `.lastDefined()` to get first or last not `undefined` value.\n    \\*/\n        eve = function (name, scope) {\n            for (var i = 0, len = arguments.length, arg = new Array(len); i < len; i++) {\n                arg[i] = arguments[i];\n            }\n            var e = events,\n                oldstop = stop,\n                args = Array.prototype.slice.call(arg, 2),\n                listeners = eve.listeners(name),\n                z = 0,\n                f = false,\n                l,\n                indexed = [],\n                queue = {},\n                out = [],\n                ce = current_event,\n                errors = [];\n            out.firstDefined = firstDefined;\n            out.lastDefined = lastDefined;\n            current_event = name;\n            stop = 0;\n            for (var i = 0, ii = listeners.length; i < ii; i++) if (\"zIndex\" in listeners[i]) {\n                indexed.push(listeners[i].zIndex);\n                if (listeners[i].zIndex < 0) {\n                    queue[listeners[i].zIndex] = listeners[i];\n                }\n            }\n            indexed.sort(numsort);\n            while (indexed[z] < 0) {\n                l = queue[indexed[z++]];\n                out.push(l.apply(scope, args));\n                if (stop) {\n                    stop = oldstop;\n                    return out;\n                }\n            }\n            for (i = 0; i < ii; i++) {\n                l = listeners[i];\n                if (\"zIndex\" in l) {\n                    if (l.zIndex == indexed[z]) {\n                        out.push(l.apply(scope, args));\n                        if (stop) {\n                            break;\n                        }\n                        do {\n                            z++;\n                            l = queue[indexed[z]];\n                            l && out.push(l.apply(scope, args));\n                            if (stop) {\n                                break;\n                            }\n                        } while (l)\n                    } else {\n                        queue[l.zIndex] = l;\n                    }\n                } else {\n                    out.push(l.apply(scope, args));\n                    if (stop) {\n                        break;\n                    }\n                }\n            }\n            stop = oldstop;\n            current_event = ce;\n            return out;\n        };\n        // Undocumented. Debug only.\n        eve._events = events;\n    /*\\\n     * eve.listeners\n     [ method ]\n\n     * Internal method which gives you array of all event handlers that will be triggered by the given `name`.\n\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated\n\n     = (array) array of event handlers\n    \\*/\n    eve.listeners = function (name) {\n        var names = isArray(name) ? name : name.split(separator),\n            e = events,\n            item,\n            items,\n            k,\n            i,\n            ii,\n            j,\n            jj,\n            nes,\n            es = [e],\n            out = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            nes = [];\n            for (j = 0, jj = es.length; j < jj; j++) {\n                e = es[j].n;\n                items = [e[names[i]], e[wildcard]];\n                k = 2;\n                while (k--) {\n                    item = items[k];\n                    if (item) {\n                        nes.push(item);\n                        out = out.concat(item.f || []);\n                    }\n                }\n            }\n            es = nes;\n        }\n        return out;\n    };\n    /*\\\n     * eve.separator\n     [ method ]\n\n     * If for some reasons you don’t like default separators (`.` or `/`) you can specify yours\n     * here. Be aware that if you pass a string longer than one character it will be treated as\n     * a list of characters.\n\n     - separator (string) new separator. Empty string resets to default: `.` or `/`.\n    \\*/\n    eve.separator = function (sep) {\n        if (sep) {\n            sep = Str(sep).replace(/(?=[\\.\\^\\]\\[\\-])/g, \"\\\\\");\n            sep = \"[\" + sep + \"]\";\n            separator = new RegExp(sep);\n        } else {\n            separator = /[\\.\\/]/;\n        }\n    };\n    /*\\\n     * eve.on\n     [ method ]\n     **\n     * Binds given event handler with a given name. You can use wildcards “`*`” for the names:\n     | eve.on(\"*.under.*\", f);\n     | eve(\"mouse.under.floor\"); // triggers f\n     * Use @eve to trigger the listener.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     - name (array) if you don’t want to use separators, you can use array of strings\n     - f (function) event handler function\n     **\n     = (function) returned function accepts a single numeric parameter that represents z-index of the handler. It is an optional feature and only used when you need to ensure that some subset of handlers will be invoked in a given order, despite of the order of assignment.\n     > Example:\n     | eve.on(\"mouse\", eatIt)(2);\n     | eve.on(\"mouse\", scream);\n     | eve.on(\"mouse\", catchIt)(1);\n     * This will ensure that `catchIt` function will be called before `eatIt`.\n     *\n     * If you want to put your handler before non-indexed handlers, specify a negative value.\n     * Note: I assume most of the time you don’t need to worry about z-index, but it’s nice to have this feature “just in case”.\n    \\*/\n    eve.on = function (name, f) {\n        if (typeof f != \"function\") {\n            return function () {};\n        }\n        var names = isArray(name) ? isArray(name[0]) ? name : [name] : Str(name).split(comaseparator);\n        for (var i = 0, ii = names.length; i < ii; i++) {\n            (function (name) {\n                var names = isArray(name) ? name : Str(name).split(separator),\n                    e = events,\n                    exist;\n                for (var i = 0, ii = names.length; i < ii; i++) {\n                    e = e.n;\n                    e = e.hasOwnProperty(names[i]) && e[names[i]] || (e[names[i]] = {n: {}});\n                }\n                e.f = e.f || [];\n                for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\n                    exist = true;\n                    break;\n                }\n                !exist && e.f.push(f);\n            }(names[i]));\n        }\n        return function (zIndex) {\n            if (+zIndex == +zIndex) {\n                f.zIndex = +zIndex;\n            }\n        };\n    };\n    /*\\\n     * eve.f\n     [ method ]\n     **\n     * Returns function that will fire given event with optional arguments.\n     * Arguments that will be passed to the result function will be also\n     * concated to the list of final arguments.\n     | el.onclick = eve.f(\"click\", 1, 2);\n     | eve.on(\"click\", function (a, b, c) {\n     |     console.log(a, b, c); // 1, 2, [event object]\n     | });\n     - event (string) event name\n     - varargs (…) and any other arguments\n     = (function) possible event handler function\n    \\*/\n    eve.f = function (event) {\n        for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n            args[i] = arguments[i];\n        }\n        var attrs = [].slice.call(args, 1);\n        return function () {\n            eve.apply(null, [event, null].concat(attrs).concat([].slice.call(args, 0)));\n        };\n    };\n    /*\\\n     * eve.stop\n     [ method ]\n     **\n     * Is used inside an event handler to stop the event, preventing any subsequent listeners from firing.\n    \\*/\n    eve.stop = function () {\n        stop = 1;\n    };\n    /*\\\n     * eve.nt\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     - subname (string) #optional subname of the event\n     **\n     = (string) name of the event, if `subname` is not specified\n     * or\n     = (boolean) `true`, if current event’s name contains `subname`\n    \\*/\n    eve.nt = function (subname) {\n        var cur = isArray(current_event) ? current_event.join(\".\") : current_event;\n        if (subname) {\n            return new RegExp(\"(?:\\\\.|\\\\/|^)\" + subname + \"(?:\\\\.|\\\\/|$)\").test(cur);\n        }\n        return cur;\n    };\n    /*\\\n     * eve.nts\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     **\n     = (array) names of the event\n    \\*/\n    eve.nts = function () {\n        return isArray(current_event) ? current_event : current_event.split(separator);\n    };\n    /*\\\n     * eve.off\n     [ method ]\n     **\n     * Removes given function from the list of event listeners assigned to given name.\n     * If no arguments specified all the events will be cleared.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n    \\*/\n    /*\\\n     * eve.unbind\n     [ method ]\n     **\n     * See @eve.off\n    \\*/\n    eve.off = eve.unbind = function (name, f) {\n        if (!name) {\n            eve._events = events = {n: {}};\n            return;\n        }\n        var names = isArray(name) ? isArray(name[0]) ? name : [name] : Str(name).split(comaseparator);\n        if (names.length > 1) {\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                eve.off(names[i], f);\n            }\n            return;\n        }\n        names = isArray(name) ? name : Str(name).split(separator);\n        var e,\n            key,\n            splice,\n            i, ii, j, jj,\n            cur = [events],\n            inodes = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            for (j = 0; j < cur.length; j += splice.length - 2) {\n                splice = [j, 1];\n                e = cur[j].n;\n                if (names[i] != wildcard) {\n                    if (e[names[i]]) {\n                        splice.push(e[names[i]]);\n                        inodes.unshift({\n                            n: e,\n                            name: names[i]\n                        });\n                    }\n                } else {\n                    for (key in e) if (e[has](key)) {\n                        splice.push(e[key]);\n                        inodes.unshift({\n                            n: e,\n                            name: key\n                        });\n                    }\n                }\n                cur.splice.apply(cur, splice);\n            }\n        }\n        for (i = 0, ii = cur.length; i < ii; i++) {\n            e = cur[i];\n            while (e.n) {\n                if (f) {\n                    if (e.f) {\n                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\n                            e.f.splice(j, 1);\n                            break;\n                        }\n                        !e.f.length && delete e.f;\n                    }\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        var funcs = e.n[key].f;\n                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\n                            funcs.splice(j, 1);\n                            break;\n                        }\n                        !funcs.length && delete e.n[key].f;\n                    }\n                } else {\n                    delete e.f;\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        delete e.n[key].f;\n                    }\n                }\n                e = e.n;\n            }\n        }\n        // prune inner nodes in path\n        prune: for (i = 0, ii = inodes.length; i < ii; i++) {\n            e = inodes[i];\n            for (key in e.n[e.name].f) {\n                // not empty (has listeners)\n                continue prune;\n            }\n            for (key in e.n[e.name].n) {\n                // not empty (has children)\n                continue prune;\n            }\n            // is empty\n            delete e.n[e.name];\n        }\n    };\n    /*\\\n     * eve.once\n     [ method ]\n     **\n     * Binds given event handler with a given name to only run once then unbind itself.\n     | eve.once(\"login\", f);\n     | eve(\"login\"); // triggers f\n     | eve(\"login\"); // no listeners\n     * Use @eve to trigger the listener.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     = (function) same return function as @eve.on\n    \\*/\n    eve.once = function (name, f) {\n        var f2 = function () {\n            for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                args[i] = arguments[i];\n            }    \n            eve.off(name, f2);\n            return f.apply(this, args);\n        };\n        return eve.on(name, f2);\n    };\n    /*\\\n     * eve.version\n     [ property (string) ]\n     **\n     * Current version of the library.\n    \\*/\n    eve.version = version;\n    eve.toString = function () {\n        return \"You are running Eve \" + version;\n    };\n    glob.eve = eve;\n    // typeof module != \"undefined\" && module.exports ? module.exports = eve : typeof define === \"function\" && define.amd ? define(\"eve\", [], function() { return eve; }) : glob.eve = eve;\n    return eve;\n})(typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : null);\n\n\n\n// WEBPACK FOOTER //\n// ./source/eve/eve.js","/* eslint require-jsdoc: 'error', valid-jsdoc: 'error' */\nlet UNDEF,\n    arrayToStr = '[object Array]',\n    objectToStr = '[object Object]',\n    checkCyclicRef = function (obj, parentArr) {\n        var i = parentArr.length,\n            bIndex = -1;\n\n        while (i--) {\n            if (obj === parentArr[i]) {\n                bIndex = i;\n                return bIndex;\n            }\n        }\n\n        return bIndex;\n    },\n    merge = function (obj1, obj2, skipUndef, tgtArr, srcArr) {\n        var item,\n            srcVal,\n            tgtVal,\n            str,\n            cRef;\n        // check whether obj2 is an array\n        // if array then iterate through it's index\n        //* *** MOOTOOLS precution\n        if (!srcArr) {\n            tgtArr = [obj1];\n            srcArr = [obj2];\n        } else {\n            tgtArr.push(obj1);\n            srcArr.push(obj2);\n        }\n\n        if (obj2 instanceof Array) {\n            for (item = 0; item < obj2.length; item += 1) {\n                try {\n                    srcVal = obj1[item];\n                    tgtVal = obj2[item];\n                } catch (e) {\n                    continue;\n                }\n\n                if (typeof tgtVal !== 'object') {\n                    if (!(skipUndef && tgtVal === UNDEF)) {\n                        obj1[item] = tgtVal;\n                    }\n                } else {\n                    if (srcVal === null || typeof srcVal !== 'object') {\n                        srcVal = obj1[item] = tgtVal instanceof Array ? [] : {};\n                    }\n                    cRef = checkCyclicRef(tgtVal, srcArr);\n                    if (cRef !== -1) {\n                        srcVal = obj1[item] = tgtArr[cRef];\n                    } else {\n                        merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                    }\n                }\n            }\n        } else {\n            for (item in obj2) {\n                try {\n                    srcVal = obj1[item];\n                    tgtVal = obj2[item];\n                } catch (e) {\n                    continue;\n                }\n\n                if (tgtVal !== null && typeof tgtVal === 'object') {\n                    // Fix for issue BUG: FWXT-602\n                    // IE < 9 Object.prototype.toString.call(null) gives\n                    // '[object Object]' instead of '[object Null]'\n                    // that's why null value becomes Object in IE < 9\n                    str = Object.prototype.toString.call(tgtVal);\n                    if (str === objectToStr) {\n                        if (srcVal === null || typeof srcVal !== 'object') {\n                            srcVal = obj1[item] = {};\n                        }\n                        cRef = checkCyclicRef(tgtVal, srcArr);\n                        if (cRef !== -1) {\n                            srcVal = obj1[item] = tgtArr[cRef];\n                        } else {\n                            merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                        }\n                    } else if (str === arrayToStr) {\n                        if (srcVal === null || !(srcVal instanceof Array)) {\n                            srcVal = obj1[item] = [];\n                        }\n                        cRef = checkCyclicRef(tgtVal, srcArr);\n                        if (cRef !== -1) {\n                            srcVal = obj1[item] = tgtArr[cRef];\n                        } else {\n                            merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                        }\n                    } else {\n                        obj1[item] = tgtVal;\n                    }\n                } else {\n                    obj1[item] = tgtVal;\n                }\n            }\n        }\n        return obj1;\n    };\n/**\n * Function extend one object's properties with another one\n * @param    {Object} obj1 The object that will be extend\n * @param    {Objcet} obj2 The object, properties of which will be extended into the first one.\n * @param    {boolean} skipUndef Whether to skip the properties with undefined value\n * @param    {boolean} shallow whether it will be a shallow copy or deep copy\n * @return {Object} return the extend object\n */\nexport default function (obj1, obj2, skipUndef, shallow) {\n    var item;\n    // if none of the arguments are object then return back\n    if (typeof obj1 !== 'object' && typeof obj2 !== 'object') {\n        return null;\n    }\n\n    if (typeof obj2 !== 'object' || obj2 === null) {\n        return obj1;\n    }\n\n    if (typeof obj1 === 'undefined') {\n        obj1 = obj2 instanceof Array ? [] : {};\n    }\n    if (shallow) {\n        // Copy all methods and properties of the object passed in parameter\n        // to the object to which this function is attached.\n        for (item in obj2) {\n            obj1[item] = obj2[item];\n        }\n    } else {\n        merge(obj1, obj2, skipUndef);\n    }\n    return obj1;\n}\n\nexport {merge};\n\n\n\n// WEBPACK FOOTER //\n// ./source/raphael.lib.js","/**\n * All non fusincharts related functionalities of redRaphael is listed here\n */\nexport default function (R) {\n    var _win = (typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : null),\n        g = {\n            doc: _win.document,\n            win: _win\n        },\n        elproto = R.el,\n        has = 'hasOwnProperty',\n        apply = 'apply',\n        object = 'object',\n        array = 'array',\n        string = 'string',\n        split = 'split',\n        finite = 'finite',\n        separator = /[, ]+/,\n        oldRaphael = {\n            was: Object.prototype[has].call(g.win, 'Raphael'),\n            is: g.win.Raphael\n        },\n        E = '',\n        mmax = Math.max,\n        mmin = Math.min,\n        paperproto = R.fn,\n        getPath = R._getPath,\n        Str = String,\n        // Set\n        Set = function (items) {\n            this.items = [];\n            this.length = 0;\n            this.type = 'set';\n            if (items) {\n                for (var i = 0, ii = items.length; i < ii; i++) {\n                    if (items[i] && (items[i].constructor == elproto.constructor || items[i].constructor == Set)) {\n                        this[this.items.length] = this.items[this.items.length] = items[i];\n                        this.length++;\n                    }\n                }\n            }\n        },\n        setproto = Set.prototype,\n        getOffset = function (elem) {\n            var box = elem.getBoundingClientRect(),\n                doc = elem.ownerDocument,\n                body = doc.body,\n                docElem = doc.documentElement,\n                clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,\n                top = box.top + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop) - clientTop,\n                left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;\n            return {\n                y: top,\n                x: left\n            };\n        };\n\n    /*\n     * Raphael.st\n     [ property (object) ]\n     **\n     * You can add your own method to elements and sets. It is wise to add a set method for each element method\n     * you added, so you will be able to call the same method on sets too.\n     **\n     * See also @Raphael.el.\n     > Usage\n     | Raphael.el.red = function () {\n     |     this.attr({fill: '#f00'});\n     | };\n     | Raphael.st.red = function () {\n     |     this.forEach(function (el) {\n     |         el.red();\n     |     });\n     | };\n     | // then use it\n     | paper.set(paper.circle(100, 100, 20), paper.circle(110, 100, 20)).red();\n    */\n    R.st = setproto;\n\n    /*\n     * Raphael.snapTo\n     [ method ]\n     **\n     * Snaps given value to given grid.\n     > Parameters\n     - values (array|number) given array of values or step of the grid\n     - value (number) value to adjust\n     - tolerance (number) #optional tolerance for snapping. Default is `10`.\n     = (number) adjusted value.\n    */\n    R.snapTo = function (values, value, tolerance) {\n        var rem,\n            i;\n\n        if (!R.is(tolerance, finite)) {\n            tolerance = 10;\n        }\n\n        if (R.is(values, array)) {\n            i = values.length;\n            while (i--) {\n                if (Math.abs(values[i] - value) <= tolerance) {\n                    return values[i];\n                }\n            }\n        } else {\n            values = +values;\n            rem = value % values;\n\n            if (rem < tolerance) {\n                return value - rem;\n            }\n            if (rem > values - tolerance) {\n                return value - rem + values;\n            }\n        }\n        return value;\n    };\n\n    /*\n     * Raphael.registerFont\n     [ method ]\n     **\n     * Adds given font to the registered set of fonts for Raphaël. Should be used as an internal call from within Cufón’s font file.\n     * Returns original parameter, so it could be used with chaining.\n     # <a href='http://wiki.github.com/sorccu/cufon/about'>More about Cufón and how to convert your font form TTF, OTF, etc to JavaScript file.</a>\n     **\n     > Parameters\n     **\n     - font (object) the font to register\n     = (object) the font you passed in\n     > Usage\n     | Cufon.registerFont(Raphael.registerFont({…}));\n    */\n    R.registerFont = function (font) {\n        if (!font.face) {\n            return font;\n        }\n        this.fonts = this.fonts || {};\n        var fontcopy = {\n                w: font.w,\n                face: {},\n                glyphs: {}\n            },\n            family = font.face['font-family'];\n        for (var prop in font.face)\n            if (font.face[has](prop)) {\n                fontcopy.face[prop] = font.face[prop];\n            }\n        if (this.fonts[family]) {\n            this.fonts[family].push(fontcopy);\n        } else {\n            this.fonts[family] = [fontcopy];\n        }\n        if (!font.svg) {\n            fontcopy.face['units-per-em'] = g.win.parseInt(font.face['units-per-em'], 10);\n            for (var glyph in font.glyphs)\n                if (font.glyphs[has](glyph)) {\n                    var path = font.glyphs[glyph];\n                    fontcopy.glyphs[glyph] = {\n                        w: path.w,\n                        k: {},\n                        d: path.d && 'M' + path.d.replace(/[mlcxtrv]/g, function(command) {\n                            return {\n                                l: 'L',\n                                c: 'C',\n                                x: 'z',\n                                t: 'm',\n                                r: 'l',\n                                v: 'c'\n                            }\n                            [command] || 'M';\n                        }) + 'z'\n                    };\n                    if (path.k) {\n                        for (var k in path.k)\n                            if (path[has](k)) {\n                                fontcopy.glyphs[glyph].k[k] = path.k[k];\n                            }\n                    }\n                }\n        }\n        return font;\n    };\n\n    /*\n     * Raphael.fullfill\n     [ method ]\n     **\n     * A little bit more advanced format function than @Raphael.format. Replaces construction of type “`{<name>}`” to the corresponding argument.\n     **\n     > Parameters\n     **\n     - token (string) string to format\n     - json (object) object which properties will be used as a replacement\n     = (string) formated string\n     > Usage\n     | // this will draw a rectangular shape equivalent to 'M10,20h40v50h-40z'\n     | paper.path(Raphael.fullfill('M{x},{y}h{dim.width}v{dim.height}h{dim['negative width']}z', {\n     |     x: 10,\n     |     y: 20,\n     |     dim: {\n     |         width: 40,\n     |         height: 50,\n     |         'negative width': -40\n     |     }\n     | }));\n    */\n    R.fullfill = (function () {\n        var tokenRegex = /\\{([^\\}]+)\\}/g,\n            objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|')(.+?)\\2\\])(\\(\\))?/g, // matches .xxxxx or ['xxxxx'] to run over object properties\n            replacer = function(all, key, obj) {\n                var res = obj;\n                key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\n                    name = name || quotedName;\n                    if (res) {\n                        if (name in res) {\n                            res = res[name];\n                        }\n                        typeof res == 'function' && isFunc && (res = res());\n                    }\n                });\n                res = (res == null || res == obj ? all : res) + '';\n                return res;\n            };\n        return function(str, obj) {\n            return String(str).replace(tokenRegex, function(all, key) {\n                return replacer(all, key, obj);\n            });\n        };\n    })();\n\n    /*\n     * Raphael.ninja\n     [ method ]\n     **\n     * If you want to leave no trace of Raphaël (Well, Raphaël creates only one global variable `Raphael`, but anyway.) You can use `ninja` method.\n     * Beware, that in this case plugins could stop working, because they are depending on global variable existance.\n     **\n     = (object) Raphael object\n     > Usage\n     | (function (local_raphael) {\n     |     var paper = local_raphael(10, 10, 320, 200);\n     |     …\n     | })(Raphael.ninja());\n    */\n    R.ninja = function () {\n        oldRaphael.was ? (g.win.Raphael = oldRaphael.is) : delete g.win.Raphael;\n        return R;\n    };\n\n    /*\n     * Paper.getFont\n     [ method ]\n     **\n     * Finds font object in the registered fonts by given parameters. You could specify only one word from the font name, like “Myriad” for “Myriad Pro”.\n     **\n     > Parameters\n     **\n     - family (string) font family name or any word from it\n     - weight (string) #optional font weight\n     - style (string) #optional font style\n     - stretch (string) #optional font stretch\n     = (object) the font object\n     > Usage\n     | paper.print(100, 100, 'Test string', paper.getFont('Times', 800), 30);\n    */\n    paperproto.getFont = function (family, weight, style, stretch) {\n        stretch = stretch || 'normal';\n        style = style || 'normal';\n        weight = +weight || {\n            normal: 400,\n            bold: 700,\n            lighter: 300,\n            bolder: 800\n        }\n        [weight] || 400;\n        if (!R.fonts) {\n            return;\n        }\n        var font = R.fonts[family];\n        if (!font) {\n            var name = new RegExp('(^|\\\\s)' + family.replace(/[^\\w\\d\\s+!~.:_-]/g, E) + '(\\\\s|$)', 'i');\n            for (var fontName in R.fonts) {\n                if (R.fonts[has](fontName)) {\n                    if (name.test(fontName)) {\n                        font = R.fonts[fontName];\n                        break;\n                    }\n                }\n            }\n        }\n        var thefont;\n        if (font) {\n            for (var i = 0, ii = font.length; i < ii; i++) {\n                thefont = font[i];\n                if (thefont.face['font-weight'] == weight && (thefont.face['font-style'] == style || !thefont.face['font-style']) && thefont.face['font-stretch'] == stretch) {\n                    break;\n                }\n            }\n        }\n        return thefont;\n    };\n\n    /*\n     * Paper.print\n     [ method ]\n     **\n     * Creates path that represent given text written using given font at given position with given size.\n     * Result of the method is path element that contains whole text as a separate path.\n     **\n     > Parameters\n     **\n     - x (number) x position of the text\n     - y (number) y position of the text\n     - string (string) text to print\n     - font (object) font object, see @Paper.getFont\n     - size (number) #optional size of the font, default is `16`\n     - origin (string) #optional could be `'baseline'` or `'middle'`, default is `'middle'`\n     - letter_spacing (number) #optional number in range `-1..1`, default is `0`\n     = (object) resulting path element, which consist of all letters\n     > Usage\n     | var txt = r.print(10, 50, 'print', r.getFont('Museo'), 30).attr({fill: '#fff'});\n    */\n    paperproto.print = function (x, y, string, font, size, origin, letterSpacing) {\n        origin = origin || 'middle'; // baseline|middle\n        letterSpacing = mmax(mmin(letterSpacing || 0, 1), -1);\n        var letters = Str(string)[split](E),\n            shift = 0,\n            notfirst = 0,\n            path = E,\n            scale;\n        R.is(font, string) && (font = this.getFont(font));\n        if (font) {\n            scale = (size || 16) / font.face['units-per-em'];\n            var bb = font.face.bbox[split](separator),\n                top = +bb[0],\n                lineHeight = bb[3] - bb[1],\n                shifty = 0,\n                height = + bb[1] + (origin == 'baseline' ? lineHeight + ( + font.face.descent) : lineHeight / 2);\n            for (var i = 0, ii = letters.length; i < ii; i++) {\n                if (letters[i] == '\\n') {\n                    shift = 0;\n                    curr = 0;\n                    notfirst = 0;\n                    shifty += lineHeight;\n                } else {\n                    var prev = notfirst && font.glyphs[letters[i - 1]] || {},\n                    curr = font.glyphs[letters[i]];\n                    shift += notfirst ? (prev.w || font.w) + (prev.k && prev.k[letters[i]] || 0) + (font.w * letterSpacing) : 0;\n                    notfirst = 1;\n                }\n                if (curr && curr.d) {\n                    path += R.transformPath(curr.d, ['t', shift * scale, shifty * scale, 's', scale, scale, top, height, 't', (x - top) / scale, (y - height) / scale]);\n                }\n            }\n        }\n        return this.path(path).attr({\n            fill: '#000',\n            stroke: 'none'\n        });\n    };\n\n    /*\n     * Paper.add\n     [ method ]\n     **\n     * Imports elements in JSON array in format `{type: type, <attributes>}`\n     **\n     > Parameters\n     **\n     - json (array)\n     = (object) resulting set of imported elements\n     > Usage\n     | paper.add([\n     |     {\n     |         type: 'circle',\n     |         cx: 10,\n     |         cy: 10,\n     |         r: 5\n     |     },\n     |     {\n     |         type: 'rect',\n     |         x: 10,\n     |         y: 10,\n     |         width: 10,\n     |         height: 10,\n     |         fill: '#fc0'\n     |     }\n     | ]);\n    */\n    paperproto.add = function (json) {\n        if (R.is(json, 'array')) {\n            var res = this.set(),\n                i = 0,\n                ii = json.length,\n                j;\n            for (; i < ii; i++) {\n                j = json[i] || {};\n                elements[has](j.type) && res.push(this[j.type]().attr(j));\n            }\n        }\n        return res;\n    };\n    /*\n     * Paper.getElementByPoint\n     [ method ]\n     **\n     * Returns you topmost element under given point.\n     **\n     = (object) Raphaël element object\n     > Parameters\n     **\n     - x (number) x coordinate from the top left corner of the window\n     - y (number) y coordinate from the top left corner of the window\n     > Usage\n     | paper.getElementByPoint(mouseX, mouseY).attr({stroke: '#f00'});\n    */\n    paperproto.getElementByPoint = function (x, y) {\n        var paper = this,\n            svg = paper.canvas,\n            target = g.doc.elementFromPoint(x, y);\n        if (g.win.opera && target.tagName == 'svg') {\n            var so = getOffset(svg),\n                sr = svg.createSVGRect();\n            sr.x = x - so.x;\n            sr.y = y - so.y;\n            sr.width = sr.height = 1;\n            var hits = svg.getIntersectionList(sr, null);\n            if (hits.length) {\n                target = hits[hits.length - 1];\n            }\n        }\n        if (!target) {\n            return null;\n        }\n        while (target.parentNode && target != svg.parentNode && !target.raphael) {\n            target = target.parentNode;\n        }\n        target == paper.canvas.parentNode && (target = svg);\n        target = target && target.raphael ? paper.getById(target.raphaelid) : null;\n        return target;\n    };\n\n    /*\n     * Paper.getElementsByBBox\n     [ method ]\n     **\n     * Returns set of elements that have an intersecting bounding box\n     **\n     > Parameters\n     **\n     - bbox (object) bbox to check with\n     = (object) @Set\n     */\n    paperproto.getElementsByBBox = function (bbox) {\n        var set = this.set();\n        this.forEach(function (el) {\n            if (R.isBBoxIntersect(el.getBBox(), bbox)) {\n                set.push(el);\n            }\n        });\n        return set;\n    };\n\n    /*\n     * Paper.forEach\n     [ method ]\n     **\n     * Executes given function for each element on the paper\n     *\n     * If callback function returns `false` it will stop loop running.\n     **\n     > Parameters\n     **\n     - callback (function) function to run\n     - thisArg (object) context object for the callback\n     = (object) Paper object\n     > Usage\n     | paper.forEach(function (el) {\n     |     el.attr({ stroke: 'blue' });\n     | });\n    */\n    paperproto.forEach = function (callback, thisArg) {\n        var bot = this.bottom;\n        while (bot) {\n            if (callback.call(thisArg, bot) === false) {\n                return this;\n            }\n            bot = bot.next;\n        }\n        return this;\n    };\n\n    /*\n     * Paper.getElementsByPoint\n     [ method ]\n     **\n     * Returns set of elements that have common point inside\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the point\n     - y (number) y coordinate of the point\n     = (object) @Set\n    */\n    paperproto.getElementsByPoint = function (x, y) {\n        var set = this.set();\n        this.forEach(function (el) {\n            if (el.isPointInside(x, y)) {\n                set.push(el);\n            }\n        });\n        return set;\n    };\n\n    /*\n     * Paper.set\n     [ method ]\n     **\n     * Creates array-like object to keep and operate several elements at once.\n     * Warning: it doesn’t create any elements for itself in the page, it just groups existing elements.\n     * Sets act as pseudo elements — all methods available to an element can be used on a set.\n     = (object) array-like object that represents set of elements\n     **\n     > Usage\n     | var st = paper.set();\n     | st.push(\n     |     paper.circle(10, 10, 5),\n     |     paper.circle(30, 10, 5)\n     | );\n     | st.attr({fill: 'red'}); // changes the fill of both circles\n    */\n    paperproto.set = function (itemsArray) {\n        for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n            args[i] = arguments[i];\n        }\n        !R.is(itemsArray, 'array') && (itemsArray = Array.prototype.splice.call(args, 0, args.length));\n        var out = new Set(itemsArray);\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n\n    /*\n     * Paper.setStart\n     [ method ]\n     **\n     * Creates @Paper.set. All elements that will be created after calling this method and before calling\n     * @Paper.setFinish will be added to the set.\n     **\n     > Usage\n     | paper.setStart();\n     | paper.circle(10, 10, 5),\n     | paper.circle(30, 10, 5)\n     | var st = paper.setFinish();\n     | st.attr({fill: 'red'}); // changes the fill of both circles\n    */\n    paperproto.setStart = function (set) {\n        this.__set__ = set || this.set();\n    };\n\n    /*\n     * Paper.setFinish\n     [ method ]\n     **\n     * See @Paper.setStart. This method finishes catching and returns resulting set.\n     **\n     = (object) set\n    */\n    paperproto.setFinish = function (set) {\n        var out = this.__set__;\n        delete this.__set__;\n        return out;\n    };\n\n    /*\n     * Element.isPointInside\n     [ method ]\n     **\n     * Determine if given point is inside this element’s shape\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the point\n     - y (number) y coordinate of the point\n     = (boolean) `true` if point inside the shape\n    */\n    elproto.isPointInside = function (x, y) {\n        var rp = this.realPath = this.realPath || getPath[this.type](this),\n            tr;\n        return R.isPointInsidePath(((tr = this.attr('transform')) &&\n            tr.length && R.transformPath(rp, tr)) || rp, x, y);\n    };\n\n    /*\n     * Element.glow\n     [ method ]\n     **\n     * Return set of elements that create glow-like effect around given element. See @Paper.set.\n     *\n     * Note: Glow is not connected to the element. If you change element attributes it won’t adjust itself.\n     **\n     > Parameters\n     **\n     - glow (object) #optional parameters object with all properties optional:\n     o {\n     o     width (number) size of the glow, default is `10`\n     o     fill (boolean) will it be filled, default is `false`\n     o     opacity (number) opacity, default is `0.5`\n     o     offsetx (number) horizontal offset, default is `0`\n     o     offsety (number) vertical offset, default is `0`\n     o     color (string) glow colour, default is `black`\n     o }\n     = (object) @Paper.set of elements that represents glow\n    */\n    elproto.glow = function (glow) {\n        if (this.type == 'text') {\n            return null;\n        }\n        glow = glow || {};\n        var s = {\n                width: (glow.width || 10) + (+this.attr('stroke-width') || 1),\n                fill: glow.fill || false,\n                opacity: glow.opacity || 0.5,\n                offsetx: glow.offsetx || 0,\n                offsety: glow.offsety || 0,\n                color: glow.color || '#000'\n            },\n            c = s.width / 2,\n            r = this.paper,\n            out = r.set(),\n            path = this.realPath || getPath[this.type](this);\n        path = this.matrix ? R.mapPath(path, this.matrix) : path;\n        for (var i = 1; i < c + 1; i++) {\n            out.push(r.path(path).attr({\n                stroke: s.color,\n                fill: s.fill ? s.color : 'none',\n                'stroke-linejoin': 'round',\n                'stroke-linecap': 'round',\n                'stroke-width': +(s.width / c * i).toFixed(3),\n                opacity: +(s.opacity / c).toFixed(3)\n            }));\n        }\n        return out.insertBefore(this).translate(s.offsetx, s.offsety);\n    };\n\n    /*\n     * Element.setTime\n     [ method ]\n     **\n     * Sets the status of animation of the element in milliseconds. Similar to @Element.status method.\n     **\n     > Parameters\n     **\n     - anim (object) animation object\n     - value (number) number of milliseconds from the beginning of the animation\n     **\n     = (object) original element if `value` is specified\n     * Note, that during animation following events are triggered:\n     *\n     * On each animation frame event `anim.frame.<id>`, on start `anim.start.<id>` and on end `anim.finish.<id>`.\n    */\n    elproto.setTime = function (anim, value) {\n        if (anim && value != null) {\n            this.status(anim, mmin(value, anim.ms) / anim.ms);\n        }\n        return this;\n    };\n\n    /*\n     * Set.push\n     [ method ]\n     **\n     * Adds each argument to the current set.\n     = (object) original element\n    */\n    setproto.push = function () {\n        var item,\n            len;\n        for (var i = 0, ii = arguments.length; i < ii; i++) {\n            item = arguments[i];\n            if (item && (item.constructor == elproto.constructor || item.constructor == Set)) {\n                len = this.items.length;\n                this[len] = this.items[len] = item;\n                this.length++;\n            }\n        }\n        return this;\n    };\n\n    /*\n     * Set.pop\n     [ method ]\n     **\n     * Removes last element and returns it.\n     = (object) element\n    */\n    setproto.pop = function () {\n        this.length && delete this[this.length--];\n        return this.items.pop();\n    };\n\n    /*\n     * Set.forEach\n     [ method ]\n     **\n     * Executes given function for each element in the set.\n     *\n     * If function returns `false` it will stop loop running.\n     **\n     > Parameters\n     **\n     - callback (function) function to run\n     - thisArg (object) context object for the callback\n     = (object) Set object\n    */\n    setproto.forEach = function (callback, thisArg) {\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            if (callback.call(thisArg, this.items[i], i) === false) {\n                return this;\n            }\n        }\n        return this;\n    };\n    for (var method in elproto) {\n        if (elproto[has](method)) {\n            setproto[method] = (function (methodname) {\n                return function () {\n                    for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                        args[i] = arguments[i];\n                    }        \n                    return this.forEach(function (el) {\n                        el[methodname][apply](el, args);\n                    });\n                };\n            })(method);\n        }\n    }\n    setproto.attr = function (name, value) {\n        if (name && R.is(name, array) && R.is(name[0], object)) {\n            for (var j = 0, jj = name.length; j < jj; j++) {\n                this.items[j].attr(name[j]);\n            }\n        } else {\n            for (var i = 0, ii = this.items.length; i < ii; i++) {\n                this.items[i].attr(name, value);\n            }\n        }\n        return this;\n    };\n\n    /*\n     * Set.clear\n     [ method ]\n     **\n     * Removeds all elements from the set\n    */\n    setproto.clear = function () {\n        while (this.length) {\n            this.pop();\n        }\n    };\n\n    /*\n     * Set.splice\n     [ method ]\n     **\n     * Removes given element from the set\n     **\n     > Parameters\n     **\n     - index (number) position of the deletion\n     - count (number) number of element to remove\n     - insertion… (object) #optional elements to insert\n     = (object) set elements that were deleted\n    */\n    setproto.splice = function (index, count, insertion) {\n        index = index < 0 ? mmax(this.length + index, 0) : index;\n        count = mmax(0, mmin(this.length - index, isNaN(count) && this.length || count));\n        var tail = [],\n            todel = [],\n            args = [],\n            arglen,\n            i;\n        for (i = 2; i < arguments.length; i++) {\n            args.push(arguments[i]);\n        }\n        for (i = 0; i < count; i++) {\n            todel.push(this[index + i]);\n        }\n        for (; i < this.length - index; i++) {\n            tail.push(this[index + i]);\n        }\n        arglen = args.length;\n        for (i = 0; i < arglen + tail.length; i++) {\n            this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];\n        }\n        i = this.items.length = this.length -= count - arglen;\n        while (this[i]) {\n            delete this[i++];\n        }\n        return new Set(todel);\n    };\n\n    /*\n     * Set.exclude\n     [ method ]\n     **\n     * Removes given element from the set\n     **\n     > Parameters\n     **\n     - element (object) element to remove\n     = (boolean) `true` if object was found & removed from the set\n    */\n    setproto.exclude = function (el) {\n        for (var i = 0, ii = this.length; i < ii; i++) {\n            if (this[i] == el) {\n                this.splice(i, 1);\n                return true;\n            }\n        }\n    };\n    setproto.animate = function (params, ms, easing, callback) {\n        (R.is(easing, 'function') || !easing) && (callback = easing || null);\n        var len = this.items.length,\n            i = len,\n            item,\n            anim,\n            set = this,\n            collector;\n        if (!len) {\n            return this;\n        }\n        callback && (collector = function() {\n            !--len && callback.call(set);\n        });\n        easing = R.is(easing, string) ? easing : collector;\n        anim = R.animation(params, ms, easing, collector);\n        item = this.items[--i].animate(anim);\n        while (i--) {\n            this.items[i] && !this.items[i].removed && this.items[i].animateWith(item, anim, anim);\n        }\n        return this;\n    };\n    setproto.insertAfter = function (el) {\n        var i = this.items.length;\n        while (i--) {\n            this.items[i].insertAfter(el);\n        }\n        return this;\n    };\n    setproto.getBBox = function () {\n        var x = [],\n            y = [],\n            x2 = [],\n            y2 = [];\n        for (var i = this.items.length; i--;) {\n            if (!this.items[i].removed) {\n                var box = this.items[i].getBBox();\n                x.push(box.x);\n                y.push(box.y);\n                x2.push(box.x + box.width);\n                y2.push(box.y + box.height);\n            }\n        }\n        x = mmin[apply](0, x);\n        y = mmin[apply](0, y);\n        x2 = mmax[apply](0, x2);\n        y2 = mmax[apply](0, y2);\n        return {\n            x: x,\n            y: y,\n            x2: x2,\n            y2: y2,\n            width: x2 - x,\n            height: y2 - y\n        };\n    };\n    setproto.clone = function (s) {\n        s = new Set();\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            s.push(this.items[i].clone());\n        }\n        return s;\n    };\n    setproto.toString = function () {\n        return 'Rapha\\xebl\\u2018s set';\n    };\n\n    setproto.glow = function (glowConfig) {\n        var ret = this.paper.set();\n        this.forEach(function(shape, index) {\n            var g = shape.glow(glowConfig);\n            if (g != null) {\n                g.forEach(function (shape2, index2) {\n                    ret.push(shape2);\n                });\n            }\n        });\n        return ret;\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/raphael.core-extend.js","/**!\n* RedRaphael 1.0.0 - JavaScript Vector Library SVG Module\n* Copyright (c) 2012-2013 FusionCharts Technologies <http://www.fusioncharts.com>\n*\n* Raphael 2.1.0 - JavaScript Vector Library SVG Module\n* Copyright (c) 2008-2012 Dmitry Baranovskiy <http://raphaeljs.com>\n* Copyright © 2008-2012 Sencha Labs <http://sencha.com>\n*\n* Licensed under the MIT license.\n*/\n// Define _window as window object in case of indivual file inclusion.\n\nexport default function (R) {\n    if (R.svg) {\n        var has = \"hasOwnProperty\",\n            Str = String,\n            toFloat = parseFloat,\n            toInt = parseInt,\n            theMSG,\n            randomPos = -100,\n            txtElem,\n            math = Math,\n            mmax = math.max,\n            abs = math.abs,\n            pow = math.pow,\n            sqrt = math.sqrt,\n            xlinkRegx = /^xlink\\:/,\n            separator = /[, ]+/,\n            arrayShift = Array.prototype.shift,\n            zeroStrokeFix = !!(/AppleWebKit/.test(R._g.win.navigator.userAgent) &&\n                    (!/Chrome/.test(R._g.win.navigator.userAgent) ||\n                    R._g.win.navigator.appVersion.match(/Chrome\\/(\\d+)\\./)[1] < 29)),\n            eve = R.eve,\n            E = \"\",\n            S = \" \",\n            xlink = \"http://www.w3.org/1999/xlink\",\n            svgNSStr = \"http://www.w3.org/2000/svg\",\n            typeStringSTR = \"string\",\n            markers = {\n                block: \"M5,0 0,2.5 5,5z\",\n                classic: \"M5,0 0,2.5 5,5 3.5,3 3.5,2z\",\n                diamond: \"M2.5,0 5,2.5 2.5,5 0,2.5z\",\n                open: \"M6,1 1,3.5 6,6\",\n                oval: \"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z\"\n            },\n            shapeRenderingAttrs = {\n                speed: 'optimizeSpeed',\n                crisp: 'crispEdges',\n                precision: 'geometricPrecision'\n            },\n            markerCounter = {},\n            // updateReferenceUrl = function () {\n            //     return R._url = R._g.win.location.href.replace(/#.*?$/, E);\n            // },\n            createDummyText = function (paper) {\n                txtElem = paper.txtElem = document.createElementNS(svgNSStr, 'text')\n                txtElem.setAttribute('x', randomPos)\n                txtElem.setAttribute('y', randomPos)\n                theMSG = document.createTextNode('abcdefhiklmnopqrstuvwxyz')\n                txtElem.appendChild(theMSG)\n                document.getElementsByTagName('svg')[0].appendChild(txtElem)\n            };\n\n        R.cachedFontHeight = {};\n\n        R.toString = function() {\n            return  \"Your browser supports SVG.\\nYou are running Rapha\\xebl \" + this.version;\n        };\n\n        // Code commented as resources will now be referenced using relative urls.\n        // @todo Remove once we have acertained that there are no issues in any environment.\n        // Automatic gradient and other reference update on state change\n        // R._url = (/msie/i.test(navigator.userAgent) && !window.opera) ?\n        //     E : updateReferenceUrl();\n        // if (R._url && R._g.win.history.pushState) {\n        //     R._g.win.history.pushState = (function () {\n        //         var fn = R._g.win.history.pushState;\n        //         return function () {\n        //             var ret = fn.apply(R._g.win.history, arguments);\n        //             return updateReferenceUrl(), ret;\n        //         };\n        //     }());\n        //     R._g.win.addEventListener(\"popstate\", updateReferenceUrl, false);\n        // }\n        R._url = E;\n\n        var updateGradientReference = function (element, newGradient) {\n            var gradient = element.gradient;\n\n            if (gradient) {\n                if (gradient === newGradient) {\n                    return; // no change\n                }\n                // else gradient is specified and it is not same as newGradient, implying a dereference\n                gradient.refCount--;\n                if (!gradient.refCount) {\n                    gradient.parentNode.removeChild(gradient);\n                }\n                delete element.gradient;\n            }\n\n            if (newGradient) { // add new gradient\n                element.gradient = newGradient;\n                newGradient.refCount++;\n            }\n        };\n\n        var $ = R._createNode = function(el, attr) {\n            // Create the element\n            if (typeof el == typeStringSTR) {\n                el = R._g.doc.createElementNS(svgNSStr, el);\n            } \n            // else {\n                \n            // }\n            if (attr) {\n                var key;\n                for (key in attr)\n                    if (attr[has](key)) {\n                        if (xlinkRegx.test(key)) {\n                            el.setAttributeNS(xlink, key.replace(xlinkRegx, E), attr[key]);\n                        } else {\n                            el.setAttribute(key, attr[key]);\n                        }\n                    }\n            }\n            return el;\n        },\n        gradientUnitNames = {\n            userSpaceOnUse: 'userSpaceOnUse',\n            objectBoundingBox: 'objectBoundingBox'\n        },\n        gradientSpreadNames = {\n            pad: 'pad',\n            redlect: 'reflect',\n            repeat: 'repeat'\n        },\n        addGradientFill = function(element, gradient) {\n            if (!element.paper || !element.paper.defs) {\n                return 0;\n            }\n\n            var type = \"linear\",\n                SVG = element.paper,\n                id = R.getElementID((SVG.id + '-' + gradient).replace(/[\\(\\)\\s%:,\\xb0#]/g, \"_\")),\n                fx = .5, fy = .5, r, cx, cy, units, spread,\n                o = element.node,\n                s = o.style,\n                el = R._g.doc.getElementById(id);\n\n            if (!el) {\n                gradient = Str(gradient).replace(R._radial_gradient, function(all, opts) {\n                    type = \"radial\";\n                    opts = opts && opts.split(',') || [];\n                    units = opts[5];\n                    spread = opts[6];\n\n                    var _fx = opts[0],\n                        _fy = opts[1],\n                        _r = opts[2],\n                        _cx = opts[3],\n                        _cy = opts[4],\n                        shifted = (_fx && _fy),\n                        dir,\n                        sqx;\n\n                    if (_r) {\n                        r = /\\%/.test(_r) ? _r : toFloat(_r);\n                    }\n\n                    if (units === gradientUnitNames.userSpaceOnUse) {\n                        if (shifted) {\n                            fx = _fx;\n                            fy = _fy;\n                        }\n                        if (_cx && _cy) {\n                            cx = _cx;\n                            cy = _cy;\n                            if (!shifted) {\n                                fx = cx;\n                                fy = cy;\n                            }\n                        }\n                        return E;\n                    }\n\n                    if (shifted) {\n                        fx = toFloat(_fx);\n                        fy = toFloat(_fy);\n                        dir = ((fy > .5) * 2 - 1);\n                        (sqx = pow(fx - .5, 2)) + pow(fy - .5, 2) > .25 &&\n                        (sqx < .25) && (fy = sqrt(.25 - sqx) * dir + .5) &&\n                        fy !== .5 &&\n                        (fy = fy.toFixed(5) - 1e-5 * dir);\n                    }\n                    if (_cx && _cy) {\n                        cx = toFloat(_cx);\n                        cy = toFloat(_cy);\n                        dir = ((cy > .5) * 2 - 1);\n\n                        (sqx = pow(cx - .5, 2)) + pow(cy - .5, 2) > .25 &&\n                        (sqx < .25) && (cy = sqrt(.25 - sqx) * dir + .5) &&\n                        cy !== .5 &&\n                        (cy = cy.toFixed(5) - 1e-5 * dir);\n\n                        if (!shifted) {\n                            fx = cx;\n                            fy = cy;\n                        }\n                    }\n\n                    return E;\n                });\n                gradient = gradient.split(/\\s*\\-\\s*/);\n                if (type == \"linear\") {\n                    var angle = gradient.shift(),\n                        specs = angle.match(/\\((.*)\\)/),\n                        vector,\n                        max;\n\n                    specs = specs && specs[1] && specs[1].split(/\\s*\\,\\s*/);\n                    angle = -toFloat(angle);\n                    if (isNaN(angle)) {\n                        return null;\n                    }\n                    if (specs && specs.length) {\n                        if (specs[0] in gradientUnitNames) {\n                            units = specs.shift();\n                            (specs[0] in gradientSpreadNames) &&\n                                (spread = specs.shift());\n                        }\n                        else {\n                            specs[4] && (units = specs[4]);\n                            specs[5] && (spread = specs[5]);\n                        }\n\n                        /** @todo apply angle rotation and validation */\n                        vector = [\n                            specs[0] || \"0%\", specs[1] || \"0%\",\n                            specs[2] || \"100%\", specs[3] || \"0%\"\n                        ];\n                    }\n                    else {\n                        vector = [0, 0, math.cos(R.rad(angle)), math.sin(R.rad(angle))];\n                        max = 1 / (mmax(abs(vector[2]), abs(vector[3])) || 1);\n                        vector[2] *= max;\n                        vector[3] *= max;\n                        if (vector[2] < 0) {\n                            vector[0] = -vector[2];\n                            vector[2] = 0;\n                        }\n                        if (vector[3] < 0) {\n                            vector[1] = -vector[3];\n                            vector[3] = 0;\n                        }\n                    }\n                }\n                var dots = R._parseDots(gradient);\n                if (!dots) {\n                    return null;\n                }\n\n                el = $(type + \"Gradient\", {\n                    id: id\n                });\n                el.refCount = 0;\n                (units in gradientUnitNames) &&\n                        el.setAttribute('gradientUnits', Str(units));\n                (spread in gradientSpreadNames) &&\n                        el.setAttribute('spreadMethod', Str(spread));\n                if (type === \"radial\") {\n                    (r !== undefined) && el.setAttribute('r', Str(r));\n\n                    if (cx !== undefined && cy !== undefined) {\n                        el.setAttribute('cx', Str(cx));\n                        el.setAttribute('cy', Str(cy));\n                    }\n                    el.setAttribute('fx', Str(fx));\n                    el.setAttribute('fy', Str(fy));\n                }\n                else {\n                    $(el, {\n                        x1: vector[0],\n                        y1: vector[1],\n                        x2: vector[2],\n                        y2: vector[3]\n                    });\n                }\n\n                for (var i = 0, ii = dots.length; i < ii; i++) {\n                    el.appendChild($(\"stop\", {\n                        offset: dots[i].offset ? dots[i].offset : i ? \"100%\" : \"0%\",\n                        \"stop-color\": dots[i].color || \"#fff\",\n                        //add stop opacity information\n                        \"stop-opacity\": dots[i].opacity === undefined ? 1 : dots[i].opacity\n                    }));\n                }\n                SVG.defs.appendChild(el);\n            }\n\n            updateGradientReference(element, el);\n\n            $(o, {\n                fill: \"url('\" + R._url + \"#\" + id + \"')\",\n                \"fill-opacity\": 1\n            });\n\n            s.fill = E;\n            s.fillOpacity = 1;\n            return 1;\n        },\n        updatePosition = function(o) {\n            var bbox = o.getBBox(1);\n            $(o.pattern, {\n                patternTransform: o.matrix.invert() + \" translate(\" + bbox.x + \",\" + bbox.y + \")\"\n            });\n        },\n        addArrow = function(o, value, isEnd) {\n            if (o.type == \"path\") {\n                var values = Str(value).toLowerCase().split(\"-\"),\n                p = o.paper,\n                se = isEnd ? \"end\" : \"start\",\n                node = o.node,\n                attrs = o.attrs,\n                stroke = attrs[\"stroke-width\"],\n                i = values.length,\n                type = \"classic\",\n                from,\n                to,\n                dx,\n                refX,\n                attr,\n                w = 3,\n                h = 3,\n                t = 5;\n                while (i--) {\n                    switch (values[i]) {\n                        case \"block\":\n                        case \"classic\":\n                        case \"oval\":\n                        case \"diamond\":\n                        case \"open\":\n                        case \"none\":\n                            type = values[i];\n                            break;\n                        case \"wide\":\n                            h = 5;\n                            break;\n                        case \"narrow\":\n                            h = 2;\n                            break;\n                        case \"long\":\n                            w = 5;\n                            break;\n                        case \"short\":\n                            w = 2;\n                            break;\n                    }\n                }\n                if (type == \"open\") {\n                    w += 2;\n                    h += 2;\n                    t += 2;\n                    dx = 1;\n                    refX = isEnd ? 4 : 1;\n                    attr = {\n                        fill: \"none\",\n                        stroke: attrs.stroke\n                    };\n                } else {\n                    refX = dx = w / 2;\n                    attr = {\n                        fill: attrs.stroke,\n                        stroke: \"none\"\n                    };\n                }\n                if (o._.arrows) {\n                    if (isEnd) {\n                        o._.arrows.endPath && markerCounter[o._.arrows.endPath]--;\n                        o._.arrows.endMarker && markerCounter[o._.arrows.endMarker]--;\n                    } else {\n                        o._.arrows.startPath && markerCounter[o._.arrows.startPath]--;\n                        o._.arrows.startMarker && markerCounter[o._.arrows.startMarker]--;\n                    }\n                } else {\n                    o._.arrows = {};\n                }\n                if (type != \"none\") {\n                    var pathId = \"raphael-marker-\" + type,\n                    markerId = \"raphael-marker-\" + se + type + w + h + \"-obj\" + o.id;\n                    if (!R._g.doc.getElementById(pathId)) {\n                        p.defs.appendChild($($(\"path\"), {\n                            \"stroke-linecap\": \"round\",\n                            d: markers[type],\n                            id: pathId\n                        }));\n                        markerCounter[pathId] = 1;\n                    } else {\n                        markerCounter[pathId]++;\n                    }\n                    var marker = R._g.doc.getElementById(markerId),\n                    use;\n                    if (!marker) {\n                        marker = $($(\"marker\"), {\n                            id: markerId,\n                            markerHeight: h,\n                            markerWidth: w,\n                            orient: \"auto\",\n                            refX: refX,\n                            refY: h / 2\n                        });\n                        use = $($(\"use\"), {\n                            \"xlink:href\": \"#\" + pathId,\n                            transform: (isEnd ? \"rotate(180 \" + w / 2 + \" \" + h / 2 + \") \" : E) + \"scale(\" + w / t + \",\" + h / t + \")\",\n                            \"stroke-width\": (1 / ((w / t + h / t) / 2)).toFixed(4)\n                        });\n                        marker.appendChild(use);\n                        p.defs.appendChild(marker);\n                        markerCounter[markerId] = 1;\n                    } else {\n                        markerCounter[markerId]++;\n                        use = marker.getElementsByTagName(\"use\")[0];\n                    }\n                    $(use, attr);\n                    var delta = dx * (type != \"diamond\" && type != \"oval\");\n                    if (isEnd) {\n                        from = o._.arrows.startdx * stroke || 0;\n                        to = R.getTotalLength(attrs.path) - delta * stroke;\n                    } else {\n                        from = delta * stroke;\n                        to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\n                    }\n                    attr = {};\n                    attr[\"marker-\" + se] = \"url('\" + R._url + \"#\" + markerId + \"')\";\n                    if (to || from) {\n                        attr.d = R.getSubpath(attrs.path, from, to);\n                    }\n                    $(node, attr);\n                    o._.arrows[se + \"Path\"] = pathId;\n                    o._.arrows[se + \"Marker\"] = markerId;\n                    o._.arrows[se + \"dx\"] = delta;\n                    o._.arrows[se + \"Type\"] = type;\n                    o._.arrows[se + typeStringSTR] = value;\n                } else {\n                    if (isEnd) {\n                        from = o._.arrows.startdx * stroke || 0;\n                        to = R.getTotalLength(attrs.path) - from;\n                    } else {\n                        from = 0;\n                        to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\n                    }\n                    o._.arrows[se + \"Path\"] && $(node, {\n                        d: R.getSubpath(attrs.path, from, to)\n                    });\n                    delete o._.arrows[se + \"Path\"];\n                    delete o._.arrows[se + \"Marker\"];\n                    delete o._.arrows[se + \"dx\"];\n                    delete o._.arrows[se + \"Type\"];\n                    delete o._.arrows[se + typeStringSTR];\n                }\n                for (attr in markerCounter)\n                    if (markerCounter[has](attr) && !markerCounter[attr]) {\n                        var item = R._g.doc.getElementById(attr);\n                        item && item.parentNode.removeChild(item);\n                    }\n            }\n        },\n        dasharray = {\n            // In Firefox 37.0.1 the value of \"stroke-dasharray\" attribute `0` make the stroke/border invisible.\n            // The actual issue is setting `none` as the value of `stroke-dasharray` attribute\n            // redraphael internally changes the \"none\" value to \"0\", thus the stroke/border becomes invisible\n            // To fix this issue now instead of setting the value as `0` for `stroke-dasharray` attribute\n            // now using `none` string as none is a w3c standard value for stroke-dasharray\n            \"\": [\"none\"],\n            \"none\": [\"none\"],\n            \"-\": [3, 1],\n            \".\": [1, 1],\n            \"-.\": [3, 1, 1, 1],\n            \"-..\": [3, 1, 1, 1, 1, 1],\n            \". \": [1, 3],\n            \"- \": [4, 3],\n            \"--\": [8, 3],\n            \"- .\": [4, 3, 1, 3],\n            \"--.\": [8, 3, 1, 3],\n            \"--..\": [8, 3, 1, 3, 1, 3]\n        },\n        addDashes = function(o, value, params) {\n            var predefValue = dasharray[Str(value).toLowerCase()],\n                calculatedValues,\n                width,\n                butt,\n                i,\n                l,\n                widthFactor;\n\n            value = predefValue || ((value !== undefined) && [].concat(value));\n            if (value) {\n\n                width = o.attrs[\"stroke-width\"] || 1;\n                butt = {\n                    round: width,\n                    square: width,\n                    butt: 0\n                }[params[\"stroke-linecap\"] || o.attrs[\"stroke-linecap\"]] || 0;\n                l = i = value.length;\n                widthFactor = predefValue ? width : 1;\n\n                if (value[0] == 'none') {\n                    calculatedValues = value;\n                }\n                else {\n                    calculatedValues = [];\n                    while (i--) {\n                        calculatedValues[i] = (value[i] * widthFactor + ((i % 2) ? 1 : -1) * butt);\n                        calculatedValues[i] <= 0 && (calculatedValues[i] = 0.01 + (width <= 1 ? butt : 0));\n                        if (isNaN(calculatedValues[i])) {\n                        calculatedValues[i] = 0;\n                    }\n                    }\n                }\n\n                if (R.is(value, 'array')) {\n                    $(o.node, {\n                        \"stroke-dasharray\": calculatedValues.join(\",\")\n                    });\n                }\n            }\n        },\n\n        setFillAndStroke = R._setFillAndStroke = function(o, params) {\n            if (!o.paper.canvas) {\n                return;\n            }\n            var node = o.node,\n                attrs = o.attrs,\n                paper = o.paper,\n                s = node.style,\n                vis = s.visibility,\n                i,\n                l;\n            // Convert all the &lt; and &gt; to < and > and if there is any <br/> tag in between &lt; and &gt;\n            // then converting them into <<br/> and ><br/> respectively.\n            if (params && params.text && params.text.replace) {\n                params.text = params.text.replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\")\n                    .replace(/&<br\\/>lt;|&l<br\\/>t;|&lt<br\\/>;/g, \"<<br/>\")\n                    .replace(/&<br\\/>gt;|&g<br\\/>t;|&gt<br\\/>;/g, \"><br/>\");\n            }\n            s.visibility = \"hidden\";\n            if (o.type === \"image\") {\n                LoadRefImage(o, params);\n            }\n            for (var att in params) {\n                if (params[has](att)) {\n                    if (!R._availableAttrs[has](att)) {\n                        continue;\n                    }\n                    var value = params[att];\n                    attrs[att] = value;\n                    if (value === '') {\n                        delete o.attrs[att];\n                        node.removeAttribute(att);\n                        continue;\n                    }\n                    switch (att) {\n                        case \"blur\":\n                            o.blur(value);\n                            break;\n                        case \"href\":\n                        case \"title\":\n                        case \"target\":\n                            var pn = node.parentNode;\n                            if (pn.tagName.toLowerCase() != \"a\") {\n                                if (value == E) { break; }\n                                var hl = $(\"a\");\n                                hl.raphael = true;\n                                hl.raphaelid = node.raphaelid;\n                                pn.insertBefore(hl, node);\n                                hl.appendChild(node);\n                                pn = hl;\n                            }\n                            if (att == \"target\") {\n                                pn.setAttributeNS(xlink, \"show\", value == \"blank\" ? \"new\" : value);\n                            } else {\n                                pn.setAttributeNS(xlink, att, value);\n                            }\n                            node.titleNode = pn;\n                            break;\n                        case \"cursor\":\n                            s.cursor = value;\n                            break;\n                        case \"transform\":\n                            o.transform(value);\n                            break;\n                        case \"rotation\":\n                            if (R.is(value, \"array\")) {\n                                o.rotate.apply(o, value);\n                            }\n                            else {\n                                o.rotate(value);\n                            }\n                            break;\n                        case \"arrow-start\":\n                            addArrow(o, value);\n                            break;\n                        case \"arrow-end\":\n                            addArrow(o, value, 1);\n                            break;\n                        case \"clip-path\":\n                            var pathClip = true;\n                        case \"clip-rect\":\n                            var rect = !pathClip && Str(value).split(separator);\n                            o._.clipispath = !!pathClip;\n                            if (pathClip || rect.length == 4) {\n                                o.clip && o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);\n                                var el = $(\"clipPath\"),\n                                rc = $(pathClip ? \"path\" : \"rect\");\n                                el.id = R.getElementID(R.createUUID());\n                                $(rc, pathClip ? {\n                                    d: value ? attrs['clip-path'] = R._pathToAbsolute(value) : R._availableAttrs.path,\n                                    fill: 'none'\n                                } : {\n                                    x: rect[0],\n                                    y: rect[1],\n                                    width: rect[2],\n                                    height: rect[3],\n                                    transform: o.matrix.invert()\n                                });\n                                el.appendChild(rc);\n                                paper.defs.appendChild(el);\n                                $(node, {\n                                    \"clip-path\": \"url('\" + R._url +\"#\" + el.id + \"')\"\n                                });\n                                o.clip = rc;\n                            }\n                            if (!value) {\n                                var path = node.getAttribute(\"clip-path\");\n                                if (path) {\n                                    var clip = R._g.doc.getElementById(path.replace(/(^url\\(#|\\)$)/g, E));\n                                    clip && clip.parentNode.removeChild(clip);\n                                    $(node, {\n                                        \"clip-path\": E\n                                    });\n                                    document.documentMode === 11 && node.removeAttribute('clip-path');\n                                    delete o.clip;\n                                }\n                            }\n                            break;\n                        case \"path\":\n                            if (o.type == \"path\") {\n                                $(node, {\n                                    d: value ? attrs.path = R._pathToAbsolute(value) : R._availableAttrs.path\n                                });\n                                o._.dirty = 1;\n                                if (o._.arrows) {\n                                    \"startString\" in o._.arrows && addArrow(o, o._.arrows.startString);\n                                    \"endString\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n                                }\n                            }\n                            break;\n                        case \"width\":\n                            node.setAttribute(att, value);\n                            o._.dirty = 1;\n                            if (attrs.fx) {\n                                att = \"x\";\n                                value = attrs.x;\n                            } else {\n                                break;\n                            }\n                        case \"x\":\n                            if (attrs.fx) {\n                                value = -attrs.x - (attrs.width || 0);\n                            }\n                        case \"rx\":\n                            if (att == \"rx\" && o.type == \"rect\") {\n                                break;\n                            }\n                        case \"cx\":\n                            node.setAttribute(att, value);\n                            o.pattern && updatePosition(o);\n                            o._.dirty = 1;\n                            break;\n                        case \"height\":\n                            node.setAttribute(att, value);\n                            o._.dirty = 1;\n                            if (attrs.fy) {\n                                att = \"y\";\n                                value = attrs.y;\n                            } else {\n                                break;\n                            }\n                        case \"y\":\n                            if (attrs.fy) {\n                                value = -attrs.y - (attrs.height || 0);\n                            }\n                        case \"ry\":\n                            if (att == \"ry\" && o.type == \"rect\") {\n                                break;\n                            }\n                        case \"cy\":\n                            node.setAttribute(att, value);\n                            o.pattern && updatePosition(o);\n                            o._.dirty = 1;\n                            break;\n                        case \"r\":\n                            if (o.type == \"rect\") {\n                                $(node, {\n                                    rx: value,\n                                    ry: value\n                                });\n                            } else {\n                                node.setAttribute(att, value);\n                            }\n                            o._.dirty = 1;\n                            break;\n                        case \"src\":\n                            if (o.type == \"image\") {\n                                node.setAttributeNS(xlink, \"href\", value);\n                            }\n                            break;\n                        case \"stroke-width\":\n                            if (o._.sx != 1 || o._.sy != 1) {\n                                value /= mmax(abs(o._.sx), abs(o._.sy)) || 1;\n                            }\n                            if (paper._vbSize) {\n                                value *= paper._vbSize;\n                            }\n                            if (zeroStrokeFix && value === 0) {\n                                value = 0.000001;\n                            }\n                            node.setAttribute(att, value);\n                            if (attrs[\"stroke-dasharray\"]) {\n                                addDashes(o, attrs[\"stroke-dasharray\"], params);\n                            }\n                            if (o._.arrows) {\n                                \"startString\" in o._.arrows && addArrow(o, o._.arrows.startString);\n                                \"endString\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n                            }\n                            break;\n                        case \"stroke-dasharray\":\n                            addDashes(o, value, params);\n                            break;\n                        case \"fill\":\n                            var isURL = Str(value).match(R._ISURL);\n                            if (isURL) {\n                                el = $(\"pattern\");\n                                var ig = $(\"image\");\n                                el.id = R.getElementID(R.createUUID());\n                                $(el, {\n                                    x: 0,\n                                    y: 0,\n                                    patternUnits: \"userSpaceOnUse\",\n                                    height: 1,\n                                    width: 1\n                                });\n                                $(ig, {\n                                    x: 0,\n                                    y: 0,\n                                    \"xlink:href\": isURL[1]\n                                });\n                                el.appendChild(ig);\n\n                                (function(el) {\n                                    R._preload(isURL[1], function() {\n                                        var w = this.offsetWidth,\n                                        h = this.offsetHeight;\n                                        $(el, {\n                                            width: w,\n                                            height: h\n                                        });\n                                        $(ig, {\n                                            width: w,\n                                            height: h\n                                        });\n                                        paper.safari();\n                                    });\n                                })(el);\n                                paper.defs.appendChild(el);\n                                s.fill = \"url('\" + R._url + \"#\" + el.id + \"')\";\n                                $(node, {\n                                    fill: s.fill\n                                });\n\n                                o.pattern = el;\n                                o.pattern && updatePosition(o);\n                                break;\n                            }\n                            var clr = R.getRGB(value);\n                            if (!clr.error) {\n                                delete params.gradient;\n                                delete attrs.gradient;\n                                // !R.is(attrs.opacity, \"undefined\") &&\n                                //     R.is(params.opacity, \"undefined\") &&\n                                //     $(node, {\n                                //         opacity: attrs.opacity\n                                //     });\n                                !R.is(attrs[\"fill-opacity\"], \"undefined\") &&\n                                    R.is(params[\"fill-opacity\"], \"undefined\") &&\n                                    $(node, {\n                                        \"fill-opacity\": attrs[\"fill-opacity\"]\n                                    });\n                                o.gradient && updateGradientReference(o);\n                            }\n                            else if ((o.type == \"circle\" || o.type == \"ellipse\" || Str(value).charAt() != \"r\") && addGradientFill(o, value)) {\n                                // The reason for this block of code is not known, hence it is commented out as it is causeing issues in \n                                // IE8 browser for gradient color\n                                /*if (\"opacity\" in attrs || \"fill-opacity\" in attrs) {\n                                    var gradient = R._g.doc.getElementById(node.getAttribute(\"fill\").replace(/^url\\(#|\\)$/g, E));\n                                    if (gradient) {\n                                        var stops = gradient.getElementsByTagName(\"stop\");\n                                        $(stops[stops.length - 1], {\n                                            \"stop-opacity\": (\"opacity\" in attrs ? attrs.opacity : 1) * (\"fill-opacity\" in attrs ? attrs[\"fill-opacity\"] : 1)\n                                        });\n                                    }\n                                }*/\n                                attrs.gradient = value;\n                                // attrs.fill = \"none\";\n                                s.fill = E;\n                                break;\n                            }\n                            if (clr[has](\"opacity\")) {\n                                $(node, {\n                                    \"fill-opacity\": (s.fillOpacity =\n                                        (clr.opacity > 1 ? clr.opacity / 100 : clr.opacity))\n                                });\n                                o._.fillOpacityDirty = true;\n                            }\n                            else if (o._.fillOpacityDirty && R.is(attrs['fill-opacity'], \"undefined\") &&\n                                    R.is(params[\"fill-opacity\"], \"undefined\")) {\n                                node.removeAttribute('fill-opacity');\n                                s.fillOpacity = E;\n                                delete o._.fillOpacityDirty;\n                            }\n                        case \"stroke\":\n                            clr = R.getRGB(value);\n                            node.setAttribute(att, clr.hex);\n                            s[att] = clr.hex;\n                            if (att == \"stroke\") { // remove stroke opacity when stroke is set to none\n                                if (clr[has](\"opacity\")) {\n                                    $(node, {\n                                        \"stroke-opacity\": (s.strokeOpacity =\n                                            (clr.opacity > 1 ? clr.opacity / 100 : clr.opacity))\n                                    });\n                                    o._.strokeOpacityDirty = true;\n                                }\n                                else if (o._.strokeOpacityDirty && R.is(attrs['stroke-opacity'], \"undefined\") &&\n                                        R.is(params[\"stroke-opacity\"], \"undefined\")) {\n                                    node.removeAttribute('stroke-opacity');\n                                    s.strokeOpacity = E;\n                                    delete o._.strokeOpacityDirty;\n                                }\n                                if (o._.arrows) {\n                                    \"startString\" in o._.arrows && addArrow(o, o._.arrows.startString);\n                                    \"endString\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n                                }\n                            }\n                            break;\n                        case \"gradient\":\n                            (o.type == \"circle\" || o.type == \"ellipse\" || Str(value).charAt() != \"r\") && addGradientFill(o, value);\n                            break;\n                        case 'line-height': // do not apply\n                        case 'vertical-align': // do not apply\n                            break;\n                        case \"visibility\":\n                            value === 'hidden' ? o.hide() : o.show();\n                            break;\n                        case \"opacity\":\n                            // if (attrs.gradient && !attrs[has](\"stroke-opacity\")) {\n                            //     $(node, {\n                            //         \"stroke-opacity\": value > 1 ? value / 100 : value\n                            //     });\n                            // }\n                            value = value > 1 ? value / 100 : value;\n                            $(node, {\n                                \"opacity\": value\n                            });\n                            s.opacity = value;\n                            break;\n                        // fall\n                        case \"fill-opacity\":\n                            // if (attrs.gradient) {\n                            //     gradient = R._g.doc.getElementById(node.getAttribute(\"fill\").replace(/^url\\([\\'\\\"]#|[\\'\\\"]\\)$/g, E));\n                            //     if (gradient) {\n                            //         stops = gradient.getElementsByTagName(\"stop\");\n                            //         l = stops.length;\n                            //         for (i = 0; i < l; i += 1) {\n                            //           $(stops[i], {\n                            //               \"stop-opacity\": value\n                            //           });\n                            //         }\n                            //     }\n                            //     break;\n                            // }\n                            value = value > 1 ? value / 100 : value;\n                            $(node, {\n                                \"fill-opacity\": value\n                            });\n                            s.fillOpacity = value;\n                            break;\n                        case \"shape-rendering\":\n                            o.attrs[att] = value = shapeRenderingAttrs[value] || value || 'auto';\n                            node.setAttribute(att, value);\n                            node.style.shapeRendering = value;\n                            break;\n                        default:\n                            att == \"font-size\" && (value = toInt(value, 10) + \"px\");\n                            var cssrule = att.replace(/(\\-.)/g, function(w) {\n                                return w.substring(1).toUpperCase();\n                            });\n                            s[cssrule] = value;\n                            o._.dirty = 1;\n                            node.setAttribute(att, value);\n                            break;\n                    }\n                }\n            }\n            (o.type === 'text' && !params[\"_do-not-tune\"]) && tuneText(o, params);\n            s.visibility = vis;\n        },\n        /*\n        * Keeps the follower element in sync with the leaders.\n        * First and second arguments represents the context(element) and the\n        name of the callBack function respectively.\n        * The callBack is invoked for indivual follower Element with the rest of\n        arguments.\n        */\n        updateFollowers = R._updateFollowers = function () {\n            for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                args[i] = arguments[i];\n            }    \n            var i,\n                ii,\n                followerElem,\n                o = arrayShift.call(args),\n                fnName = arrayShift.call(args);\n            for (i = 0, ii = o.followers.length; i < ii; i++) {\n                followerElem = o.followers[i].el;\n                followerElem[fnName].apply(followerElem, args);\n            }\n        },\n        leading = 1.2,\n        tuneText = function(el, params) {\n            if (el.type != \"text\" || !(params[has](\"text\") || params[has](\"font\") ||\n                    params[has](\"font-size\") || params[has](\"x\") || params[has](\"y\") ||\n                    params[has](\"line-height\") || params[has](\"vertical-align\"))) {\n                return;\n            }\n            var a = el.attrs,\n                group = el.parent,\n                node = el.node,\n                computedStyle = node.firstChild && R._g.doc.defaultView.getComputedStyle(node.firstChild, E),\n                fontSize = params['fontSize'] || params['font-size'] || a['font-size'] || (group && group.attrs && group.attrs.fontSize),\n                lineHeight = toFloat(params['line-height'] || a['line-height']) || fontSize * leading,\n                actualValign = a[has](\"vertical-align\") ? a[\"vertical-align\"] : \"middle\",\n                direction = params.direction || a.direction || (group && group.attrs && group.attrs.direction) || \"initial\",\n                isIE = /*@cc_on!@*/false || !!document.documentMode,\n                valign,\n                fontFamily = params['fontFamily'] || params['font-family'] || a['font-family'] ||\n                    (group && group.attrs && group.attrs.fontFamily) || 'Verdana,sans';\n\n            fontSize = fontSize === undefined ? (lineHeight / 1.2 || 10) :\n                fontSize.toString().replace(/px/, '');\n\n            if (isNaN(lineHeight)) {\n                lineHeight = fontSize * leading;\n            }\n\n            if (R.is(params.text, 'array')) {\n                params.text = params.text.join('<br>');\n            }\n\n            valign = actualValign === 'top' ? -0.5 : (actualValign === 'bottom' ? 0.5 : 0);\n\n            if (params[has](\"text\") && (params.text !== a.text || el._textdirty)) {\n                a.text = params.text;\n                while (node.firstChild) {\n                    node.removeChild(node.firstChild);\n                }\n                var texts = Str(params.text).split(/\\n|<br\\s*?\\/?>/ig),\n                tspans = [],\n                tspan;\n                for (var i = 0, ii = texts.length; i < ii; i++) {\n                    tspan = $(\"tspan\");\n                    if (i) {\n                        $(tspan, {\n                            dy: lineHeight,\n                            x: a.x\n                        });\n                    } else {\n                        $(tspan, {\n                            dy: lineHeight * texts.length * valign,\n                            x: a.x\n                        });\n                    }\n                    if (!texts[i]) { // preserve blank lines\n                        tspan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\",\n                            \"xml:space\",\"preserve\");\n                        texts[i] = \" \";\n                    }\n                    tspan.appendChild(R._g.doc.createTextNode(texts[i]));\n                    node.appendChild(tspan);\n                    tspans[i] = tspan;\n\n                    if (!isIE && direction === \"rtl\" && i < ii - 1) {\n                        tspan = $(\"tspan\");\n                        $(tspan, {\n                            visibility: \"hidden\",\n                            \"font-size\": \"0px\"\n                        });\n                        tspan.appendChild(R._g.doc.createTextNode(\"i\"));\n                        node.appendChild(tspan);\n                    }\n                }\n                el._textdirty = false;\n            } else {\n                tspans = node.getElementsByTagName(\"tspan\");\n                var obj,\n                    numDummyTspans = 0;\n\n                for (i = 0, ii = tspans.length; i < ii; i++) {\n                    tspan = tspans[i];\n                    obj = tspan.attributes[0];\n\n                    if (obj && (obj.name === \"visibility\" || obj.nodeName === \"visibility\") &&\n                            (obj.value === \"hidden\" || obj.nodeValue === \"hidden\")) {\n                        continue;\n                    }\n\n                    if (i) {\n                        $(tspan, {\n                            dy: lineHeight,\n                            x: a.x\n                        });\n                    } else {\n                        obj = tspans[1] && tspans[1].attributes[0];\n                        if (obj && (obj.name === \"visibility\" || obj.nodeName === \"visibility\") &&\n                                (obj.value === \"hidden\" || obj.nodeValue === \"hidden\")) {\n                            numDummyTspans = math.floor(tspans.length * 0.5);\n                        }\n\n                        $(tspans[0], {\n                            dy: lineHeight * (tspans.length - numDummyTspans) * valign,\n                            x: a.x\n                        });\n                    }\n                }\n            }\n            $(node, {\n                x: a.x,\n                y: a.y\n            });\n            el._.dirty = 1;\n            var bb = el._getCustomBBox(fontFamily, fontSize + 'px', actualValign, i),\n            dif = bb.diff;\n\n            dif && R.is(dif, \"finite\") && tspans[0] && $(tspans[0], {\n                dy: dif\n            });\n        },\n        Element = function(node, svg, group/*, dontAppend*/) {\n            var o = this,\n                parent = group || svg;\n\n            /*!dontAppend && */parent.canvas && parent.canvas.appendChild(node);\n\n            o.node = o[0] = node;\n            node.raphael = true;\n            node.raphaelid = o.id = R._oid++;\n\n            o.matrix = R.matrix();\n            o.realPath = null;\n\n            o.attrs = o.attrs || {};\n            o.followers = o.followers || [];\n\n            o.paper = svg;\n            o.ca = o.customAttributes = o.customAttributes ||\n                new svg._CustomAttributes();\n\n            o._ = {\n                transform: [],\n                sx: 1,\n                sy: 1,\n                deg: 0,\n                dx: 0,\n                dy: 0,\n                dirty: 1\n            };\n\n            o.parent = parent;\n            !parent.bottom && (parent.bottom = o);\n\n            o.prev = parent.top;\n            parent.top && (parent.top.next = o);\n            parent.top = o;\n            o.next = null;\n        },\n        elproto = R.el;\n\n        Element.prototype = elproto;\n        elproto.constructor = Element;\n\n        R._engine.getNode = function (el) {\n            var node = el.node || el[0].node;\n            return node.titleNode || node;\n        };\n        R._engine.getLastNode = function (el) {\n            var node = el.node || el[el.length - 1].node;\n            return node.titleNode || node;\n        };\n\n        elproto.rotate = function(deg, cx, cy) {\n            var o = this,\n                bbox;\n            if (o.removed) {\n                return o;\n            }\n            updateFollowers(o, 'rotate', deg, cx, cy);\n            deg = Str(deg).split(separator);\n            if (deg.length - 1) {\n                cx = toFloat(deg[1]);\n                cy = toFloat(deg[2]);\n            }\n            deg = toFloat(deg[0]);\n            (cy == null) && (cx = cy);\n            if (cx == null || cy == null) {\n                bbox = o.getBBox(1);\n                cx = bbox.x + bbox.width / 2;\n                cy = bbox.y + bbox.height / 2;\n            }\n            o.transform(o._.transform.concat([[\"r\", deg, cx, cy]]));\n            return o;\n        };\n\n        elproto.scale = function(sx, sy, cx, cy) {\n            var o = this,\n                bbox;\n            if (o.removed) {\n                return o;\n            }\n            updateFollowers(o, 'scale', sx, sy, cx, cy);\n            sx = Str(sx).split(separator);\n            if (sx.length - 1) {\n                sy = toFloat(sx[1]);\n                cx = toFloat(sx[2]);\n                cy = toFloat(sx[3]);\n            }\n            sx = toFloat(sx[0]);\n            (sy == null) && (sy = sx);\n            (cy == null) && (cx = cy);\n            if (cx == null || cy == null) {\n                bbox = o.getBBox(1);\n            }\n            cx = cx == null ? bbox.x + bbox.width / 2 : cx;\n            cy = cy == null ? bbox.y + bbox.height / 2 : cy;\n            o.transform(o._.transform.concat([[\"s\", sx, sy, cx, cy]]));\n            return o;\n        };\n\n        elproto.translate = function(dx, dy) {\n            var o = this;\n            if (o.removed) {\n                return o;\n            }\n            updateFollowers(o, 'translate', dx, dy);\n            dx = Str(dx).split(separator);\n            if (dx.length - 1) {\n                dy = toFloat(dx[1]);\n            }\n            dx = toFloat(dx[0]) || 0;\n            dy = +dy || 0;\n            o.transform(o._.transform.concat([[\"t\", dx, dy]]));\n            return o;\n        };\n\n        elproto.transform = function(tstr) {\n            var o = this,\n                _ = o._,\n                sw;\n\n            if (tstr == null) {\n                return _.transform;\n            }\n            R._extractTransform(o, tstr);\n\n            o.clip && !_.clipispath && $(o.clip, {\n                transform: o.matrix.invert()\n            });\n            o.pattern && updatePosition(o);\n            o.node && $(o.node, {\n                transform: o.matrix\n            });\n\n            if (_.sx != 1 || _.sy != 1) {\n                sw = o.attrs[\"stroke-width\"];\n                sw && o.attr({\n                    \"stroke-width\": sw\n                });\n            }\n\n            return o;\n        };\n\n        elproto.hide = function() {\n            var o = this;\n            updateFollowers(o, 'hide');\n            !o.removed && o.paper.safari(o.node.style.display = \"none\");\n            return o;\n        };\n\n        elproto.show = function() {\n            var o = this;\n            updateFollowers(o, 'show');\n            !o.removed && o.paper.safari(o.node.style.display = E);\n            return o;\n        };\n\n        elproto.remove = function() {\n            if (this.removed || !this.parent.canvas) {\n                return;\n            }\n\n            var o = this,\n                node = R._engine.getNode(o),\n                paper = o.paper,\n                defs = paper.defs,\n                i;\n\n            paper.__set__ && paper.__set__.exclude(o);\n            eve.unbind(\"raphael.*.*.\" + o.id);\n\n            if (o.gradient && defs) {\n                updateGradientReference(o);\n            }\n            while (i = o.followers.pop()) {\n                i.el.remove();\n            }\n            while (i = o.bottom) {\n                i.remove();\n            }\n\n            if (o._drag) {\n                o.undrag();\n            }\n\n            if (o.events)  {\n                while (i = o.events.pop()) {\n                    i.unbind();\n                }\n            }\n\n            o.parent.canvas.contains(node) && o.parent.canvas.removeChild(node);\n            o.removeData();\n            delete paper._elementsById[o.id]; // remove from lookup hash\n            R._tear(o, o.parent);\n\n            for (i in o) {\n                o[i] = typeof o[i] === \"function\" ? R._removedFactory(i) : null;\n            }\n\n            o.removed = true;\n        };\n        /*\n        * Recursively shows the element and stores the visibilties of its parents\n        * in a tree structure for future restoration.\n        * @param el - Element which is to shown recursively\n        * @return Function - Function to restore the old visibility state.\n        */\n        function showRecursively(el) {\n            var origAttrTree = {},\n                currentEl = el,\n                currentNode = origAttrTree,\n                fn = function () {\n                    var localEl = el,\n                        localNode = origAttrTree;\n                    while (localEl) {\n                        if (localNode._doHide) {\n                            localEl.hide();\n                        }\n                        localEl = localEl.parent;\n                        localNode = localNode.parent;\n                    }\n                };\n            while (currentEl) {\n                if (currentEl.node && currentEl.node.style && currentEl.node.style.display === \"none\") {\n                    currentEl.show();\n                    currentNode._doHide = true;\n                }\n                currentEl = currentEl.parent;\n                currentNode.parent = {};\n                currentNode = currentNode.parent;\n            }\n            return fn;\n        };\n\n        elproto._getCustomBBox = function(fontFamily, fontSize, valign, lines) {\n            var fn,\n                o = this,\n                node = o.node,\n                hide,\n                isText = (o.type === \"text\"),\n                isIE = /*@cc_on!@*/false || !!document.documentMode,\n                cachedFontHeight,\n                txtElem,\n                theText,\n                paper,\n                availableFontFamily,\n                availableFontSize,\n                info,\n                randomPos,\n                bboxY,\n                diff,\n                bbox,\n                bboxHeight;\n            if (isIE && isText) {\n                fn = showRecursively(o);\n            }\n            else {\n                if (node.style.display === \"none\") {\n                    o.show();\n                    hide = true;\n                }\n            }\n\n            if (isText) {\n                cachedFontHeight = R.cachedFontHeight;\n                paper = this.paper;\n                txtElem = paper.txtElem;\n                availableFontFamily = cachedFontHeight[fontFamily] || (cachedFontHeight[fontFamily] = {});\n                availableFontSize = availableFontFamily[fontSize];\n                randomPos = -100;\n\n                if (!availableFontSize) {\n                    txtElem.setAttribute('style', 'font-family :' + fontFamily + '; font-size :' + fontSize);\n                    bbox = txtElem.getBBox();\n                    availableFontFamily[fontSize] = availableFontSize = [];\n                    availableFontSize.push(bbox.height);\n                    availableFontSize.push(bbox.y);\n                }\n\n                bboxY = availableFontSize[1];\n                bboxHeight = availableFontSize[0];\n                switch (valign) {\n                    case \"bottom\":\n                        diff = randomPos - bboxY - bboxHeight * lines;\n                        break;\n                    case \"top\":\n                        diff = randomPos - bboxY;\n                        break;\n                    default :\n                    diff = randomPos - bboxY - bboxHeight/ 2 * lines;\n                };\n\n                bbox = {\n                    height : availableFontSize[0],\n                    diff : diff\n                }\n            }\n\n            isIE && isText ? fn && fn() : hide && o.hide();\n            return bbox;\n        };\n\n        elproto._getBBox = function() {\n            var fn,\n                o = this,\n                node = o.node,\n                bbox = {},\n                a = o.attrs,\n                align,\n                hide,\n                isText = (o.type === \"text\"),\n                isIE = /*@cc_on!@*/false || !!document.documentMode;\n            if (isIE && isText) {\n                fn = showRecursively(o);\n            }\n            else {\n                if (node.style.display === \"none\") {\n                    o.show();\n                    hide = true;\n                }\n            }\n\n            try {\n                bbox = node.getBBox();\n                if (isText) {\n                    // If bbox does not have x / y, which is possible in certain\n                    // environments, we mathematically calculate these values by\n                    // using x, y (adjusted using the values of text-anchor, and\n                    // vertical-align attributes), of the element along with the\n                    // width and height provided by the getBBox().\n                    if (bbox.x === undefined) {\n                        bbox.isCalculated = true;\n                        align = a['text-anchor'];\n                        bbox.x = (a.x || 0) - (bbox.width * ((align === \"start\") ?\n                            0 : (align === \"middle\") ? 0.5 : 1));\n                    }\n\n                    if (bbox.y === undefined) {\n                        bbox.isCalculated = true;\n                        align = a['vertical-align'];\n                        bbox.y = (a.y || 0) - (bbox.height * ((align === \"bottom\") ?\n                            1 : (align === \"middle\") ? 0.5 : 0));\n                    }\n                }\n\n            } catch (e) {\n            // Firefox 3.0.x plays badly here\n            } finally {\n                bbox = bbox || {};\n            }\n            isIE && isText ? fn && fn() : hide && o.hide();\n            return bbox;\n        };\n\n        elproto.attr = function(name, value) {\n            if (this.removed) {\n                return this;\n            }\n            var todel = {},\n                key,\n                finalParam = {},\n                i,\n                ii,\n                params,\n                subkey,\n                par,\n                follower;\n            // get all, return all applied attributes\n            if (name == null) {\n                var res = {};\n                for (key in this.attrs)\n                    if (this.attrs[has](key)) {\n                        res[key] = this.attrs[key];\n                    }\n                res.gradient && res.fill == \"none\" && (res.fill = res.gradient) && delete res.gradient;\n                res.transform = this._.transform;\n                res.visibility = this.node.style.display === \"none\" ? \"hidden\" : \"visible\";\n                return res;\n            } else {\n                if (value == null) {\n                    if (R.is(name, \"object\")) { // Provided as an object\n                        params = name;\n                    } else if(R.is(name, typeStringSTR)) { // get one, return the value of the given attribute\n                        if (name == \"fill\" && this.attrs.fill == \"none\" && this.attrs.gradient) {\n                            return this.attrs.gradient;\n                        }\n                        if (name == \"transform\") {\n                            return this._.transform;\n                        }\n                        if (name == \"visibility\") {\n                            return this.node.style.display === \"none\" ? \"hidden\" : \"visible\";\n                        }\n                    \n                        if (name in this.attrs) {\n                            return this.attrs[name];\n                        } else if (R.is(this.ca[name], \"function\")) {\n                            return this.ca[name].def;\n                        }\n                        return R._availableAttrs[name];\n                    }\n                } else { // key value provided seperately\n                    params = {};\n                    params[name] = value;\n                }\n                \n                if (!R.stopPartialEventPropagation) {\n                    for (key in params) {\n                        eve(\"raphael.attr.\" + key + \".\" + this.id, this, params[key], key);\n                    }\n                }\n    \n                // For each param\n                for (key in params) {\n                    // check if that is a Custom attribute or not\n                    if (this.ca[key] && params[has](key) && R.is(this.ca[key], \"function\") && !this.ca['_invoked' + key]) {\n    \n                        this.ca['_invoked'+key] = true; // prevent recursion\n                        par = this.ca[key].apply(this, [].concat(params[key]));\n                        delete this.ca['_invoked'+key];\n    \n                        // If the custom attribute create another set of attribute to be updated\n                        // Then add them in the attribute list\n                        for (subkey in par) {\n                            if (par[has](subkey)) {\n                                finalParam[subkey] = par[subkey];\n                            }\n                        }\n                        // Add the attribute in attrs\n                        this.attrs[key] = params[key];\n                    } else {\n                        finalParam[key] = params[key];\n                    }\n                }\n    \n                setFillAndStroke(this, finalParam);\n                \n                for (i = 0, ii = this.followers.length; i < ii; i++) {\n                    follower = this.followers[i];\n                    (follower.cb && !follower.cb.call(follower.el, finalParam, this)) ||\n                        follower.el.attr(finalParam);\n                }\n    \n                return this;\n            }\n        };\n\n        elproto.blur = function(size) {\n            // Experimental. No Safari support. Use it on your own risk.\n            var t = this;\n            if (+size !== 0) {\n                var fltr = $(\"filter\"),\n                blur = $(\"feGaussianBlur\");\n                t.attrs.blur = size;\n                fltr.id = R.getElementID(R.createUUID());\n                $(blur, {\n                    stdDeviation: +size || 1.5\n                });\n                fltr.appendChild(blur);\n                t.paper.defs.appendChild(fltr);\n                t._blur = fltr;\n                $(t.node, {\n                    filter: \"url('\" + R._url + \"#\" + fltr.id + \"')\"\n                });\n            } else {\n                if (t._blur) {\n                    t._blur.parentNode.removeChild(t._blur);\n                    delete t._blur;\n                    delete t.attrs.blur;\n                }\n                t.node.removeAttribute(\"filter\");\n            }\n        };\n\n        /*\\\n        * Element.on\n        [ method ]\n        **\n        * Bind handler function for a particular event to Element\n        * @param eventType - Type of event\n        * @param handler - Function to be called on the firing of the event\n        \\*/\n        elproto.on = function(eventType, handler) {\n            var elem = this,\n            node,\n            fn,\n            oldEventType;\n            if (this.removed) {\n                return this;\n            }\n\n            if (eventType === 'dragstart') {\n                this.drag(null, handler);\n                return this;\n            } else if (eventType === 'dragmove') {\n                this.drag(handler);\n                return this;\n            } else if (eventType === 'dragend') {\n                this.drag(null, null, handler);\n                return this;\n            }\n\n            fn = handler;\n            oldEventType = eventType;\n            if (R.supportsTouch) {\n                eventType = R._touchMap[eventType] ||\n                    (eventType === 'click' && 'touchstart') || eventType;\n                if (eventType !== oldEventType) {\n                    // store the new listeners for removeEventListener\n                    if (!elem._tempTouchListeners) {\n                        elem._tempTouchListeners = {};\n                    }\n                    if (!elem._tempTouchListeners[oldEventType]) {\n                        elem._tempTouchListeners[oldEventType] = [];\n                    }\n                    fn = function(e) {\n                        e.preventDefault();\n                        handler(e);\n                    };\n                    elem._tempTouchListeners[oldEventType].push({\n                        oldFn: handler,\n                        newFn: fn,\n                        newEvt: eventType\n                    })\n                }\n            }\n            if (this._ && this._.RefImg) {\n                node = this._.RefImg;\n            } else {\n                node = this.node;\n            }\n            if (node.addEventListener) {\n                node.addEventListener(eventType, fn);\n            }\n            else {\n                node['on'+ eventType] = fn;\n            }\n            return this;\n        };\n\n        /*\\\n        * Element.off\n        [ method ]\n        **\n        * Remove handler function bind to an event of element\n        * @param eventType - Type of event\n        * @param handler - Function to be removed from event\n        \\*/\n        elproto.off = function(eventType, handler) {\n            var elem = this,\n            fn,\n            i,\n            l,\n            node,\n            oldEventType;\n            if (this.removed) {\n                return this;\n            }\n\n            if (eventType === 'dragstart') {\n                this.undragstart();\n                return this;\n            } else if (eventType === 'dragmove') {\n                this.undragmove();\n                return this;\n            } else if (eventType === 'dragend') {\n                this.undragend();\n                return this;\n            }\n\n            fn = handler;\n            oldEventType = eventType;\n\n            if (R.supportsTouch && elem._tempTouchListeners && elem._tempTouchListeners[oldEventType]) {\n                l = elem._tempTouchListeners[oldEventType].length;\n                for (i = 0; i < l && oldEventType === eventType; i += 1) {\n                    if (elem._tempTouchListeners[oldEventType][i] &&\n                        elem._tempTouchListeners[oldEventType][i].oldFn === fn) {\n                        eventType = elem._tempTouchListeners[oldEventType][i].newEvt;\n                        fn = elem._tempTouchListeners[oldEventType][i].newFn;\n                        elem._tempTouchListeners[oldEventType].splice(i, 1);\n                    }\n                }\n            }\n            if (this._ && this._.RefImg) {\n                node = this._.RefImg;\n            } else {\n                node = this.node;\n            }\n            if (node.removeEventListener) {\n                node.removeEventListener(eventType, fn);\n            }\n            else {\n                node['on'+ eventType] = null;\n            }\n            return this;\n        };\n\n        R._engine.path = function(svg, attrs, group) {\n            var el = $(\"path\"),\n                res = new Element(el, svg, group);\n\n            res.type = \"path\";\n            // Apply the attribute if provided\n            attrs && res.attr(attrs);\n            return res;\n        };\n\n        R._engine.group = function(svg, id, group) {\n            var el = $(\"g\"),\n                res = new Element(el, svg, group);\n\n            res.type = \"group\";\n            res.canvas = res.node;\n            res.top = res.bottom = null;\n            res._id = id || E;\n            id && el.setAttribute('class', 'raphael-group-' + res.id + '-' + id);\n            return res;\n        };\n\n        R._engine.circle = function(svg, attrs, group) {\n            var el = $(\"circle\"),\n                res = new Element(el, svg, group);\n\n            res.type = \"circle\";\n            // Apply the attribute if provided\n            attrs && res.attr(attrs);\n            return res;\n        };\n        R._engine.rect = function(svg, attrs, group) {\n            var el = $(\"rect\"),\n                res = new Element(el, svg, group);\n\n            res.type = \"rect\";\n            attrs.rx = attrs.ry = attrs.r;\n            // Apply the attribute if provided\n            attrs && res.attr(attrs);\n            return res;\n        };\n        R._engine.ellipse = function(svg, attrs, group) {\n            var el = $(\"ellipse\"),\n                res = new Element(el, svg, group);\n\n            res.type = \"ellipse\";\n            // Apply the attribute if provided\n            attrs && res.attr(attrs);\n            return res;\n        };\n        function LoadRefImage (element, attrs) {\n            var src = attrs.src,\n                parent = element._.group,\n                node = element.node,\n                RefImg = element._.RefImg;\n\n            if (!RefImg) {\n                RefImg = element._.RefImg = new Image();\n            }\n\n            if (attrs.src === undefined) {\n                return;\n            }\n            RefImg.src = src;\n            element._.RefImg = RefImg;\n        };\n        R._engine.image = function(svg, attrs, group) {\n            var el = $(\"image\"),\n                src = attrs.src,\n                res = new Element(el, svg, group, true);\n\n            res._.group = group || svg;\n            res.type = \"image\";\n            el.setAttribute(\"preserveAspectRatio\", \"none\");\n            // Apply the attribute if provided\n            attrs && res.attr(attrs);\n            return res;\n        };\n        R._engine.text = function(svg, attrs, group, css) {\n            var el = $(\"text\"),\n                res = new Element(el, svg, group);\n            res.type = \"text\";\n            res._textdirty = true;\n            // Ideally this code should not be here as .css() is not a function of rapheal.\n            css && res.css && res.css(css, undefined, true);\n            // Apply the attribute if provided\n            attrs && res.attr(attrs);\n            return res;\n        };\n\n        R._engine.setSize = function(width, height) {\n            this.width = width || this.width;\n            this.height = height || this.height;\n            this.canvas.setAttribute(\"width\", this.width);\n            this.canvas.setAttribute(\"height\", this.height);\n            if (this._viewBox) {\n                this.setViewBox.apply(this, this._viewBox);\n            }\n            return this;\n        };\n        R._engine.create = function() {\n            for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                args[i] = arguments[i];\n            }    \n            var con = R._getContainer.apply(0, args),\n            container = con && con.container,\n            x = con.x,\n            y = con.y,\n            width = con.width,\n            height = con.height,\n            paper;\n            if (!container) {\n                throw new Error(\"SVG container not found.\");\n            }\n            var cnvs = $(\"svg\"),\n            css = \"overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);\"+\n                \"-webkit-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;\"+\n                \"-ms-user-select:none;user-select:none;-o-user-select:none;cursor:default;\",\n            css = css + \"vertical-align:middle;\",\n            isFloating;\n            x = x || 0;\n            y = y || 0;\n            width = width || 512;\n            height = height || 342;\n            $(cnvs, {\n                height: height,\n                version: 1.1,\n                width: width,\n                xmlns: svgNSStr\n            });\n            if (container == 1) {\n                cnvs.style.cssText = css + \"position:absolute;left:\" + x + \"px;top:\" + y + \"px\";\n                // Store body as the container\n                container = R._g.doc.body;\n                container.appendChild(cnvs);\n                isFloating = 1;\n            } else {\n                cnvs.style.cssText = css + \"position:relative\";\n                if (container.firstChild) {\n                    container.insertBefore(cnvs, container.firstChild);\n                } else {\n                    container.appendChild(cnvs);\n                }\n            }\n            paper = new R._Paper;\n            paper.width = width;\n            paper.height = height;\n            paper.canvas = cnvs;\n            // Store the container for further detachment and attachment\n            paper.container = container;\n\n            $(cnvs, {\n                id: \"raphael-paper-\" + paper.id\n            });\n            paper.clear();\n            createDummyText(paper);\n            paper._left = paper._top = 0;\n            isFloating && (paper.renderfix = function() {\n                });\n            paper.renderfix();\n            return paper;\n        };\n        R._engine.setViewBox = function(x, y, w, h, fit) {\n            eve(\"raphael.setViewBox\", this, this._viewBox, [x, y, w, h, fit]);\n            var size = mmax(w / this.width, h / this.height),\n            top = this.top,\n            aspectRatio = fit ? \"meet\" : \"xMinYMin\",\n            vb,\n            sw;\n            if (x == null) {\n                if (this._vbSize) {\n                    size = 1;\n                }\n                delete this._vbSize;\n                vb = \"0 0 \" + this.width + S + this.height;\n            } else {\n                this._vbSize = size;\n                vb = x + S + y + S + w + S + h;\n            }\n            $(this.canvas, {\n                viewBox: vb,\n                preserveAspectRatio: aspectRatio\n            });\n            while (size && top) {\n                sw = \"stroke-width\" in top.attrs ? top.attrs[\"stroke-width\"] : 1;\n                top.attr({\n                    \"stroke-width\": sw\n                });\n                top._.dirty = 1;\n                top._.dirtyT = 1;\n                top = top.prev;\n            }\n            this._viewBox = [x, y, w, h, !!fit];\n            return this;\n        };\n\n        /**\n         * Function to remove the paper form the DOM tree\n         */\n        R.prototype.detachPaper = function () {\n            if (this._detached !== false) {\n                this.container.removeChild(this.canvas);\n                this._detached = true;\n            }\n        }\n        /**\n         * Function to append the paper in the DOM tree\n         * @note: This might change the order of the child elements.\n         */\n        R.prototype.attachPaper = function () {\n            if (this._detached) {\n                this.container.appendChild(this.canvas);\n                this._detached = false;\n            }\n        }\n\n        R.prototype.renderfix = function() {\n            var cnvs = this.canvas,\n            s = cnvs.style,\n            pos;\n            try {\n                pos = cnvs.getScreenCTM() || cnvs.createSVGMatrix();\n            } catch (e) {\n                pos = cnvs.createSVGMatrix();\n            }\n            var left = -pos.e % 1,\n            top = - pos.f % 1;\n            if (left || top) {\n                if (left) {\n                    this._left = (this._left + left) % 1;\n                    s.left = this._left + \"px\";\n                }\n                if (top) {\n                    this._top = (this._top + top) % 1;\n                    s.top = this._top + \"px\";\n                }\n            }\n        };\n\n        R.prototype._desc = function (txt) {\n            var desc = this.desc;\n\n            if (!desc) {\n                this.desc = desc = $(\"desc\");\n                this.canvas.appendChild(desc);\n            }\n            else {\n                while (desc.firstChild) {\n                    desc.removeChild(desc.firstChild);\n                }\n            }\n            desc.appendChild(R._g.doc.createTextNode(R.is(txt, typeStringSTR) ? txt : (\"Created with Red Rapha\\xebl \" +\n                R.version)));\n        };\n\n        R.prototype.clear = function() {\n            var c;\n            eve(\"raphael.clear\", this);\n\n            while (c = this.bottom) {\n                c.remove();\n            }\n\n            c = this.canvas;\n            while (c.firstChild) {\n                c.removeChild(c.firstChild);\n            }\n            this.bottom = this.top = null;\n            c.appendChild(this.desc = $(\"desc\"));\n            c.appendChild(this.defs = $(\"defs\"));\n        };\n\n        R.prototype.remove = function() {\n            var i;\n            eve(\"raphael.remove\", this);\n\n            while (i = this.bottom) {\n                i.remove();\n            }\n\n            this.defs && this.defs.parentNode.removeChild(this.defs);\n            this.desc && this.desc.parentNode.removeChild(this.desc);\n            this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas);\n            for (i in this) {\n                this[i] = typeof this[i] == \"function\" ? R._removedFactory(i) : null;\n            }\n            this.removed = true;\n        };\n        // var setproto = R.st;\n        // for (var method in elproto)\n        //     if (elproto[has](method) && !setproto[has](method)) {\n        //         setproto[method] = (function(methodname) {\n        //             return function() {\n        //                 var arg = arguments;\n        //                 return this.forEach(function(el) {\n        //                     el[methodname].apply(el, arg);\n        //                 });\n        //             };\n        //         })(method);\n        //     }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/raphael.svg.js","/**!\n* RedRaphael 1.0.0 - JavaScript Vector Library VML Module\n* Copyright (c) 2012-2013 FusionCharts Technologies <http://www.fusioncharts.com>\n*\n* Raphael 2.1.0 - JavaScript Vector Library VML Module\n* Copyright (c) 2008-2012 Dmitry Baranovskiy <http://raphaeljs.com>\n* Copyright © 2008-2012 Sencha Labs <http://sencha.com>\n*\n* Licensed under the MIT license.\n*/\n// Define _window as window object in case of indivual file inclusion.\nexport default function (R) {\n    if (R.vml) {\n        var has = \"hasOwnProperty\",\n        Str = String,\n        toFloat = parseFloat,\n        math = Math,\n        round = math.round,\n        mmax = math.max,\n        mmin = math.min,\n        sqrt = math.sqrt,\n        abs = math.abs,\n        fillString = \"fill\",\n        separator = /[, ]+/,\n        eve = R.eve,\n        ms = \" progid:DXImageTransform.Microsoft\",\n        arrayShift = Array.prototype.shift,\n        S = \" \",\n        E = \"\",\n        map = {\n            M: \"m\",\n            L: \"l\",\n            C: \"c\",\n            Z: \"x\",\n            m: \"t\",\n            l: \"r\",\n            c: \"v\",\n            z: \"x\"\n        },\n        bites = /([clmz]),?([^clmz]*)/gi,\n        blurregexp = / progid:\\S+Blur\\([^\\)]+\\)/g,\n        val = /-?[^,\\s-]+/g,\n        cssDot = \"position:absolute;left:0;top:0;width:1px;height:1px\",\n        zoom = 21600,\n        pathTypes = {\n            path: 1,\n            rect: 1,\n            image: 1\n        },\n        ovalTypes = {\n            circle: 1,\n            ellipse: 1\n        },\n        path2vml = function(path) {\n            var total = /[ahqstv]/ig,\n            command = R._pathToAbsolute;\n            Str(path).match(total) && (command = R._path2curve);\n            total = /[clmz]/g;\n            if (command == R._pathToAbsolute && !Str(path).match(total)) {\n                var res = Str(path).replace(bites, function(all, command, args) {\n                    var vals = [],\n                    isMove = command.toLowerCase() == \"m\",\n                    res = map[command];\n                    args.replace(val, function(value) {\n                        if (isMove && vals.length == 2) {\n                            res += vals + map[command == \"m\" ? \"l\" : \"L\"];\n                            vals = [];\n                        }\n                        vals.push(round(value * zoom));\n                    });\n                    return res + vals;\n                });\n\n                return res || 'm0,0';\n            }\n            var pa = command(path), p, r;\n            res = [];\n            for (var i = 0, ii = pa.length; i < ii; i++) {\n                p = pa[i];\n                r = pa[i][0].toLowerCase();\n                r == \"z\" && (r = \"x\");\n                for (var j = 1, jj = p.length; j < jj; j++) {\n                    r += round(p[j] * zoom) + (j != jj - 1 ? \",\" : E);\n                }\n                res.push(r);\n            }\n            return res.length ? res.join(S) : 'm0,0';\n        },\n        compensation = function(deg, dx, dy) {\n            var m = R.matrix();\n            m.rotate(-deg, .5, .5);\n            return {\n                dx: m.x(dx, dy),\n                dy: m.y(dx, dy)\n            };\n        },\n        setCoords = function(p, sx, sy, dx, dy, deg) {\n            var _ = p._,\n            m = p.matrix,\n            fillpos = _.fillpos,\n            o = p.node,\n            s = o.style,\n            y = 1,\n            flip = \"\",\n            dxdy,\n            kx = zoom / sx,\n            ky = zoom / sy;\n            s.visibility = \"hidden\";\n            if (!sx || !sy) {\n                return;\n            }\n            o.coordsize = abs(kx) + S + abs(ky);\n            s.rotation = deg * (sx * sy < 0 ? -1 : 1);\n            if (deg) {\n                var c = compensation(deg, dx, dy);\n                dx = c.dx;\n                dy = c.dy;\n            }\n            sx < 0 && (flip += \"x\");\n            sy < 0 && (flip += \" y\") && (y = -1);\n            s.flip = flip;\n            o.coordorigin = (dx * -kx) + S + (dy * -ky);\n            if (fillpos || _.fillsize) {\n                var fill = o.getElementsByTagName(fillString);\n                fill = fill && fill[0];\n                if (fill) {\n                    o.removeChild(fill);\n                    if (fillpos) {\n                        c = compensation(deg, m.x(fillpos[0], fillpos[1]), m.y(fillpos[0], fillpos[1]));\n                        fill.position = c.dx * y + S + c.dy * y;\n                    }\n                    if (_.fillsize) {\n                        fill.size = _.fillsize[0] * abs(sx) + S + _.fillsize[1] * abs(sy);\n                    }\n                    o.appendChild(fill);\n                }\n            }\n            s.visibility = \"visible\";\n        };\n        R._url = E;\n        R.toString = function() {\n            return  \"Your browser doesn\\u2019t support SVG. Falling down to VML.\\nYou are running Rapha\\xebl \" + this.version;\n        };\n        var addArrow = function(o, value, isEnd) {\n            var values = Str(value).toLowerCase().split(\"-\"),\n            se = isEnd ? \"end\" : \"start\",\n            i = values.length,\n            type = \"classic\",\n            w = \"medium\",\n            h = \"medium\";\n            while (i--) {\n                switch (values[i]) {\n                    case \"block\":\n                    case \"classic\":\n                    case \"oval\":\n                    case \"diamond\":\n                    case \"open\":\n                    case \"none\":\n                        type = values[i];\n                        break;\n                    case \"wide\":\n                    case \"narrow\":\n                        h = values[i];\n                        break;\n                    case \"long\":\n                    case \"short\":\n                        w = values[i];\n                        break;\n                }\n            }\n            var stroke = o.node.getElementsByTagName(\"stroke\")[0];\n            stroke[se + \"arrow\"] = type;\n            stroke[se + \"arrowlength\"] = w;\n            stroke[se + \"arrowwidth\"] = h;\n        },\n\n        applyCustomAttributes = function (o, attrs) {\n            for (var key in attrs) {\n                eve(\"raphael.attr.\" + key + \".\" + o.id, o, attrs[key], key);\n                o.ca[key] && o.attr(key, attrs[key]);\n            }\n        },\n\n        setFillAndStroke = R._setFillAndStroke = function(o, params) {\n            if (!o.paper.canvas) return;\n            // o.paper.canvas.style.display = \"none\";\n            o.attrs = o.attrs || {};\n            var node = o.node,\n            a = o.attrs,\n            s = node.style,\n            xy,\n            oriOp,\n            newpath = pathTypes[o.type] && (params.x != a.x || params.y != a.y || params.width != a.width || params.height != a.height || params.cx != a.cx || params.cy != a.cy || params.rx != a.rx || params.ry != a.ry || params.r != a.r),\n            isOval = ovalTypes[o.type] && (a.cx != params.cx || a.cy != params.cy || a.r != params.r || a.rx != params.rx || a.ry != params.ry),\n            isGroup = o.type === 'group',\n            res = o;\n            oriOp = res.oriOp || (res.oriOp = {});\n            for (var par in params)\n                // Not setting any black property\n                if (params[par] === '') {\n                    node.removeAttribute(par);\n                    delete a[par];\n                    delete params[par];\n                    continue;\n                } else if (params[has](par)) {\n                    a[par] = params[par];\n                }\n            if (newpath) {\n                a.path = R._getPath[o.type](o);\n                o._.dirty = 1;\n            }\n            params.href && (node.href = params.href);\n            params.title && (node.title = params.title);\n            params.target && (node.target = params.target);\n            params.cursor && (s.cursor = params.cursor);\n            \"blur\" in params && o.blur(params.blur);\n\n            if (params.path && o.type == \"path\" || newpath) {\n                node.path = path2vml(~Str(a.path).toLowerCase().indexOf(\"r\") ? R._pathToAbsolute(a.path) : a.path);\n                if (o.type == \"image\") {\n                    o._.fillpos = [a.x, a.y];\n                    o._.fillsize = [a.width, a.height];\n                    setCoords(o, 1, 1, 0, 0, 0);\n                }\n            }\n            \"transform\" in params && o.transform(params.transform);\n            if (\"rotation\" in params) {\n                var rotation = params.rotation;\n                if (R.is(rotation, \"array\")) {\n                    o.rotate.apply(o, rotation);\n                }\n                else {\n                    o.rotate(rotation);\n                }\n            }\n            if (\"visibility\" in params) {\n                params.visibility === 'hidden' ? o.hide() : o.show();\n            }\n            if (isOval) {\n                var cx = +a.cx,\n                cy = +a.cy,\n                rx = +a.rx || +a.r || 0,\n                ry = + a.ry || + a.r || 0;\n                node.path = R.format(\"ar{0},{1},{2},{3},{4},{1},{4},{1}x\", round((cx - rx) * zoom), round((cy - ry) * zoom), round((cx + rx) * zoom), round((cy + ry) * zoom), round(cx * zoom));\n            }\n            if (\"clip-rect\" in params) {\n                var rect = Str(params[\"clip-rect\"]).split(separator);\n\n                if (rect.length == 4) {\n                    rect[0] = +rect[0];\n                    rect[1] = +rect[1];\n                    rect[2] = +rect[2] + rect[0];\n                    rect[3] = +rect[3] + rect[1];\n\n                    /** @todo create separate element for group clip-rect to\n                     * avoid unclipping issue */\n                    var div = isGroup ? node : (node.clipRect ||\n                            R._g.doc.createElement(\"div\")),\n                        offset,\n                        dstyle = div.style;\n\n                    if (isGroup) {\n                        o.clip = rect.slice(); // copy param\n                        offset = o.matrix.offset();\n                        offset = [toFloat(offset[0]), toFloat(offset[1])];\n                        // invert matrix calculation\n                        rect[0] -= offset[0];\n                        rect[1] -= offset[1];\n                        rect[2] -= offset[0];\n                        rect[3] -= offset[1];\n                        // Fix for bug in ie clip-auto when height/width is not defined\n                        /** @todo set dynamic w/h based on clip bounds or find\n                         * another workaround fix */\n                        //dstyle.width = \"10800px\";\n                        //dstyle.height = \"10800px\";\n\n                        // Not sure about the above fix\n                        // Revert the fix because it's creating another issue.\n                        // Setting the Group style, width/height as \"10800px\" makes the other group inaccessible\n                        // which is below this group\n                        dstyle.width = \"1px\";\n                        dstyle.height = \"1px\";\n                    }\n                    else if (!node.clipRect) {\n                        dstyle.top = \"0\";\n                        dstyle.left = \"0\";\n                        dstyle.width = o.paper.width + \"px\";\n                        dstyle.height = o.paper.height + \"px\";\n                        node.parentNode.insertBefore(div, node);\n                        div.appendChild(node);\n                        div.raphael = true;\n                        div.raphaelid = node.raphaelid;\n                        node.clipRect = div;\n                    }\n                    dstyle.position = \"absolute\";\n                    dstyle.clip = R.format(\"rect({1}px {2}px {3}px {0}px)\", rect);\n                }\n                if (!params[\"clip-rect\"]) {\n                    if (isGroup && o.clip) {\n                        node.style.clip = \"rect(0px 10800px 10800px 0px)\";\n                        delete o.clip;\n                    }\n                    else if (node.clipRect) {\n                        node.clipRect.style.clip = \"rect(0px 10800px 10800px 0px)\";\n                    }\n                }\n            }\n\n            if (\"shape-rendering\" in params) {\n                node.style.antialias = (params[\"shape-rendering\"] !== 'crisp');\n            }\n            // Css styles will be applied in element or group.\n            if (o.textpath || isGroup) {\n            var textpathStyle = isGroup ? node.style : o.textpath.style;\n                params.font && (textpathStyle.font = params.font);\n                params[\"font-family\"] && (textpathStyle.fontFamily = '\"' + params[\"font-family\"].split(\",\")[0].replace(/^['\"]+|['\"]+$/g, E) + '\"');\n                params[\"font-size\"] && (textpathStyle.fontSize = params[\"font-size\"]);\n                params[\"font-weight\"] && (textpathStyle.fontWeight = params[\"font-weight\"]);\n                params[\"font-style\"] && (textpathStyle.fontStyle = params[\"font-style\"]);\n            }\n            if (\"arrow-start\" in params) {\n                addArrow(res, params[\"arrow-start\"]);\n            }\n            if (\"arrow-end\" in params) {\n                addArrow(res, params[\"arrow-end\"], 1);\n            }\n            if (params.opacity != null ||\n                params[\"stroke-width\"] != null ||\n                params.fill != null ||\n                params.src != null ||\n                params.stroke != null ||\n                params[\"stroke-width\"] != null ||\n                params[\"stroke-opacity\"] != null ||\n                params[\"fill-opacity\"] != null ||\n                params[\"stroke-dasharray\"] != null ||\n                params[\"stroke-miterlimit\"] != null ||\n                params[\"stroke-linejoin\"] != null ||\n                params[\"stroke-linecap\"] != null) {\n                var fill = node.getElementsByTagName(fillString),\n                newfill = false,\n                fillOpacity = -1;\n                fill = fill && fill[0];\n                !fill && (newfill = fill = createNode(fillString));\n                if (o.type == \"image\" && params.src) {\n                    LoadRefImage(o, params);\n                    fill.src = params.src;\n                }\n                params.fill && (fill.on = true);\n                if (fill.on == null || params.fill == \"none\" || params.fill === null) {\n                    fill.on = false;\n                }\n\n                if (fill.on && params.fill) {\n                    var isURL = Str(params.fill).match(R._ISURL);\n                    if (isURL) {\n                        fill.parentNode == node && node.removeChild(fill);\n                        fill.rotate = true;\n                        fill.src = isURL[1];\n                        fill.type = \"tile\";\n                        var bbox = o.getBBox(1);\n                        fill.position = bbox.x + S + bbox.y;\n                        o._.fillpos = [bbox.x, bbox.y];\n\n                        R._preload(isURL[1], function() {\n                            o._.fillsize = [this.offsetWidth, this.offsetHeight];\n                        });\n                    } else {\n                        var color = R.getRGB(params.fill);\n                        fill.color = color.hex;\n                        fill.src = E;\n                        fill.type = \"solid\";\n\n                        if (color.error && (res.type in {\n                            circle: 1,\n                            ellipse: 1\n                        } || Str(params.fill).charAt() != \"r\") && addGradientFill(res, params.fill, fill)) {\n                            a.fill = \"none\";\n                            a.gradient = params.fill;\n                            fill.rotate = false;\n                        }\n                        else if (\"opacity\" in color && !(\"fill-opacity\" in params)) {\n                            // store oiginal non gradient color opacity\n                            oriOp.nonGradOpacity = fillOpacity = color.opacity;\n                        }\n                    }\n                }\n\n                if (fillOpacity !== -1 || \"fill-opacity\" in params || \"opacity\" in params) {\n                    var opacity = ((+a[\"fill-opacity\"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+fillOpacity + 1 || 2) - 1);\n                    opacity = mmin(mmax(opacity, 0), 1);\n                    oriOp.opacity = opacity;\n                    // if gradient color opacity is set then opacity (applied through the params)\n                    //  should be multiplied with the gradient opacity so that ratio will remain same\n                    if (oriOp.opacity1 !== undefined) {\n                        fill.opacity = oriOp.opacity1 * opacity;\n                        fill['o:opacity2'] = oriOp.opacity2 * opacity;\n                    } else {\n                        // multiply with the original non gradient color opacity with the opacity to preserve the ratio of the opacity\n                        fill.opacity = opacity * (oriOp.nonGradOpacity === undefined ? 1 : oriOp.nonGradOpacity);\n                    }\n                    if (fill.src) {\n                        fill.color = \"none\";\n                    }\n                }\n                oriOp.opacity = undefined;\n                node.appendChild(fill);\n                var stroke = (node.getElementsByTagName(\"stroke\") && node.getElementsByTagName(\"stroke\")[0]),\n                    newstroke = false;\n                !stroke && (newstroke = stroke = createNode(\"stroke\"));\n                if ((params.stroke && params.stroke != \"none\") ||\n                    params[\"stroke-width\"] ||\n                    params[\"stroke-opacity\"] != null ||\n                    params[\"stroke-dasharray\"] ||\n                    params[\"stroke-miterlimit\"] ||\n                    params[\"stroke-linejoin\"] ||\n                    params[\"stroke-linecap\"]) {\n                    stroke.on = true;\n                }\n                (params.stroke == \"none\" || params.stroke === null || stroke.on == null || params.stroke == 0 || params[\"stroke-width\"] == 0) && (stroke.on = false);\n                var strokeColor = R.getRGB(('stroke' in params) ? params.stroke : a.stroke);\n                stroke.on && params.stroke && (stroke.color = strokeColor.hex);\n                opacity = ((+a[\"stroke-opacity\"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+strokeColor.opacity + 1 || 2) - 1);\n                var width = (toFloat(params[\"stroke-width\"]) || 1) * .75;\n                opacity = mmin(mmax(opacity, 0), 1);\n                params[\"stroke-width\"] == null && (width = a[\"stroke-width\"]);\n                params[\"stroke-width\"] && (stroke.weight = width);\n                width && width < 1 && (opacity *= width) && (stroke.weight = 1);\n                // stroke-opacity should be applied only if stroke color is provided.\n                stroke.opacity = (a.stroke !== 'none') ? opacity : 0;\n                params[\"stroke-linejoin\"] && (stroke.joinstyle = params[\"stroke-linejoin\"]) || newstroke && (newstroke.joinstyle = 'miter');\n                stroke.miterlimit = params[\"stroke-miterlimit\"] || 8;\n                params[\"stroke-linecap\"] && (stroke.endcap = params[\"stroke-linecap\"] == \"butt\" ? \"flat\" : params[\"stroke-linecap\"] == \"square\" ? \"square\" : \"round\");\n                if (params[\"stroke-dasharray\"]) {\n                    var dasharray = {\n                        \"-\": \"shortdash\",\n                        \".\": \"shortdot\",\n                        \"-.\": \"shortdashdot\",\n                        \"-..\": \"shortdashdotdot\",\n                        \". \": \"dot\",\n                        \"- \": \"dash\",\n                        \"--\": \"longdash\",\n                        \"- .\": \"dashdot\",\n                        \"--.\": \"longdashdot\",\n                        \"--..\": \"longdashdotdot\"\n                    };\n                    stroke.dashstyle = dasharray[has](params[\"stroke-dasharray\"]) ? dasharray[params[\"stroke-dasharray\"]] :\n                            ((params[\"stroke-dasharray\"].join && params[\"stroke-dasharray\"].join(' ')) || E);\n                }\n                newstroke && node.appendChild(stroke);\n            }\n            if (res.type == \"text\") {\n                res.paper.canvas.style.display = E;\n                var span = res.paper.span,\n                m = 100,\n                fontSize = a.font && a.font.match(/\\d+(?:\\.\\d*)?(?=px)/),\n                lineHeight = a['line-height'] && (a['line-height']+E).match(/\\d+(?:\\.\\d*)?(?=px)/);\n                s = span.style;\n                a.font && (s.font = a.font);\n                a[\"font-family\"] && (s.fontFamily = a[\"font-family\"]);\n                a[\"font-weight\"] && (s.fontWeight = a[\"font-weight\"]);\n                a[\"font-style\"] && (s.fontStyle = a[\"font-style\"]);\n                fontSize = toFloat(a[\"font-size\"] || fontSize && fontSize[0]) || 10;\n                s.fontSize = fontSize * m + \"px\";\n                lineHeight = toFloat(a[\"line-height\"] || lineHeight && lineHeight[0]) || 12;\n                a[\"line-height\"] && (s.lineHeight = lineHeight * m + 'px');\n                R.is(params.text, 'array') && (params.text = res.textpath.string = params.text.join('\\n').replace(/<br\\s*?\\/?>/ig, '\\n'));\n                res.textpath.string && (span.innerHTML = Str(res.textpath.string).replace(/</g, \"&#60;\").replace(/&/g, \"&#38;\").replace(/\\n/g, \"<br>\"));\n                var brect = span.getBoundingClientRect();\n                res.W = a.w = (brect.right - brect.left) / m;\n                res.H = a.h = (brect.bottom - brect.top) / m;\n                // res.paper.canvas.style.display = \"none\";\n                res.X = a.x;\n                res.Y = a.y;\n                var leading = lineHeight - fontSize;\n\n                switch(a[\"vertical-align\"]) {\n                    case \"top\":\n                        res.bby = res.H / 2; // + leading;\n                        break;\n                    case \"bottom\":\n                        res.bby = -res.H / 2; // - leading;\n                        break;\n                    default:\n                        res.bby = 0;\n                }\n\n                (\"x\" in params || \"y\" in params || res.bby !== undefined) && (res.path.v = R.format(\"m{0},{1}l{2},{1}\", round(a.x * zoom), round((a.y + (res.bby || 0)) * zoom), round(a.x * zoom) + 1));\n                var dirtyattrs = [\"x\", \"y\", \"text\", \"font\", \"font-family\", \"font-weight\", \"font-style\", \"font-size\", \"line-height\"];\n                for (var d = 0, dd = dirtyattrs.length; d < dd; d++)\n                    if (dirtyattrs[d] in params) {\n                        res._.dirty = 1;\n                        break;\n                    }\n\n                // text-anchor emulation\n                switch (a[\"text-anchor\"]) {\n                    case \"start\":\n                        res.textpath.style[\"v-text-align\"] = \"left\";\n                        res.bbx = res.W / 2;\n                        break;\n                    case \"end\":\n                        res.textpath.style[\"v-text-align\"] = \"right\";\n                        res.bbx = -res.W / 2;\n                        break;\n                    default:\n                        res.textpath.style[\"v-text-align\"] = \"center\";\n                        res.bbx = 0;\n                        break;\n                }\n                res.textpath.style[\"v-text-kern\"] = true;\n            }\n        // res.paper.canvas.style.display = E;\n        },\n        /*\n        * Keeps the follower element in sync with the leaders.\n        * First and second arguments represents the context(element) and the\n        name of the callBack function respectively.\n        * The callBack is invoked for indivual follower Element with the rest of\n        arguments.\n        */\n        updateFollowers = R._updateFollowers = function () {\n            for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                args[i] = arguments[i];\n            }\n            var i,\n                ii,\n                followerElem,\n                o = arrayShift.call(args),\n                fnName = arrayShift.call(args);\n            for (i = 0, ii = o.followers.length; i < ii; i++) {\n                followerElem = o.followers[i].el;\n                followerElem[fnName].apply(followerElem, args);\n            }\n        },\n        addGradientFill = function(o, gradient, fill) {\n            o.attrs = o.attrs || {};\n            var attrs = o.attrs,\n            pow = Math.pow,\n            oriFOpacity,\n            oriOp = o.oriOp,\n            opacity,\n            oindex,\n            type = \"linear\",\n            fxfy = \".5 .5\";\n            o.attrs.gradient = gradient;\n            gradient = Str(gradient).replace(R._radial_gradient, function(all, opts) {\n                type = \"radial\";\n                opts = opts && opts.split(',') || [];\n\n                // fx,fy of vml is cx,cy of svg\n                var cx = opts[0],\n                    cy = opts[1],\n                    r = opts[2],\n                    fx = opts[3],\n                    fy = opts[4],\n                    units = opts[5];\n                if (fx && fy) {\n                    fx = toFloat(fx);\n                    fy = toFloat(fy);\n                    pow(fx - .5, 2) + pow(fy - .5, 2) > .25 && (fy = sqrt(.25 - pow(fx - .5, 2)) * ((fy > .5) * 2 - 1) + .5);\n                    fxfy = fx + S + fy;\n                }\n                return E;\n            });\n            gradient = gradient.split(/\\s*\\-\\s*/);\n            if (type == \"linear\") {\n                var angle = gradient.shift();\n                angle = -toFloat(angle);\n                if (isNaN(angle)) {\n                    return null;\n                }\n            }\n            var dots = R._parseDots(gradient);\n            if (!dots) {\n                return null;\n            }\n            o = o.shape || o.node;\n            if (dots.length) {\n                fill.parentNode == o && o.removeChild(fill);\n                fill.on = true;\n                fill.method = \"none\";\n                fill.color = dots[0].color;\n                fill.color2 = dots[dots.length - 1].color;\n                //For VML use first and last available alpha\n                var clrs = [],\n                opacity1 = 1,\n                opacity2 = dots[0].opacity === undefined ? 1 : dots[0].opacity;\n                for (var i = 0, ii = dots.length; i < ii; i++) {\n                    dots[i].offset && clrs.push(dots[i].offset + S + dots[i].color);\n                    if (dots[i].opacity !== undefined) {\n                        opacity1 = dots[i].opacity;//update with latest avaible opacity\n                    }\n                }\n                fill.colors = clrs.length ? clrs.join() : \"0% \" + fill.color;\n                //set opacity1 & opacity2\n                // store original gradient color opacity\n                oriOp.opacity1 = opacity1;\n                oriOp.opacity2 = opacity2;\n                oriFOpacity = (oriOp.opacity === undefined) ? 1 : oriOp.opacity;\n                // if gradient color opacity is set then opacity (applied through the params)\n                // should be multiplied with the gradient opacity so that ratio will remain same\n                fill.opacity = opacity1 * oriFOpacity;\n                fill['o:opacity2'] = opacity2 * oriFOpacity;\n                if (type == \"radial\") {\n                    fill.type = \"gradientTitle\";\n                    fill.focus = \"100%\";\n                    fill.focussize = \"0 0\";\n                    fill.focusposition = fxfy;\n                    fill.angle = 0;\n                } else {\n                    // fill.rotate= true;\n                    fill.type = \"gradient\";\n                    fill.angle = (270 - angle) % 360;\n                }\n                o.appendChild(fill);\n            }\n            return 1;\n        },\n        Element = function(node, vml, group/*, dontAppend*/) {\n            var o = this,\n                parent = group || vml,\n                skew;\n\n            /*!dontAppend && */parent.canvas && parent.canvas.appendChild(node);\n            skew = createNode(\"skew\");\n            skew.on = true;\n            node.appendChild(skew);\n            o.skew = skew;\n\n            o.node = o[0] = node;\n            node.raphael = true;\n            node.raphaelid = o.id = R._oid++;\n\n            o.X = 0;\n            o.Y = 0;\n\n            o.attrs = o.attrs || {};\n            o.followers = o.followers || [];\n\n            o.paper = vml;\n            o.ca = o.customAttributes = o.customAttributes ||\n                new vml._CustomAttributes();\n\n            o.matrix = R.matrix();\n            o._ = {\n                transform: [],\n                sx: 1,\n                sy: 1,\n                dx: 0,\n                dy: 0,\n                deg: 0,\n                dirty: 1,\n                dirtyT: 1\n            };\n\n            o.parent = parent;\n            !parent.bottom && (parent.bottom = o);\n\n            o.prev = parent.top;\n            parent.top && (parent.top.next = o);\n            parent.top = o;\n            o.next = null;\n        };\n        var elproto = R.el;\n\n        Element.prototype = elproto;\n        elproto.constructor = Element;\n\n        elproto.transform = function(tstr) {\n            if (tstr == null) {\n                return this._.transform;\n            }\n            var vbs = this.paper._viewBoxShift,\n            vbt = vbs ? \"s\" + [vbs.scale, vbs.scale] + \"-1-1t\" + [vbs.dx, vbs.dy] : E,\n            oldt;\n\n            if (vbs) {\n                oldt = tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, this._.transform || E);\n            }\n\n            R._extractTransform(this, vbt + tstr);\n\n            var matrix = this.matrix.clone(),\n            skew = this.skew,\n            o = this.node,\n            split,\n            isGrad = ~Str(this.attrs.fill).indexOf(\"-\"),\n            isPatt = !Str(this.attrs.fill).indexOf(\"url(\");\n            matrix.translate(-.5, -.5);\n            if (isPatt || isGrad || this.type == \"image\") {\n                skew.matrix = \"1 0 0 1\";\n                skew.offset = \"0 0\";\n                split = matrix.split();\n                if ((isGrad && split.noRotation) || !split.isSimple) {\n                    o.style.filter = matrix.toFilter();\n                    var bb = this.getBBox(),\n                    bbt = this.getBBox(1),\n                    xget = bb.x2 && bbt.x2 && 'x2' || 'x',\n                    yget = bb.y2 && bbt.y2 && 'y2' || 'y',\n                    dx = bb[xget] - bbt[xget],\n                    dy = bb[yget] - bbt[yget];\n                    o.coordorigin = (dx * -zoom) + S + (dy * -zoom);\n                    setCoords(this, 1, 1, dx, dy, 0);\n                } else {\n                    o.style.filter = E;\n                    setCoords(this, split.scalex, split.scaley, split.dx, split.dy, split.rotate);\n                }\n            } else {\n                o.style.filter = E;\n                skew.matrix = Str(matrix);\n                skew.offset = matrix.offset();\n            }\n            oldt && (this._.transform = oldt);\n\n            return this;\n        };\n        elproto.rotate = function(deg, cx, cy) {\n            var o = this;\n            if (o.removed) {\n                return o;\n            }\n            updateFollowers(o, 'rotate', deg, cx, cy);\n            if (deg == null) {\n                return;\n            }\n            deg = Str(deg).split(separator);\n            if (deg.length - 1) {\n                cx = toFloat(deg[1]);\n                cy = toFloat(deg[2]);\n            }\n            deg = toFloat(deg[0]);\n            (cy == null) && (cx = cy);\n            if (cx == null || cy == null) {\n                var bbox = o.getBBox(1);\n                cx = bbox.x + bbox.width / 2;\n                cy = bbox.y + bbox.height / 2;\n            }\n            o._.dirtyT = 1;\n            o.transform(o._.transform.concat([[\"r\", deg, cx, cy]]));\n            return o;\n        };\n        elproto.translate = function(dx, dy) {\n            var o = this;\n            if (o.removed) {\n                return o;\n            }\n            updateFollowers(o, 'translate', dx, dy);\n            dx = Str(dx).split(separator);\n            if (dx.length - 1) {\n                dy = toFloat(dx[1]);\n            }\n            dx = toFloat(dx[0]) || 0;\n            dy = +dy || 0;\n            if (o._.bbox) {\n                o._.bbox.x += dx;\n                o._.bbox.y += dy;\n            }\n            o.transform(o._.transform.concat([[\"t\", dx, dy]]));\n            return o;\n        };\n        elproto.scale = function(sx, sy, cx, cy) {\n            var o = this;\n            if (o.removed) {\n                return o;\n            }\n            updateFollowers(o, 'scale', sx, sy, cx, cy);\n            sx = Str(sx).split(separator);\n            if (sx.length - 1) {\n                sy = toFloat(sx[1]);\n                cx = toFloat(sx[2]);\n                cy = toFloat(sx[3]);\n                isNaN(cx) && (cx = null);\n                isNaN(cy) && (cy = null);\n            }\n            sx = toFloat(sx[0]);\n            (sy == null) && (sy = sx);\n            (cy == null) && (cx = cy);\n            if (cx == null || cy == null) {\n                var bbox = o.getBBox(1);\n            }\n            cx = cx == null ? bbox.x + bbox.width / 2 : cx;\n            cy = cy == null ? bbox.y + bbox.height / 2 : cy;\n\n            o.transform(o._.transform.concat([[\"s\", sx, sy, cx, cy]]));\n            o._.dirtyT = 1;\n            return o;\n        };\n        elproto.hide = function(soft) {\n            var o = this;\n            updateFollowers(o, 'hide', soft);\n            !o.removed && (o.node.style.display = \"none\");\n            return o;\n        };\n\n        elproto.show = function(soft) {\n            var o = this;\n            updateFollowers(o, 'show', soft);\n            !o.removed && (o.node.style.display = E);\n            return o;\n        };\n        elproto._getBBox = function() {\n            var o = this;\n            if (o.removed) {\n                return {};\n            }\n            return {\n                x: o.X + (o.bbx || 0) - o.W / 2,\n                y: o.Y + (o.bby || 0) - o.H / 2,\n                width: o.W,\n                height: o.H\n            };\n        };\n        elproto.remove = function() {\n            if (this.removed || !this.parent.canvas) {\n                return;\n            }\n\n            var o = this,\n                node = R._engine.getNode(o),\n                paper = o.paper,\n                shape = o.shape,\n                i;\n\n            paper.__set__ && paper.__set__.exclude(o);\n            eve.unbind(\"raphael.*.*.\" + o.id);\n\n            shape && shape.parentNode.removeChild(shape);\n            node.parentNode && node.parentNode.removeChild(node);\n\n            while (i = o.followers.pop()) {\n                i.el.remove();\n            }\n            while (i = o.bottom) {\n                i.remove();\n            }\n\n            if (o._drag) {\n                o.undrag();\n            }\n\n            if (o.events)  {\n                while (i = o.events.pop()) {\n                    i.unbind();\n                }\n            }\n\n            o.removeData();\n            delete paper._elementsById[o.id];\n            R._tear(o, o.parent);\n\n            for (var i in o) {\n                o[i] = typeof o[i] === \"function\" ? R._removedFactory(i) : null;\n            }\n            o.removed = true;\n        };\n\n        elproto.attr = function(name, value) {\n            if (this.removed) {\n                return this;\n            }\n            if (name == null) {\n                var res = {};\n                for (var a in this.attrs)\n                    if (this.attrs[has](a)) {\n                        res[a] = this.attrs[a];\n                    }\n                res.gradient && res.fill == \"none\" && (res.fill = res.gradient) && delete res.gradient;\n                res.transform = this._.transform;\n                res.visibility = this.node.style.display === \"none\" ? \"hidden\" : \"visible\";\n                return res;\n            }\n            if (value == null && R.is(name, \"string\")) {\n                if (name == fillString && this.attrs.fill == \"none\" && this.attrs.gradient) {\n                    return this.attrs.gradient;\n                }\n                if (name == \"visibility\") {\n                    return this.node.style.display === \"none\" ? \"hidden\" : \"visible\";\n                }\n                var names = name.split(separator),\n                out = {};\n                for (var i = 0, ii = names.length; i < ii; i++) {\n                    name = names[i];\n                    if (name in this.attrs) {\n                        out[name] = this.attrs[name];\n                    } else if (R.is(this.ca[name], \"function\")) {\n                        out[name] = this.ca[name].def;\n                    } else {\n                        out[name] = R._availableAttrs[name];\n                    }\n                }\n                return ii - 1 ? out : out[names[0]];\n            }\n            if (this.attrs && value == null && R.is(name, \"array\")) {\n                out = {};\n                for (i = 0, ii = name.length; i < ii; i++) {\n                    out[name[i]] = this.attr(name[i]);\n                }\n                return out;\n            }\n            var params;\n            if (value != null) {\n                params = {};\n                params[name] = value;\n            }\n            value == null && R.is(name, \"object\") && (params = name);\n            if (!R.stopPartialEventPropagation) {\n                for (var key in params) {\n                    eve(\"raphael.attr.\" + key + \".\" + this.id, this, params[key], key);\n                }\n            }\n            if (params) {\n                var todel = {};\n                for (key in this.ca) {\n                    if (this.ca[key] && params[has](key) && R.is(this.ca[key], \"function\") && !this.ca['_invoked' + key]) {\n                        this.ca['_invoked' + key] = true; // prevent recursion\n                        var par = this.ca[key].apply(this, [].concat(params[key]));\n                        delete this.ca['_invoked' + key];\n\n                        for (var subkey in par) {\n                            if (par[has](subkey)) {\n                                params[subkey] = par[subkey];\n                            }\n                        }\n                        this.attrs[key] = params[key];\n                        if (par === false) {\n                            todel[key] = params[key];\n                            delete params[key];\n                        }\n                    }\n                }\n\n                // this.paper.canvas.style.display = \"none\";\n                if ('text' in params && this.type == \"text\") {\n                    R.is(params.text, 'array') && (params.text = params.text.join('\\n'));\n                    this.textpath.string = params.text.replace(/<br\\s*?\\/?>/ig, '\\n');\n                }\n                setFillAndStroke(this, params);\n                var follower;\n                for (i = 0, ii = this.followers.length; i < ii; i++) {\n                    follower = this.followers[i];\n                    (follower.cb && !follower.cb.call(follower.el, params, this)) ||\n                        follower.el.attr(params);\n                }\n                for (var subkey in todel) {\n                    params[subkey] = todel[subkey];\n                }\n            // this.paper.canvas.style.display = E;\n            }\n            return this;\n        };\n\n        elproto.blur = function(size) {\n            var s = this.node.runtimeStyle,\n            f = s.filter;\n            f = f.replace(blurregexp, E);\n            if (+size !== 0) {\n                this.attrs.blur = size;\n                s.filter = f + S + ms + \".Blur(pixelradius=\" + (+size || 1.5) + \")\";\n                s.margin = R.format(\"-{0}px 0 0 -{0}px\", round(+size || 1.5));\n            } else {\n                s.filter = f;\n                s.margin = 0;\n                delete this.attrs.blur;\n            }\n            return this;\n        };\n\n        /*\\\n        * Element.on\n        [ method ]\n        **\n        * Bind handler function for a particular event to Element\n        * @param eventType - Type of event\n        * @param handler - Function to be called on the firing of the event\n        \\*/\n        elproto.on = function(eventType, handler) {\n            if (this.removed) {\n                return this;\n            }\n\n            if (eventType === 'dragstart') {\n                this.drag(null, handler);\n                return this;\n            } else if (eventType === 'dragmove') {\n                this.drag(handler);\n                return this;\n            } else if (eventType === 'dragend') {\n                this.drag(null, null, handler);\n                return this;\n            }\n            if (this._ && this._.RefImg) {\n                node = this._.RefImg;\n            } else {\n                node = this.node;\n            }\n            if (node.attachEvent) {\n                node.attachEvent('on'+ eventType, handler);\n            }\n            else {\n                node['on'+ eventType] = function() {\n                    var evt = R._g.win.event;\n                    evt.target = evt.srcElement;\n                    handler(evt);\n                };\n            }\n            return this;\n        };\n\n        /*\\\n        * Element.off\n        [ method ]\n        **\n        * Remove handler function bind to an event of element\n        * @param eventType - Type of event\n        * @param handler - Function to be removed from event\n        \\*/\n        elproto.off = function(eventType, handler) {\n            if (this.removed) {\n                return this;\n            }\n\n            if (eventType === 'dragstart') {\n                this.undragstart();\n                return this;\n            } else if (eventType === 'dragmove') {\n                this.undragmove();\n                return this;\n            } else if (eventType === 'dragend') {\n                this.undragend();\n                return this;\n            }\n            if (this.node.attachEvent) {\n                this.node.detachEvent('on'+ eventType, handler);\n            }\n            else {\n                this.node['on'+ eventType] = null;\n            }\n            return this;\n        };\n\n        R._engine.getNode = function (el) {\n            var node = el.node || el[0].node;\n            return node.clipRect || node;\n        };\n        R._engine.getLastNode = function (el) {\n            var node = el.node || el[el.length - 1].node;\n            return node.clipRect || node;\n        };\n\n        R._engine.group = function(vml, id, group) {\n            var el = R._g.doc.createElement(\"div\"),\n                p = new Element(el, vml, group);\n\n            el.style.cssText = cssDot;\n            p._id = id || E;\n            id && (el.className = 'raphael-group-' + p.id + '-' + id);\n            (group || vml).canvas.appendChild(el);\n\n            p.type = 'group';\n            p.canvas = p.node;\n            p.transform = R._engine.group.transform;\n            p.top = null;\n            p.bottom = null;\n\n            return p;\n        };\n\n        R._engine.group.transform = function(tstr) {\n            if (tstr == null) {\n                return this._.transform;\n            }\n\n            var o = this,\n                s = o.node.style,\n                c = o.clip,\n                vbs = o.paper._viewBoxShift,\n                vbt = vbs ? \"s\" + [vbs.scale, vbs.scale] + \"-1-1t\" + [vbs.dx, vbs.dy] : E,\n                oldt,\n                matrix,\n                offset,\n                tx,\n                ty;\n\n            if (vbs) {\n                oldt = tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, o._.transform || E);\n            }\n            R._extractTransform(o, vbt + tstr);\n            matrix = o.matrix;\n            offset = matrix.offset();\n            tx = toFloat(offset[0]) || 0;\n            ty = toFloat(offset[1]) || 0;\n\n            s.left = tx + \"px\";\n            s.top = ty + \"px\";\n            s.zoom = (o._.tzoom = matrix.get(0)) + E;\n\n            /** @todo try perform relative group transform, thus avoiding\n             * transform on clipping */\n            c && (s.clip = R.format(\"rect({1}px {2}px {3}px {0}px)\", [\n                c[0] - tx, c[1] - ty, c[2] - tx, c[3] - ty\n            ]));\n\n            return o;\n        };\n\n        R._engine.path = function(vml, attrs, group) {\n            var el = createNode(\"shape\");\n            el.style.cssText = cssDot;\n            el.coordsize = zoom + S + zoom;\n            el.coordorigin = vml.coordorigin;\n\n            var p = new Element(el, vml, group);\n            p.type = attrs.type || \"path\";\n            p.path = [];\n            p.Path = E;\n\n            attrs.type && (delete attrs.type);\n            setFillAndStroke(p, attrs);\n            applyCustomAttributes(p, attrs);\n            return p;\n        };\n\n        R._engine.rect = function(vml, attrs, group) {\n            var path = R._rectPath(attrs.x, attrs.y, attrs.w, attrs.h, attrs.r);\n\n            attrs.path = path;\n            attrs.type = \"rect\";\n\n            var res = vml.path(attrs, group),\n            a = res.attrs;\n            res.X = a.x;\n            res.Y = a.y;\n            res.W = a.width;\n            res.H = a.height;\n            a.path = path;\n\n            return res;\n        };\n        R._engine.ellipse = function(vml, attrs, group) {\n            attrs.type = \"ellipse\";\n\n            var res = vml.path(attrs, group),\n                a = res.attrs;\n            res.X = a.x - a.rx;\n            res.Y = a.y - a.ry;\n            res.W = a.rx * 2;\n            res.H = a.ry * 2;\n\n            return res;\n        };\n        R._engine.circle = function(vml, attrs, group) {\n            attrs.type = \"circle\";\n\n            var res = vml.path(attrs, group),\n                a = res.attrs;\n\n            res.X = a.x - a.r;\n            res.Y = a.y - a.r;\n            res.W = res.H = a.r * 2;\n            return res;\n        };\n        function LoadRefImage (element, attrs) {\n            var src = attrs.src,\n                parent = element._.group,\n                node = element.node,\n                RefImg = element._.RefImg;\n\n            if (!RefImg) {\n                RefImg = element._.RefImg = new Image();\n            }\n\n            if (attrs.src === undefined) {\n                return;\n            }\n            RefImg.src = src;\n            element._.RefImg = RefImg;\n        };\n        R._engine.image = function(vml, attrs, group) {\n            var path = R._rectPath(attrs.x, attrs.y, attrs.w, attrs.h);\n\n            attrs.path = path;\n            attrs.type = \"image\";\n            attrs.stroke = \"none\";\n            var res = vml.path(attrs, group),\n                a = res.attrs,\n                node = res.node,\n                fill = node.getElementsByTagName(fillString)[0];\n\n            a.src = attrs.src;\n            res.X = a.x = attrs.x;\n            res.Y = a.y = attrs.y;\n            res.W = a.width = attrs.w;\n            res.H = a.height = attrs.h;\n\n            fill.parentNode == node && node.removeChild(fill);\n            fill.rotate = true;\n            fill.src = a.src;\n            fill.type = \"tile\";\n            res._.fillpos = [a.x, a.y];\n            res._.fillsize = [a.w, a.h];\n            node.appendChild(fill);\n            setCoords(res, 1, 1, 0, 0, 0);\n            return res;\n        };\n        R._engine.text = function(vml, attrs, group, css) {\n            var el = createNode(\"shape\"),\n                path = createNode(\"path\"),\n                o = createNode(\"textpath\");\n            x = attrs.x || 0;\n            y = attrs.y || 0;\n            text = attrs.text;\n            path.v = R.format(\"m{0},{1}l{2},{1}\", round(attrs.x * zoom), round(attrs.y * zoom), round(attrs.x * zoom) + 1);\n            path.textpathok = true;\n            o.string = Str(attrs.text).replace(/<br\\s*?\\/?>/ig, '\\n');\n            o.on = true;\n            el.style.cssText = cssDot;\n            el.coordsize = zoom + S + zoom;\n            el.coordorigin = \"0 0\";\n            var p = new Element(el, vml, group);\n\n            p.shape = el;\n            p.path = path;\n            p.textpath = o;\n            p.type = \"text\";\n            p.attrs.text = Str(attrs.text || E);\n            p.attrs.x = attrs.x;\n            p.attrs.y = attrs.y;\n            p.attrs.w = 1;\n            p.attrs.h = 1;\n            css && p.css && p.css(css, undefined, true);\n            setFillAndStroke(p, attrs);\n            applyCustomAttributes(p, attrs);\n\n            el.appendChild(o);\n            el.appendChild(path);\n\n            return p;\n        };\n\n        R._engine.setSize = function(width, height) {\n            var cs = this.canvas.style;\n            this.width = width;\n            this.height = height;\n            width == +width && (width += \"px\");\n            height == +height && (height += \"px\");\n            width && (cs.width = width);\n            height && (cs.height = height);\n            cs.clip = \"rect(0 \" + cs.width + \" \" + cs.height + \" 0)\";\n            if (this._viewBox) {\n                R._engine.setViewBox.apply(this, this._viewBox);\n            }\n            return this;\n        };\n        R._engine.setViewBox = function(x, y, w, h, fit) {\n            eve(\"raphael.setViewBox\", this, this._viewBox, [x, y, w, h, fit]);\n            var width = this.width,\n            height = this.height,\n            size = 1 / mmax(w / width, h / height),\n            H, W;\n            if (fit) {\n                H = height / h;\n                W = width / w;\n                if (w * H < width) {\n                    x -= (width - w * H) / 2 / H;\n                }\n                if (h * W < height) {\n                    y -= (height - h * W) / 2 / W;\n                }\n            }\n            this._viewBox = [x, y, w, h, !!fit];\n            this._viewBoxShift = {\n                dx: -x,\n                dy: -y,\n                scale: size\n            };\n            this.forEach(function(el) {\n                el.transform(\"...\");\n            });\n            return this;\n        };\n        var createNode;\n        R._engine.initWin = function(win) {\n            var doc = win.document;\n            doc.createStyleSheet().addRule(\".rvml\", \"behavior:url(#default#VML)\");\n            try {\n                !doc.namespaces.rvml && doc.namespaces.add(\"rvml\", \"urn:schemas-microsoft-com:vml\");\n                createNode = R._createNode = function(tagName, attrs) {\n                    var el = doc.createElement('<rvml:' + tagName + ' class=\"rvml\">'),\n                    prop;\n                    for (prop in attrs) {\n                        el[prop] = Str(attrs[prop]);\n                    }\n                    return el;\n                };\n            } catch (e) {\n                createNode = R._createNode = function(tagName, attrs) {\n                    var el = doc.createElement('<' + tagName + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"rvml\">'),\n                    prop;\n                    for (prop in attrs) {\n                        el[prop] = Str(attrs[prop]);\n                    }\n                    return el;\n                };\n            }\n        };\n        R._engine.initWin(R._g.win);\n        R._engine.create = function() {\n            for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                args[i] = arguments[i];\n            }\n            var con = R._getContainer.apply(0, args),\n            container = con.container,\n            height = con.height,\n            s,\n            width = con.width,\n            x = con.x,\n            y = con.y;\n            if (!container) {\n                throw new Error(\"VML container not found.\");\n            }\n            var res = new R._Paper,\n            c = res.canvas = R._g.doc.createElement(\"div\"),\n            cs = c.style;\n            x = x || 0;\n            y = y || 0;\n            width = width || 512;\n            height = height || 342;\n            res.width = width;\n            res.height = height;\n            width == +width && (width += \"px\");\n            height == +height && (height += \"px\");\n            res.coordsize = zoom * 1e3 + S + zoom * 1e3;\n            res.coordorigin = \"0 0\";\n            c.id = \"raphael-paper-\" + res.id;\n            res.span = R._g.doc.createElement(\"span\");\n            res.span.style.cssText = \"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;\";\n            c.appendChild(res.span);\n            cs.cssText = R.format(\"top:0;left:0;width:{0};height:{1};display:inline-block;cursor:default;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden\", width, height);\n            if (container == 1) {\n                R._g.doc.body.appendChild(c);\n                cs.left = x + \"px\";\n                cs.top = y + \"px\";\n                cs.position = \"absolute\";\n            } else {\n                if (container.firstChild) {\n                    container.insertBefore(c, container.firstChild);\n                } else {\n                    container.appendChild(c);\n                }\n            }\n            res.renderfix = function() {\n            };\n            return res;\n        };\n        R.prototype.clear = function() {\n            var c;\n            eve(\"raphael.clear\", this);\n            while (c = this.bottom) {\n                c.remove();\n            }\n            this.canvas.innerHTML = E;\n            this.span = R._g.doc.createElement(\"span\");\n            this.span.style.cssText = \"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;\";\n            this.canvas.appendChild(this.span);\n            this.bottom = this.top = null;\n        };\n        R.prototype.remove = function() {\n            var i;\n            eve(\"raphael.remove\", this);\n            while (i = this.bottom) {\n                i.remove();\n            }\n            this.canvas.parentNode.removeChild(this.canvas);\n            for (i in this) {\n                this[i] = typeof this[i] == \"function\" ? R._removedFactory(i) : null;\n            }\n            return true;\n        };\n\n        // var setproto = R.st;\n        // for (var method in elproto)\n        //     if (elproto[has](method) && !setproto[has](method)) {\n        //         setproto[method] = (function(methodname) {\n        //             return function() {\n        //                 var arg = arguments;\n        //                 return this.forEach(function(el) {\n        //                     el[methodname].apply(el, arg);\n        //                 });\n        //             };\n        //         })(method);\n        //     }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/raphael.vml.js","/*jslint forin: true, regexp: true, todo: true, white: false, browser: true,\n sloppy: true, white: true, eqeq: false, newcap: true, nomen: true */\n\n/*global FusionCharts */\n\n/**\n * Raphael Canvas Extension\n */\n\nexport default function (R) {\n    if (R.canvas) {\n        var win = R._g.win,\n            doc = R._g.doc,\n            g = R._g,\n\n            STRING = 'string',\n            PX = 'px',\n\n            separator = /[, ]+/,\n\n            Str = win.String,\n            toInt = win.parseInt,\n            toFloat = win.parseFloat,\n\n            math = win.Math,\n            mmax = math.max,\n            mmin = math.min,\n            pi = math.PI,\n            mathFloor = math.floor,\n\n            eve = R.eve,\n            paperproto = R.fn,\n            elproto = R.el,\n            setproto = R.st,\n\n            clone = R.clone,\n            deg2rad = pi / 180,\n            rad2deg = 180 / pi,\n\n            DEFAULT_FILL = \"#fff\",\n            DEFAULT_STROKE = \"#000\",\n            has = \"hasOwnProperty\",\n            S = \" \",\n            /** @todo: detect touch */\n            supportsTouch = (('ontouchstart' in win) || (navigator.msMaxTouchPoints > 0)),\n            events = (\"click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel\").split(S),\n            noHandle = false,\n\n            $,\n            FauxNode,\n            Element,\n            draggable = [],\n            drag = [],\n            dragMove = function(e) {\n                var x = e.clientX,\n                y = e.clientY,\n                scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n                scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n                dragi,\n                j = drag.length;\n                while (j--) {\n                    dragi = drag[j];\n                    if (supportsTouch) {\n                        var i = e.touches.length,\n                        touch;\n                        while (i--) {\n                            touch = e.touches[i];\n                            if (touch.identifier == dragi.el._drag.id) {\n                                x = touch.clientX;\n                                y = touch.clientY;\n                                (e.originalEvent ? e.originalEvent : e).preventDefault();\n                                break;\n                            }\n                        }\n                    } else {\n                        e.preventDefault();\n                    }\n\n                    //var node = dragi.el.node;\n                        //o,\n                        //next = node.nextSibling,\n                        //parent = node.parentNode,\n                        //display = node.style.display;\n\n                    /** @todo: implement raphael.drag.over */\n\n                    //g.win.opera && parent.removeChild(node);\n                    //node.style.display = \"none\";\n                    //o = dragi.el.paper.getElementByPoint(x, y);\n                    //node.style.display = display;\n                    //g.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));\n                    //o && eve(\"raphael.drag.over.\" + dragi.el.id, dragi.el, o);\n                    x += scrollX;\n                    y += scrollY;\n                    eve(\"raphael.drag.move.\" + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);\n                }\n            },\n            dragUp = function(e) {\n                R.unmousemove(dragMove).unmouseup(dragUp);\n                var i = drag.length,\n                dragi;\n                while (i--) {\n                    dragi = drag[i];\n                    dragi.el._drag = {};\n                    dragi.onendHandler && eve(\"raphael.drag.end.\" + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\n                }\n                drag = [];\n            };\n\n        $ = R._createNode = function(el, attr) {\n            if (attr) {\n                if (typeof el === STRING) {\n                    el = $(el);\n                }\n                for (var key in attr)\n                    if (attr.hasOwnProperty(key)) {\n                        el.setAttribute(key, Str(attr[key]));\n                    }\n            } else {\n                el = doc.createElement(el);\n            }\n            return el;\n        };\n\n        R._getConnectedNodes = function (node) {\n            return {\n                above: [],\n                below: []\n            };\n        };\n\n        R._getTargetNode = function (coords) {\n            var x = coords[0],\n                y = coords[1];\n\n\n        };\n\n        R._containerEventHandler = function (event) {\n            event = event || win.event;\n\n            if (noHandle) {\n                return;\n            }\n\n            /** @todo: do not use offsetX and offsetY */\n            var x = event.offsetX,//mathFloor(event.pageX || (event.clientX + doc.body.scrollLeft + doc.documentElement.scrollLeft) || 0),\n                y = event.offsetY,//mathFloor(event.pageY || (event.clientY + doc.body.scrollTop + doc.documentElement.scrollTop) || 0),\n                type = event.type,\n                node = R._getTargetNode([x, y]);\n\n            //console.log(type + \":: x: \" + x + \" y: \" + y);\n\n            /*\n            if (typeof node.listeners[type] === 'function') {\n                node.listeners[type].call(node, e);\n            }*/\n\n        };\n\n\n\n\n\n        FauxNode =  function (parent) {\n            this.type = \"basic\";\n\n            this.owner = parent;\n\n            // Element reference needed to get attrs so that there is no need to\n            // maintain a redundant copy.\n            this._rElement = null;\n\n            // False if this element does not need mouse interactivity.\n            this.mouseInteractions = false;\n            this.matrix = null;\n\n            // An outline path that will be the outline of the shape or in case of\n            // text the rect that bounds the text.\n            this.outlinePath = null;\n\n            this.conf = {};\n        };\n\n        FauxNode.prototype = {\n\n            constructor: FauxNode,\n\n            /**\n             * This method does the complete rendering of the element, including\n             * (re)setting the bbox and image map.\n             *\n             * @returns {_L10.FauxNode.prototype}\n             */\n            render: function () {\n\n                var o = this;\n\n                o.draw();\n                o.setBBox();\n\n                return o;\n            },\n\n            /**\n             * Applies the transforms and clipping to the context and draws the\n             * element.\n             *\n             * @returns {undefined}\n             */\n            draw: function () {\n                var o = this,\n                    ctx = o.context,\n                    el = o._rElement,\n                    m = el.matrix,\n                    isClipped = o.isClipped,\n                    attrs = o.validateAttrs(),\n                    cr,\n                    end;\n\n\n                // After the validation the attributes need to be set to the element\n                // as validateAttrs works on a copy of the attrs object.\n                el.attrs = attrs;\n\n                ctx.save();\n\n                ctx.fillStyle = attrs.fill;\n                ctx.strokeStyle = attrs.stroke;\n                ctx.lineWidth = attrs['stroke-width'];\n\n                // Applying the clip before the context is transformed as is the case\n                // in case of SVG.\n                if (cr = attrs['clip-rect']) {\n                    cr = cr.split(\" \");\n                    ctx.rect(cr[0], cr[1], cr[2], cr[3]);\n                    ctx.clip();\n                    isClipped = o.isClipped = true;\n                }\n\n                o.applyTransform(m);\n\n                o.paint();\n\n                ctx.restore();\n            },\n\n            /**\n             * Parse the attributes provided to paint the element shape using the\n             * canvas context.\n             *\n             * Overridden by individual derived FauxNodes\n             */\n            paint: function () {\n            },\n\n            /**\n             * The redraw of the FauxNodes is to be handled by the CanvasObjectModel\n             * instance as it involves redrawing all the elements corresponsing to\n             * that canvas in the proper order.\n             */\n            redraw: function () {\n                this.COMInstance.redraw(this);\n            },\n\n            /**\n             * Clears the rectangle corresponding to the bounding box of the node.\n             */\n            clear: function () {\n                var o = this,\n                    ctx = o.context,\n                    bbox = o._bbox;\n\n                /** @todo: while clearing the stroke-width also needs to be accounted for. */\n                if (bbox) {\n                    ctx.clearRect(bbox.x, bbox.y, bbox.width, bbox.height);\n                }\n            },\n\n            /**\n             * Creates the area node in the image map so that mouse interactivity\n             * can be emulated using it.\n             */\n            addMouseInteractivity: function () {\n                var o = this,\n                    attrs = o._rElement.attrs,\n                    bbox = o._bbox,\n                    map = o.owner.wrapper._map,\n                    shape = (o.type === 'circle') ? 'circle' : 'rect',\n                    coords = (shape === 'circle') ? [attrs.cx, attrs.cy, attrs.r].join(\",\")\n                        : [bbox.x, bbox.y, bbox.x2, bbox.y2].join(\",\"),\n                    area,\n                    end;\n\n                    area = $('area', {shape: shape, coords: coords});\n                    if (map.firstChild) {\n                        map.insertBefore(area, map.firstChild);\n                    }\n                    else {\n                        map.appendChild(area);\n                    }\n\n                    /** @todo: should be put this check here */\n                    o._mouseArea = area;\n\n                    // Needed for paths.\n                    o.eventListeners = {};\n            },\n\n\n            /**\n             * Update the coords of the area node (image map) corresponding to the FauxNode\n             * after it has been modified by changing attributes.\n             */\n            updateMapAreaCoords: function () {\n                var o = this,\n                    oArea = o._mouseArea,\n                    bbox = o._bbox;\n\n                if (oArea) {\n                    //o.context.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);\n                    if (o instanceof CircleFauxNode) {\n                        var r = bbox.width / 2;\n                        oArea.setAttribute('coords',\n                            [bbox.x + r, bbox.y + r, r].join(\",\"));\n                    }\n                    else {\n                        oArea.setAttribute('coords',\n                            [bbox.x, bbox.y, bbox.x2, bbox.y2].join(\",\"));\n                    }\n                }\n            },\n\n            /**\n             * Applies the transform given the transformation matrix to the context.\n             *\n             * @param {type} matrix\n             * @param {type} bbox\n             * @param {type} dontsetbbox\n             *\n             * @returns {_L10.FauxNode.prototype.transformBBox.tbox}\n             */\n            applyTransform: function (m) {\n                var o = this,\n                    ctx = o.context,\n                    split;\n\n                if (m) {\n                    split = m.split();\n                    ctx.translate(split.dx, split.dy);\n                    !split.noRotation && ctx.rotate(deg2rad * split.rotate);\n                    ctx.scale(split.scalex, split.scaley);\n                }\n            },\n\n            /**\n             *\n             */\n            setBBox: function () {\n                var o = this,\n                    el = o._rElement,\n                    m = el.matrix,\n                    parent = o.owner,\n                    pm = parent.getTransformMatrix && parent.getTransformMatrix();\n\n                if (pm) {\n                    pm = pm.clone();\n                    pm.add(m);\n                    m = pm;\n                }\n\n                if (o.outlinePath) {\n                    o._bbox = R.pathBBox(R.transformPath(o.outlinePath, m.toTransformString()).toString());\n                }\n                else {\n                    o.setShapeBBox(m);\n                }\n\n                o._mouseArea && o.updateMapAreaCoords();\n            },\n\n            getBBox: function () {\n                return this._bbox;\n            },\n\n            drawPath: function (path) {\n                var o = this,\n                    ctx = o.context,\n                    len = (path && path.length) || 0,\n                    pp = PathParser,\n                    i = 0,\n                    command,\n                    x,\n                    y,\n                    end;\n\n                // The PathParser object has been borrowed from canvg. All 3rd party attributions implied.\n                pp.reset();\n                pp.setTokens(path);\n\n                //var bb = new BoundingBox();\n                if (ctx != null) {\n                    ctx.beginPath();\n                }\n\n                while (!pp.isEnd()) {\n                    pp.nextCommand();\n                    switch (pp.command) {\n                        case 'M':\n                        case 'm':\n                            var p = pp.getAsCurrentPoint();\n                            pp.addMarker(p);\n                            //bb.addPoint(p.x, p.y);\n                            if (ctx != null) {\n                                ctx.moveTo(p.x, p.y);\n                            }\n                            pp.start = pp.current;\n                            while (!pp.isCommandOrEnd()) {\n                                var p = pp.getAsCurrentPoint();\n                                pp.addMarker(p, pp.start);\n                                //bb.addPoint(p.x, p.y);\n                                if (ctx != null) {\n                                    ctx.lineTo(p.x, p.y);\n                                }\n                            }\n                            break;\n                        case 'L':\n                        case 'l':\n                            while (!pp.isCommandOrEnd()) {\n                                var c = pp.current;\n                                var p = pp.getAsCurrentPoint();\n                                pp.addMarker(p, c);\n                                //bb.addPoint(p.x, p.y);\n                                if (ctx != null) {\n                                    ctx.lineTo(p.x, p.y);\n                                }\n                            }\n                            break;\n                        case 'H':\n                        case 'h':\n                            while (!pp.isCommandOrEnd()) {\n                                var newP = new Point((pp.isRelativeCommand() ? pp.current.x : 0) + pp.getScalar(), pp.current.y);\n                                pp.addMarker(newP, pp.current);\n                                pp.current = newP;\n                                //bb.addPoint(pp.current.x, pp.current.y);\n                                if (ctx != null) {\n                                    ctx.lineTo(pp.current.x, pp.current.y);\n                                }\n                            }\n                            break;\n                        case 'V':\n                        case 'v':\n                            while (!pp.isCommandOrEnd()) {\n                                var newP = new Point(pp.current.x, (pp.isRelativeCommand() ? pp.current.y : 0) + pp.getScalar());\n                                pp.addMarker(newP, pp.current);\n                                pp.current = newP;\n                                //bb.addPoint(pp.current.x, pp.current.y);\n                                if (ctx != null) {\n                                    ctx.lineTo(pp.current.x, pp.current.y);\n                                }\n                            }\n                            break;\n                        case 'C':\n                        case 'c':\n                            while (!pp.isCommandOrEnd()) {\n                                var curr = pp.current;\n                                var p1 = pp.getPoint();\n                                var cntrl = pp.getAsControlPoint();\n                                var cp = pp.getAsCurrentPoint();\n                                pp.addMarker(cp, cntrl, p1);\n                                //bb.addBezierCurve(curr.x, curr.y, p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\n                                if (ctx != null) {\n                                    ctx.bezierCurveTo(p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\n                                }\n                            }\n                            break;\n                        case 'S':\n                        case 's':\n                            while (!pp.isCommandOrEnd()) {\n                                var curr = pp.current;\n                                var p1 = pp.getReflectedControlPoint();\n                                var cntrl = pp.getAsControlPoint();\n                                var cp = pp.getAsCurrentPoint();\n                                pp.addMarker(cp, cntrl, p1);\n                                //bb.addBezierCurve(curr.x, curr.y, p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\n                                if (ctx != null) {\n                                    ctx.bezierCurveTo(p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\n                                }\n                            }\n                            break;\n                        case 'Q':\n                        case 'q':\n                            while (!pp.isCommandOrEnd()) {\n                                var curr = pp.current;\n                                var cntrl = pp.getAsControlPoint();\n                                var cp = pp.getAsCurrentPoint();\n                                pp.addMarker(cp, cntrl, cntrl);\n                                //bb.addQuadraticCurve(curr.x, curr.y, cntrl.x, cntrl.y, cp.x, cp.y);\n                                if (ctx != null) ctx.quadraticCurveTo(cntrl.x, cntrl.y, cp.x, cp.y);\n                            }\n                            break;\n                        case 'T':\n                        case 't':\n                            while (!pp.isCommandOrEnd()) {\n                                var curr = pp.current;\n                                var cntrl = pp.getReflectedControlPoint();\n                                pp.control = cntrl;\n                                var cp = pp.getAsCurrentPoint();\n                                pp.addMarker(cp, cntrl, cntrl);\n                                //bb.addQuadraticCurve(curr.x, curr.y, cntrl.x, cntrl.y, cp.x, cp.y);\n                                if (ctx != null) ctx.quadraticCurveTo(cntrl.x, cntrl.y, cp.x, cp.y);\n                            }\n                            break;\n                        case 'A':\n                        case 'a':\n                            while (!pp.isCommandOrEnd()) {\n                                var curr = pp.current;\n                                var rx = pp.getScalar();\n                                var ry = pp.getScalar();\n                                var xAxisRotation = pp.getScalar() * (Math.PI / 180.0);\n                                var largeArcFlag = pp.getScalar();\n                                var sweepFlag = pp.getScalar();\n                                var cp = pp.getAsCurrentPoint();\n\n                                // Conversion from endpoint to center parameterization\n                                // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n                                // x1', y1'\n                                var currp = new Point(\n                                    Math.cos(xAxisRotation) * (curr.x - cp.x) / 2.0 + Math.sin(xAxisRotation) * (curr.y - cp.y) / 2.0,\n                                    -Math.sin(xAxisRotation) * (curr.x - cp.x) / 2.0 + Math.cos(xAxisRotation) * (curr.y - cp.y) / 2.0\n                                );\n                                // adjust radii\n                                var l = Math.pow(currp.x,2)/Math.pow(rx,2)+Math.pow(currp.y,2)/Math.pow(ry,2);\n                                if (l > 1) {\n                                    rx *= Math.sqrt(l);\n                                    ry *= Math.sqrt(l);\n                                }\n                                // cx', cy'\n                                var s = (largeArcFlag == sweepFlag ? -1 : 1) * Math.sqrt(\n                                    ((Math.pow(rx,2)*Math.pow(ry,2))-(Math.pow(rx,2)*Math.pow(currp.y,2))-(Math.pow(ry,2)*Math.pow(currp.x,2))) /\n                                    (Math.pow(rx,2)*Math.pow(currp.y,2)+Math.pow(ry,2)*Math.pow(currp.x,2))\n                                );\n                                if (isNaN(s)) s = 0;\n                                var cpp = new Point(s * rx * currp.y / ry, s * -ry * currp.x / rx);\n                                // cx, cy\n                                var centp = new Point(\n                                    (curr.x + cp.x) / 2.0 + Math.cos(xAxisRotation) * cpp.x - Math.sin(xAxisRotation) * cpp.y,\n                                    (curr.y + cp.y) / 2.0 + Math.sin(xAxisRotation) * cpp.x + Math.cos(xAxisRotation) * cpp.y\n                                );\n                                // vector magnitude\n                                var m = function(v) { return Math.sqrt(Math.pow(v[0],2) + Math.pow(v[1],2)); }\n                                // ratio between two vectors\n                                var r = function(u, v) { return (u[0]*v[0]+u[1]*v[1]) / (m(u)*m(v)) }\n                                // angle between two vectors\n                                var a = function(u, v) { return (u[0]*v[1] < u[1]*v[0] ? -1 : 1) * Math.acos(r(u,v)); }\n                                // initial angle\n                                var a1 = a([1,0], [(currp.x-cpp.x)/rx,(currp.y-cpp.y)/ry]);\n                                // angle delta\n                                var u = [(currp.x-cpp.x)/rx,(currp.y-cpp.y)/ry];\n                                var v = [(-currp.x-cpp.x)/rx,(-currp.y-cpp.y)/ry];\n                                var ad = a(u, v);\n                                if (r(u,v) <= -1) ad = Math.PI;\n                                if (r(u,v) >= 1) ad = 0;\n\n                                // for markers\n                                var dir = 1 - sweepFlag ? 1.0 : -1.0;\n                                var ah = a1 + dir * (ad / 2.0);\n                                var halfWay = new Point(\n                                    centp.x + rx * Math.cos(ah),\n                                    centp.y + ry * Math.sin(ah)\n                                );\n                                pp.addMarkerAngle(halfWay, ah - dir * Math.PI / 2);\n                                pp.addMarkerAngle(cp, ah - dir * Math.PI);\n\n                                //bb.addPoint(cp.x, cp.y); // TODO: this is too naive, make it better\n                                if (ctx != null) {\n                                    var r = rx > ry ? rx : ry;\n                                    var sx = rx > ry ? 1 : rx / ry;\n                                    var sy = rx > ry ? ry / rx : 1;\n\n                                    ctx.translate(centp.x, centp.y);\n                                    ctx.rotate(xAxisRotation);\n                                    ctx.scale(sx, sy);\n                                    ctx.arc(0, 0, r, a1, a1 + ad, 1 - sweepFlag);\n                                    ctx.scale(1/sx, 1/sy);\n                                    ctx.rotate(-xAxisRotation);\n                                    ctx.translate(-centp.x, -centp.y);\n                                }\n                            }\n                            break;\n                        case 'Z':\n                        case 'z':\n                            if (ctx != null) ctx.closePath();\n                            pp.current = pp.start;\n                    }\n                }\n\n                o.outlinePath = path;\n\n                return o;\n            },\n\n            /**\n             * Methods to add and remove event listeners emulating the DOM of\n             * standard browsers (and also the non-standard one).\n             */\n            addEventListener: function () {\n                for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                    args[i] = arguments[i];\n                }\n                var o = this,\n                    eventName = args && args[0],\n                    handler = args && args[1],\n                    area,\n                    checkPathHandler,\n                    end;\n\n                if (!o._mouseArea) {\n                    o.addMouseInteractivity();\n                }\n\n                area = o._mouseArea;\n\n                if (typeof eventName === 'string' && typeof handler === 'function') {\n                    /*\n                    * If the shape has an associated path then we need to check if\n                    * the mouse is within the co-ordinates of the path.\n                    */\n                    if (o._path) {\n\n                        /*\n                        * If the event being listened to is mouseover, mouseout or\n                        * mousemove then the mouse position has to be constantly\n                        * monitored and the event handler called explicitly when\n                        * appropriate.\n                        */\n                        if (eventName === 'mouseover' || eventName === 'mouseout' || eventName === 'mousemove') {\n\n                            if (!o._mousemoveAdded) {\n                                var startListening = (function (node) {\n\n                                    var isInside = false,\n                                        isOutside = true,\n                                        transition = false;\n\n                                    return function (event) {\n                                        /** @todo: replace layerX and layerY with\n                                         * standard ways of determining mouse position.\n                                         */\n                                        var x = event.layerX,\n                                            y = event.layerY;\n\n                                        transition = false;\n                                        /*\n                                        * Check if the current position of the mouse\n                                        * pointer lies within the path or not.\n                                        */\n                                        if (R.isPointInsidePath(node._transformPath, x, y)) {\n                                        /*\n                                        * @todo: fix isPointInsidePath to return the\n                                        * proper result when the mouse pointer is on\n                                        * the same horizontal/vertical lines as one\n                                        * of the vertices of the path.\n                                        */\n                                            isInside = true;\n                                            if (isOutside) {\n                                                isOutside = false;\n                                                transition = true;\n                                            }\n                                        }\n                                        else {\n                                            isOutside = true;\n                                            if (isInside) {\n                                                isInside = false;\n                                                transition = true;\n                                            }\n                                        }\n\n                                        // Based on the state of the flags, fire the\n                                        // appropriate event handlers.\n                                        if (isOutside && transition && node.eventListeners['mouseout']) {\n                                            node.eventListeners['mouseout'].apply(this, args);\n                                        }\n                                        if (isInside) {\n                                            if (transition && node.eventListeners['mouseover']) {\n                                                node.eventListeners['mouseover'].apply(this, args);\n                                            }\n                                            if (node.eventListeners['mousemove']) {\n                                                node.eventListeners['mousemove'].apply(this, args);\n                                            }\n                                        }\n                                    };\n                                })(o);\n\n                                area.addEventListener('mousemove', startListening, false);\n                                o._mousemoveAdded = true;\n                            }\n\n                            o.eventListeners[eventName] = handler;\n                        }\n                        else {\n                            var checkPathHandler = (function (node, handler) {\n                                return function (event) {\n                                    if (R.isPointInsidePath(node._path, event.layerX, event.layerY)) {\n                                        handler.apply(this, args);\n                                    }\n                                };\n                            }(o, handler));\n\n                            area.addEventListener(eventName, checkPathHandler, false);\n                        }\n                    }\n                    else {\n                        area.addEventListener(eventName, handler, false);\n                    }\n                }\n            },\n\n            removeEventListener: function () {\n                for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                    args[i] = arguments[i];\n                }\n                var o = this,\n                    eventName = args && args[0],\n                    handler = args && args[1],\n                    area,\n                    end;\n\n                if (!o._mouseArea) {\n                    return;\n                }\n                area = o._mouseArea;\n\n                if (typeof eventName === 'string' && typeof handler === 'function') {\n                    area.removeEventListener(eventName, handler);\n                }\n            },\n\n            attachEvent: function () {\n            },\n\n            detachEvent: function () {\n            },\n\n            validateAttrs: function (attrs) {\n\n                var o = this,\n                    elAttrs = clone(o._rElement.attrs),\n                    attr,\n                    val;\n\n                if (attrs === null) {\n                    if (o._isValid) {\n                        return elAttrs;\n                    }\n                    else {\n                        o._isValid = true;\n                    }\n                }\n\n                attrs = attrs || elAttrs;\n\n                for (attr in attrs) {\n                    val = attrs[attr];\n\n                    switch (attr) {\n\n                        default:\n                            continue;\n                    }\n                }\n\n                return attrs;\n            },\n\n            attrs: function () {\n            }\n        };\n\n\n\n\n        var NodeListItem = function (node) {\n                this.node = node;\n                this.next = null;\n                this.prev = null;\n            },\n\n            NodeList = function () {\n                this.top = null;\n                this.bottom = null;\n            };\n\n        NodeList.prototype = {\n\n            constructor: NodeList,\n\n            add: function (node) {\n\n                node = new NodeListItem(node);\n\n                if (!this.bottom) {\n                    this.bottom = node;\n                }\n                if (this.top) {\n                    this.top.next = node;\n                }\n                node.next = null;\n                node.prev = this.top;\n\n                this.top = node;\n            },\n\n            addList: function (list) {\n                if (!this.bottom) {\n                    this.bottom = list.bottom;\n                }\n\n                if (this.top) {\n                    this.top.next = list.bottom;\n                    list.bottom.prev = this.top;\n                }\n\n                this.top = list.top;\n            },\n\n            toFront: function (node) {\n                if (this.top === node) {\n                    return false;\n                }\n\n                if (this.bottom === node) {\n                    this.bottom = node.next;\n                }\n\n                //var map = node.node.canvas._map,\n                //    area = node.node._mouseArea;\n\n                node.prev && (node.prev.next = node.next);\n                node.next && (node.next.prev = node.prev);\n\n                this.top.next = node;\n                node.prev = this.top;\n                node.next = null;\n\n                this.top = node;\n\n                /*if (map.firstChild) {\n                    map.insertBefore(area, map.firstChild);\n                }\n                else {\n                    map.appendChild(area);\n                }\n\n                node.redraw();*/\n            },\n\n            toBack: function (node) {\n                if (this.bottom === node) {\n                    return false;\n                }\n\n                if (this.top === node) {\n                    this.top = node.prev;\n                }\n\n                //var map = node.canvas._map,\n                //    area = node._mouseArea;\n\n                node.prev && (node.prev.next = node.next);\n                node.next && (node.next.prev = node.prev);\n\n                this.bottom.prev = node;\n                node.prev = null;\n                node.next = this.bottom;\n\n                this.bottom = node;\n\n                /*map.appendChild(area);\n\n                node.redraw();*/\n            },\n\n            insertBefore: function () {\n            },\n\n            insertAfter: function () {\n            },\n\n            each: function (fn, args) {\n                var item = this.bottom;\n\n                while (item) {\n                    fn.apply(item.node, args);\n                    item = item.next;\n                }\n            },\n\n            iterate: function (fn, args) {\n                var item = this.bottom,\n                    retVal = true;\n\n                while (item) {\n                    retVal = fn.apply(item.node, args);\n\n                    if (retVal === false) {\n                        break;\n                    }\n\n                    item = item.next;\n                }\n            },\n\n            dispose: function () {\n\n                this.each(function () {\n                    this.node.dispose && this.node.dispose();\n                });\n\n                this.top = null;\n                this.bottom = null;\n            },\n        };\n\n        /**\n         *\n            ncowner, a NodeCollection that corresponds to the collection of which\n            the layer neing created  is a part\n\n            above, a NodeCollection iterator, that indicated the collection the layer has to be rendered. If\n            not provided then this is the first layer of ncowner.\n        */\n        var CanvasLayer = function (ncowner, canvas) {\n            this.items = new NodeList();\n\n            this.owner = ncowner;\n            //this.above = above;\n            this.element = null;\n\n            if (canvas) {\n                this.element = canvas;\n            }\n            else {\n                this.init();\n            }\n        };\n\n        CanvasLayer.prototype = {\n            constructor: CanvasLayer,\n\n            appendChild: function () {\n                var o = this,\n                    ownerWrapper = o.owner.wrapper,\n                    ele = this.element;\n\n                if (ownerWrapper._image) {\n                    ownerWrapper.insertBefore(ele, ownerWrapper._image);\n                }\n                else {\n                    ownerWrapper.appendChild(ele);\n                }\n            },\n\n            insertBefore: function () {\n\n            },\n\n            insertAfter: function () {\n\n            },\n\n            init: function () {\n                this.element = $(\"canvas\");\n                // CHECKPOINT: width and height in %?\n                $(this.element, {\n                    width: this.owner.wrapper.offsetWidth,\n                    height: this.owner.wrapper.offsetHeight\n                });\n\n                this.element.style.cssText = \"position:absolute;left:0;top:0;\";\n\n                this.appendChild();\n            },\n\n            getCanvas: function () {\n                return this.element;\n            },\n\n            getContext: function () {\n                return this.element.getContext('2d');\n            },\n\n            addToLayer: function (node) {\n                this.items.add(node);\n            },\n\n            mergeWithLayerOnTop: function (layerObj) {\n                this.items.addList(layerObj.items);\n                layerObj.dispose(true);\n            },\n\n            mergeWithLayerOnBottom: function (layerObj) {\n                layerObj.items.addList(this.items);\n                this.items = layerObj.items;\n                layerObj.dispose(true);\n            },\n\n            dispose: function (softDispose) {\n\n                if (!softDispose) {\n                    this.items.each(function () {\n                        this.dispose();\n                    });\n                }\n\n                this.items = null;\n                this.owner = null;\n\n                this.element.parentNode.removeChild(this.element);\n                this.element = null;\n            }\n        };\n\n        var NodeCollection = function (parent, wrapper, canvas) {\n\n            this.nodeItems =  new NodeList();\n            this.collectionItems = new NodeList();\n            this.layerItems = new NodeList();\n\n            this.owner = this.parent = parent;\n            this.layerOnTop = null;\n\n            this.currentLayer = null;\n            this.baseLayer = null;\n\n            if (wrapper) {\n                this.wrapper = wrapper;\n                this.currentLayer = this.baseLayer = new CanvasLayer(this, canvas);\n            }\n            else {\n                this.init();\n            }\n        };\n\n        NodeCollection.prototype = {\n            constructor: NodeCollection,\n\n            init: function () {\n\n                var o = this,\n                    parent = o.parent,\n                    imageMap = parent.wrapper._image,\n                    wrapper = $(\"div\");\n\n                // Hacky but need a refernce to the image map to addEventListeners.\n                wrapper.style.cssText = \"width:100%;height:100%;position:absolute;left:0;top:0;\";\n\n                wrapper._map = parent.wrapper._map;\n\n                if (imageMap) {\n                    parent.wrapper.insertBefore(wrapper, imageMap);\n                }\n                else {\n                    parent.wrapper.appendChild(wrapper);\n                }\n\n                o.wrapper = wrapper;\n                o.currentLayer = o.baseLayer = new CanvasLayer(o);\n            },\n\n            getCurrentContext: function () {\n                return this.currentLayer.getContext();\n            },\n\n            setLayerOnTop: function (layerObj) {\n                this.layerOnTop = layerObj;\n            },\n\n            getCurrentCanvas: function () {\n                return this.currentLayer.getCanvas();\n            },\n\n            addNode: function (node) {\n                this.nodeItems.add(node);\n\n                if (node.type === \"group\") {\n                    this.addCollection(node);\n                }\n                else {\n                    this.currentLayer.addToLayer(node);\n                }\n            },\n\n            addCollection: function (collectionNode) {\n\n                collectionNode = collectionNode || new NodeCollection(this);\n\n                this.collectionItems.add(collectionNode);\n                this.currentLayer = new CanvasLayer(this);\n                this.layerItems.add(this.currentLayer);\n                collectionNode.setLayerOnTop(this.currentLayer);\n            },\n\n            dispose: function () {\n                this.nodeItems.dispose();\n                this.collectionItems.dispose();\n                this.layerItems.dispose();\n                this.owner = this.parent = null;\n\n                this.ownerLayer = null;\n                this.currentLayer = null;\n                this.baseLayer = null;\n            }\n        };\n\n        /**\n         * The CanvasObjectModel will be a layer of abstraction above the individual\n         * FauxNodes created to emulate the DOM in case of canvas rendering.\n         * The engine will be the point of contact for Raphael._engine that will be\n         * the direct consumer of the FauxNodes.\n         */\n        var CanvasObjectModel = function (cnvs, wrpr, width, height) {\n\n            var com = this,\n                root = new NodeCollection(null, wrpr, cnvs);\n\n            //root.set\n\n            com.width = width;\n            com.height = height;\n\n            com.createNode = function (type, parent) {\n\n                parent = parent || root;\n\n                var node,\n                    nodeItems = parent.nodeItems,\n                    layer = parent.currentLayer,\n                    canvasEle = layer.getCanvas();\n\n                switch (type) {\n                    case 'rect':\n                        node = new RectFauxNode(parent);\n                        break;\n\n                    case 'circle':\n                        node = new CircleFauxNode(parent);\n                        break;\n\n                    case 'path':\n                        node = new PathFauxNode(parent);\n                        break;\n\n                    case 'text':\n                        node = new TextFauxNode(parent);\n                        break;\n\n                    case 'group':\n                        node = new GroupFauxNode(parent);\n                        parent.addCollection(node);\n                        break;\n\n                    default:\n                        node = new FauxNode(canvasEle);\n                }\n\n                node.COMInstance = this;\n                nodeItems.add(node);\n                layer.addToLayer(node);\n\n                return node;\n            };\n\n            /**\n             * This method is needed to redraw a node. Redraw is to be handled at the\n             * COM level as redrawing one node needs all the (connected) nodes to be\n             * redrawn in the right order.\n             *\n             * @param {type} node The node that needs to be redrawn.\n             *\n             * @returns {undefined}\n             */\n            com.redraw = function (node) {\n\n                // Check if node is a group or a shape.\n                var nodeList,\n                    childNode,\n                    layer;\n\n                if (node.type === \"group\") {\n                    nodeList = node.nodeItems;\n                    node.render();\n                }\n                else {\n\n                    layer = node.layer;\n                    nodeList = layer.items;\n                    childNode = nodeList.bottom;\n\n                    // Clear the canvas.\n                    layer.element.width = layer.element.width;\n\n                    while (childNode) {\n                        fNode = childNode.node;\n                        (fNode.type !== \"group\") && fNode.render();\n                        childNode = childNode.next;\n                    }\n\n                }\n\n            };\n\n            com.insertBefore = function (node) {\n\n            };\n\n            com.insertAfter = function (node) {\n\n            };\n\n            com.removeNode = function (node) {\n\n            };\n\n            com.refreshNode = function (node) {\n\n            };\n\n            com.refreshAll = function () {\n\n            };\n        };\n\n\n\n        Point = function(x, y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        Point.prototype.angleTo = function(p) {\n            return Math.atan2(p.y - this.y, p.x - this.x);\n        }\n\n        Point.prototype.applyTransform = function(v) {\n            var xp = this.x * v[0] + this.y * v[2] + v[4];\n            var yp = this.x * v[1] + this.y * v[3] + v[5];\n            this.x = xp;\n            this.y = yp;\n        }\n\n        PathParser = new (function() {\n\n            this.tokens = null;\n\n            this.setTokens = function (d) {\n                if (typeof d === 'string') {\n                    this.tokens = d.split(' ');\n                }\n                else {\n                    this.tokens = d;\n                }\n            };\n\n            this.reset = function() {\n                this.i = -1;\n                this.command = '';\n                this.previousCommand = '';\n                this.start = new Point(0, 0);\n                this.control = new Point(0, 0);\n                this.current = new Point(0, 0);\n                this.points = [];\n                this.angles = [];\n            };\n\n            this.isEnd = function() {\n                return this.i >= this.tokens.length - 1;\n            }\n\n            this.isCommandOrEnd = function() {\n                if (this.isEnd()) {\n                    return true;\n                }\n\n                return this.tokens[this.i + 1].toString().match(/^[A-Za-z]$/) != null;\n            }\n\n            this.isRelativeCommand = function() {\n                switch(this.command)\n                {\n                    case 'm':\n                    case 'l':\n                    case 'h':\n                    case 'v':\n                    case 'c':\n                    case 's':\n                    case 'q':\n                    case 't':\n                    case 'a':\n                    case 'z':\n                        return true;\n                        break;\n                }\n                return false;\n            }\n\n            this.getToken = function() {\n                this.i++;\n                return this.tokens[this.i];\n            }\n\n            this.getScalar = function() {\n                return parseFloat(this.getToken());\n            }\n\n            this.nextCommand = function() {\n                this.previousCommand = this.command;\n                this.command = this.getToken();\n            }\n\n            this.getPoint = function() {\n                var p = new Point(this.getScalar(), this.getScalar());\n                return this.makeAbsolute(p);\n            }\n\n            this.getAsControlPoint = function() {\n                var p = this.getPoint();\n                this.control = p;\n                return p;\n            }\n\n            this.getAsCurrentPoint = function() {\n                var p = this.getPoint();\n                this.current = p;\n                return p;\n            }\n\n            this.getReflectedControlPoint = function() {\n                if (this.previousCommand.toLowerCase() != 'c' &&\n                    this.previousCommand.toLowerCase() != 's' &&\n                    this.previousCommand.toLowerCase() != 'q' &&\n                    this.previousCommand.toLowerCase() != 't' ){\n                    return this.current;\n                }\n\n                // reflect point\n                var p = new Point(2 * this.current.x - this.control.x, 2 * this.current.y - this.control.y);\n                return p;\n            }\n\n            this.makeAbsolute = function(p) {\n                if (this.isRelativeCommand()) {\n                    p.x += this.current.x;\n                    p.y += this.current.y;\n                }\n                return p;\n            }\n\n            this.addMarker = function(p, from, priorTo) {\n                // if the last angle isn't filled in because we didn't have this point yet ...\n                if (priorTo != null && this.angles.length > 0 && this.angles[this.angles.length-1] == null) {\n                    this.angles[this.angles.length-1] = this.points[this.points.length-1].angleTo(priorTo);\n                }\n                this.addMarkerAngle(p, from == null ? null : from.angleTo(p));\n            }\n\n            this.addMarkerAngle = function(p, a) {\n                this.points.push(p);\n                this.angles.push(a);\n            }\n\n            this.getMarkerPoints = function() {\n                return this.points;\n            }\n\n            this.getMarkerAngles = function() {\n                for (var i=0; i<this.angles.length; i++) {\n                    if (this.angles[i] == null) {\n                        for (var j=i+1; j<this.angles.length; j++) {\n                            if (this.angles[j] != null) {\n                                this.angles[i] = this.angles[j];\n                                break;\n                            }\n                        }\n                    }\n                }\n                return this.angles;\n            }\n        })();\n\n\n\n\n        /**\n         * The FauxNode is the adapter written to give DOM node like handling to the\n         * shapes that are create using canvas object model.\n         */\n\n        RectFauxNode = function (parentObj) {\n            this.type = \"rect\";\n            this._isValid = false;\n\n            this.parent = this.owner = parentObj;\n            this.context = parentObj.getCurrentContext();\n            this.layer = parentObj.currentLayer;\n        };\n\n        RectFauxNode.prototype = R.extend(new FauxNode(), {\n\n            constructor: RectFauxNode,\n\n            paint: function () {\n\n                var o = this,\n                    ctx = o.context,\n                    // CHECKPOINT 3. Rename validateAttrs to getValidAttrs?\n                    attrs = o.validateAttrs(),\n                    x = attrs.x,\n                    y = attrs.y,\n                    w = attrs.width,\n                    h = attrs.height,\n                    r = attrs.r,\n                    /** @todo: provide support for rx, ry */\n                    rx = r || attrs.rx,\n                    ry = r || attrs.ry;\n\n                if (attrs.r) {\n                    path = [\"M\", x + rx, y, \"L\", x + w - rx, y]\n                        .concat([\"A\", rx, ry, 0, 0, 1,  x + w, y + ry])\n                        .concat([\"L\", x + w, y + h - ry])\n                        .concat([\"A\", rx, ry, 0, 0, 1, x + w - rx, y + h])\n                        .concat([\"L\", x + rx, y + h])\n                        .concat([\"A\", rx, ry, 0, 0, 1, x, y + h - ry])\n                        .concat([\"L\", x, y + ry])\n                        .concat([\"A\", rx, ry, 0, 0, 1, x + rx, y, \"Z\"]);\n                }\n                else {\n                    path = [\"M\", x, y, \"H\", x + w, \"V\", y + h, \"H\", x, \"V\", y, \"Z\"];\n                }\n\n                o.drawPath(path);\n\n                if (attrs['stroke-width']) {\n                    var strokeAlpha = attrs['stroke-opacity'] === undefined ? attrs['opacity'] : attrs['stroke-opacity'];\n                    if (strokeAlpha !== undefined) {\n                        ctx.globalAlpha = strokeAlpha;\n                    }\n                    ctx.stroke();\n                }\n                var fillAlpha = attrs['fill-opacity'] === undefined ? attrs['opacity'] : attrs['fill-opacity'];\n                if (fillAlpha !== undefined) {\n                    ctx.globalAlpha = fillAlpha;\n                }\n                ctx.fill();\n\n                return;\n            },\n\n            validateAttrs: function (attrs) {\n                var o = this,\n                    elAttrs = clone(o._rElement.attrs),\n                    attr,\n                    val;\n\n\n                if (attrs === null) {\n                    if (o._isValid) {\n                        return elAttrs;\n                    }\n                    else {\n                        o._isValid = true;\n                    }\n                }\n\n                attrs = attrs || elAttrs;\n\n                for (attr in attrs) {\n                    val = attrs[attr];\n\n                    switch (attr) {\n                        case \"r\":\n                            var w = elAttrs.width,\n                                h = elAttrs.height,\n                                maxR = mmin(w, h) / 2;\n\n                            if (val > maxR) {\n                                attrs.r = maxR;\n                            }\n\n                            if (val < 0) {\n                                attrs.r = 0;\n                            }\n                            break;\n\n                        case \"width\":\n                        case \"height\":\n                            if (val < 0) {\n                                attrs[attr] = 0;\n                            };\n                            break;\n\n                        default:\n                            continue;\n                    }\n                }\n\n                return attrs;\n            },\n\n            setShapeBBox: function (m) {\n                var o = this,\n                    el = o._rElement,\n                    attrs = el.attrs,\n                    sX = m.get(0),\n                    sY = m.get(3),\n                    tX = m.get(4),\n                    tY = m.get(5),\n                    strokeW = attrs['stroke-width'];\n\n                o._bbox = {\n                    x: ((attrs.x * sX) + tX) - strokeW,\n                    y: ((attrs.y * sY) + tY) - strokeW,\n                    width: (attrs.width * sX) + (2 * strokeW),\n                    height: (attrs.height * sY) + (2 * strokeW),\n                };\n\n                o._bbox.x2 = o._bbox.x + o._bbox.width;\n                o._bbox.y2 = o._bbox.y + o._bbox.height;\n\n                o.X = o._bbox.x;\n                o.Y = o._bbox.y;\n                o.W = o._bbox.width;\n                o.H = o._bbox.height;\n            }\n        });\n\n        var CircleFauxNode = function (parentObj) {\n            this.type = \"circle\";\n            this._isValid = false;\n\n            this.parent = this.owner = parentObj;\n            this.context = parentObj.getCurrentContext();\n            this.layer = parentObj.currentLayer;\n        },\n\n        PathFauxNode = function (parentObj) {\n            this.type = \"path\";\n            this._isValid = false;\n\n            this.parent = this.owner = parentObj;\n            this.context = parentObj.getCurrentContext();\n            this.layer = parentObj.currentLayer;\n        },\n\n        TextFauxNode = function (parentObj) {\n            this.type = \"text\";\n            this._isValid = false;\n\n            this.parent = this.owner = parentObj;\n            this.context = parentObj.getCurrentContext();\n            this.layer = parentObj.currentLayer;\n        },\n\n        GroupFauxNode = function (parent, width, height) {\n\n            this.type = \"group\";\n\n            this.nodeItems =  new NodeList();\n            this.collectionItems = new NodeList();\n            this.layerItems = new NodeList();\n\n            this.owner = this.parent = parent;\n            this.layerOnTop = parent.currentLayer;\n\n            this.currentLayer = null;\n            this.baseLayer = null;\n\n            this.init();\n        };\n\n        CircleFauxNode.prototype = R.extend(new FauxNode(), {\n\n            constructor: CircleFauxNode,\n\n            paint: function () {\n                var o = this,\n                    ctx = o.context,\n                    attrs = o.validateAttrs(),\n                    x = attrs.cx,\n                    y = attrs.cy,\n                    r = attrs.r,\n                    /** @todo: provide support for rx, ry */\n                    rx = r || attrs.rx,\n                    ry = r || attrs.ry;\n\n                if (attrs.r) {\n\n                    o.drawPath([\"M\", x + r, y, \"A\", rx, ry, 0, 1, 0, x - r, y, \"A\", rx, ry, 0, 1, 0, x + r, y, \"Z\"]);\n\n                    if (attrs['stroke-width']) {\n                        var strokeAlpha = attrs['stroke-opacity'] === undefined ? attrs['opacity'] : attrs['stroke-opacity'];\n                        if (strokeAlpha !== undefined) {\n                            ctx.globalAlpha = strokeAlpha;\n                        }\n                        ctx.stroke();\n                    }\n                    var fillAlpha = attrs['fill-opacity'] === undefined ? attrs['opacity'] : attrs['fill-opacity'];\n                    if (fillAlpha !== undefined) {\n                        ctx.globalAlpha = fillAlpha;\n                    }\n                    ctx.fill();\n                }\n\n                return;\n            },\n\n            setShapeBBox: function (m) {\n                var o = this,\n                    el = o._rElement,\n                    attrs = el.attrs,\n                    sX = m.get(0),\n                    sY = m.get(3),\n                    tX = m.get(4),\n                    tY = m.get(5),\n                    strokeW = attrs['stroke-width'];\n\n                o._bbox = {\n                    x: tX + ((attrs.cx - attrs.r) * sX) - strokeW,\n                    y: tY + ((attrs.cy - attrs.r) * sY) - strokeW,\n                    width: 2 * (strokeW + (attrs.r * sX)),\n                    height: 2 * ((attrs.r * sY) + strokeW)\n                };\n\n                o._bbox.x2 = o._bbox.x + o._bbox.width;\n                o._bbox.y2 = o._bbox.y + o._bbox.height;\n\n                o.X = o._bbox.x;\n                o.Y = o._bbox.y;\n                o.W = o._bbox.width;\n                o.H = o._bbox.height;\n            }\n        });\n\n        PathFauxNode.prototype = R.extend(new FauxNode(), {\n\n            constructor: PathFauxNode,\n\n            paint: function () {\n                var o = this,\n                    el = o._rElement,\n                    attrs = el.attrs,\n                    path = el.attr('path'),\n                    m = el.matrix,\n                    ctx = o.context;\n\n                // 1. Get the path from the path attribute\n                // 2. Accept paths in different array formats.\n                // 3. Optimize as this can potentially be a huge pain-point.\n                // 4. Draw path mapping M,L,H,V etc to canvas APIs\n                o.drawPath(path);\n                o._transformPath = R.transformPath(path, m.toTransformString());\n\n                var strokeAlpha = attrs['stroke-opacity'] === undefined ? attrs['opacity'] : attrs['stroke-opacity'];\n                if (strokeAlpha !== undefined) {\n                    ctx.globalAlpha = strokeAlpha;\n                }\n                ctx.stroke();\n                var fillAlpha = attrs['fill-opacity'] === undefined ? attrs['opacity'] : attrs['fill-opacity'];\n                if (fillAlpha !== undefined) {\n                    ctx.globalAlpha = fillAlpha;\n                }\n                ctx.fill();\n\n                return;\n            }\n        });\n\n        TextFauxNode.prototype = R.extend(new FauxNode(), {\n\n            constructor: TextFauxNode,\n\n            paint: function () {\n                var o = this,\n                    el = o._rElement,\n                    attrs = el.attr(),\n                    text = attrs['text'],\n                    stroke = attrs['stroke'],\n                    valign = attrs['vertical-align'],\n                    halign = attrs['text-anchor'],\n                    x = attrs['x'],\n                    y = attrs['y'],\n                    m = el.matrix,\n                    ctx = o.context,\n                    path;\n\n                // apply the font styles, if any\n\n                // find the dimensions of the text using the given styles.\n                // All the dimensions should be present in the attrs user provided OR default.\n                var fontSize = attrs['font-size'] || 10,\n                    lineHeight = attrs['line-height'] || toInt(fontSize, 10) * 1.2,\n                    fontArr = [\"normal\", fontSize, attrs['font']];\n\n                // draw the text.\n                ctx.fillStyle = stroke;\n                ctx.font = fontArr.join(\" \");\n\n                if (text) {\n                    var texts = Str(text).split(/\\n|<br\\s*?\\/?>/ig),\n                        totalHeight = texts.length * lineHeight,\n                        totalWidth = -Infinity,\n                        startX = Infinity,\n                        startY,\n                        width,\n                        textX,\n                        textY;\n\n                    if (valign === \"top\") {\n                        startY = y + lineHeight;\n                    }\n                    else if (valign === \"middle\") {\n                        startY = y - (totalHeight / 2) + (lineHeight / 2);\n                    }\n                    else { // valign is bottom.\n                        startY = y - totalHeight + lineHeight;\n                    }\n\n                    for (var i = 0, ii = texts.length; i < ii; i += 1) {\n\n                        text = texts[i];\n                        textY = startY + (lineHeight * i);\n                        width = ctx.measureText(text).width;\n\n                        if (halign === \"start\") {\n                            textX = x;\n                        }\n                        else if (halign === \"middle\") {\n                            textX = x - (width / 2);\n                        }\n                        else {\n                            textX = x - width;\n                        }\n\n                        totalWidth = mmax(totalWidth, width);\n                        startX = mmin(startX, textX);\n\n                        ctx.fillText(text, textX, textY);\n                    }\n\n                    el._textdirty = false;\n                }\n\n                o.outlinePath = [\n                    \"M\",\n                    startX,\n                    startY - (lineHeight / 1.4),\n                    \"H\",\n                    startX + totalWidth,\n                    \"V\",\n                    startY - lineHeight + totalHeight,\n                    \"H\",\n                    startX,\n                    \"V\",\n                    startY - (lineHeight / 1.4)\n                ];\n\n                return;\n            }\n        });\n\n        GroupFauxNode.prototype = R.extend(R.extend(new FauxNode, NodeCollection.prototype), {\n\n            constructor: GroupFauxNode,\n\n            draw: function () {\n\n                // Clear the group canvas first.\n                this.layerItems.each(function () {\n                    this.element.width = this.element.width;\n                });\n\n                for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                    args[i] = arguments[i];\n                }\n                FauxNode.prototype.draw.apply(this, args);\n            },\n\n            /**\n             * This method does the complete rendering of the element, including\n             * (re)setting the bbox and image map.\n             *\n             * @returns {_L10.FauxNode.prototype}\n             */\n            render: function () {\n\n                var o = this;\n\n                o.draw();\n                o.setBBox();\n\n                return o;\n            },\n\n            paint: function () {\n                var o = this,\n                    list = o.nodeList,\n                    el = o._rElement,\n                    canvas = o.canvas,\n                    attrs = el.attrs,\n                    childNode = list.bottom;\n\n                /** @todo: Clean this up */\n                if (attrs.opacity !== undefined) {\n                    this.layerItems.each(function () {\n                        this.getContext().globalAlpha = attrs.opacity;\n                    });\n                }\n\n                while (childNode) {\n                    childNode.render();\n                    childNode = childNode.next;\n                }\n            },\n\n            setBBox: function () {\n\n            },\n\n            addMouseInteractivity: function () {\n            },\n\n            applyTransform: function (m) {\n                var o = this,\n                    parent = o.parent,\n                    parentMatrix = parent.getTransformMatrix && parent.getTransformMatrix();\n\n                // Parent is a group element with a transformation applied to it.\n                if (parentMatrix) {\n                    o.matrixApplied = parentMatrix.clone();\n                    o.matrixApplied.add(m.a, m.b, m.c, m.d, m.e, m.f);\n                }\n                else {\n                    o.matrixApplied = m;\n                }\n\n                this.layerItems.each(function () {\n                    FauxNode.prototype.applyTransform.apply(this, [o.matrixApplied]);\n                })\n            },\n\n            getTransformMatrix: function () {\n                return this.matrixApplied;\n            }\n        });\n\n        Element = function (node, paper, group) {\n            var o = this,\n                parent = group || paper;\n\n            o.node = o[0] = node;\n            node.raphael = true;\n            node.raphaelid = o.id = R._oid++;\n            node._rElement = o;\n\n            o.X = 0;\n            o.Y = 0;\n\n            o.attrs = o.attrs || {};\n            o.styles = o.styles || {};\n            o.followers = o.followers || [];\n\n            o.paper = paper;\n            o.com = parent.com;\n\n            o.ca = o.customAttributes = o.customAttributes ||\n                new paper._CustomAttributes();\n\n            o.matrix = R.matrix();\n            o._ = {\n                transform: [],\n                sx: 1,\n                sy: 1,\n                dx: 0,\n                dy: 0,\n                deg: 0\n            };\n\n            o.parent = parent;\n            !parent.bottom && (parent.bottom = o);\n\n            o.prev = parent.top || null;\n            parent.top && (parent.top.next = o);\n            parent.top = o;\n            o.next = null;\n        };\n\n        Element.prototype = elproto;\n        elproto.constructor = Element;\n\n        var\n            repaint = function (el, finalAttrs, positionChanged, dimensionChanged) {\n\n                var node = getNode(el),\n                    preC = R._getConnectedNodes(node),\n                    attrs = el.attrs,\n                    elAbove = preC.above,\n                    elBelow = preC.below,\n                    len,\n                    attr,\n                    i;\n\n            for (attr in finalAttrs) {\n                    attrs[attr] = finalAttrs[attr];\n                }\n\n                node.redraw();\n            },\n\n            setFillAndStroke = function (el, params) {\n\n                var attrs = el.attrs,\n                    node = el.node,\n                    finalAttrs = {},\n                    att,\n                    val,\n                    needsRepaint = false,\n                    positionChanged = false,\n                    dimensionChanged = false,\n                    i;\n\n                for (att in params) {\n                    if (params[has](att)) {\n                        if (!R._availableAttrs[has](att)) {\n                            continue;\n                        }\n                        val = params[att];\n\n                        switch (att) {\n\n                            case 'fill-opacity':\n                            case 'opacity':\n                            case 'stroke-opcaity':\n                            case 'stroke':\n                            case 'fill':\n                                finalAttrs[att] = val;\n                                needsRepaint = true;\n                                break;\n\n                            case 'stroke-width':\n                            case \"cx\":\n                            case \"cy\":\n                            case \"x\":\n                            case \"y\":\n                                finalAttrs[att] = val;\n                                positionChanged = true;\n                                break;\n\n                            case \"width\":\n                            case \"height\":\n                                finalAttrs[att] = val;\n                                dimensionChanged = true;\n                                break;\n\n                            case \"clip-rect\":\n                                finalAttrs[att] = val;\n                                needsRepaint = true;\n                                break;\n\n                            case \"font-size\":\n                            case \"font\":\n                            case \"vertical-align\":\n                            case \"text-anchor\":\n                                finalAttrs[att] = val;\n                                needsRepaint = true;\n\n                            default:\n                                continue;\n                        }\n                    }\n                }\n\n                tuneText(el, params, finalAttrs);\n\n                finalAttrs = node.validateAttrs(finalAttrs);\n\n                if (needsRepaint || positionChanged || dimensionChanged) {\n                    repaint(el, finalAttrs, positionChanged, dimensionChanged);\n                }\n            },\n\n            leading = 1.2,\n\n            tuneText = function(el, params, finalAttrs) {\n                if (el.type != \"text\" || !(params[has](\"text\") || params[has](\"font\") ||\n                        params[has](\"font-size\") || params[has](\"x\") || params[has](\"y\") ||\n                        params[has](\"line-height\") || params[has](\"vertical-align\"))) {\n                    return;\n                }\n\n                var a = el.attr(),\n                    fontSize = params['font-size'] || a['font-size'] || 10,\n                    lineHeight = toFloat(params['line-height'] || a['line-height']) || toInt(fontSize, 10) * leading,\n                    valign = params[\"vertical-align\"] || a[\"vertical-align\"] || \"middle\";\n\n                if (isNaN(lineHeight)) {\n                    lineHeight = fontSize * leading;\n                }\n\n                finalAttrs['font-size'] = toInt(fontSize, 10) + \"px\";\n                finalAttrs['font'] = params['font'] || a['font'] || 'Verdana';\n                finalAttrs['vertical-align'] = valign;\n                finalAttrs['x'] = params['x'] || a['x'] || 0;\n                finalAttrs['y'] = params['y'] || a['y'] || 0;\n                finalAttrs['line-height'] = toInt(lineHeight, 10);\n                finalAttrs['text-anchor'] = params['text-anchor'] || a['text-anchor'] || 'middle';\n            };\n\n        R._engine.initWin = function (win) {\n            win = win;\n            doc = win.document;\n        };\n\n        R._engine.setSize = function (w, h) {\n            var paper = this,\n                cs = paper.canvas.style;\n\n            cs.width = (paper.width = (+w || paper.width)) + PX;\n            cs.height = (paper.height = (+h || paper.height)) + PX;\n            /** @todo call setViewBox from setSize() */\n            return paper;\n        };\n        /** @todo implement setViewBox() */\n        R._engine.create = function () {\n            for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                args[i] = arguments[i];\n            }\n            var con = R._getContainer.apply(0, args) || {},\n                container = con.container,\n                x = con.x,\n                y = con.y,\n                width = con.width,\n                height = con.height,\n                //handler = R._containerEventHandler,\n                wrapper,\n                cssText,\n                image,\n                mmap,\n                i,\n                paper,\n                canvas;\n\n            if (!container) {\n                throw new Error(\"Canvas container not found.\");\n            }\n\n            paper = new R._Paper();\n            paper.canvas = wrapper = $(\"div\");\n\n            x = (x || 0);\n            y = (y || 0);\n            paper.width = width = (width || 512);\n            paper.height = height = (height || 342);\n            paper.left = paper.top = 0;\n\n            if (container == 1) {\n            wrapper.style.cssText = cssText +\n                        R.format(\";width:100%;height:100%;position:absolute;left:{0}px;top:{1}px;\", [x, y]);\n                doc.body.appendChild(wrapper);\n            }\n            else {\n                wrapper.style.cssText = cssText + \";width:100%;height:100%;position:absolute\";\n                if (container.firstChild) {\n                    container.insertBefore(wrapper, container.firstChild);\n                }\n                else {\n                    container.appendChild(wrapper);\n                }\n            }\n\n            cssText = \"overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);\" +\n                \"-webkit-user-select:none;-moz-user-select:-moz-none;\" +\n                \"-khtml-user-select:none;-ms-user-select:none;user-select:none;\" +\n                \"-o-user-select:none;cursor:default;\" +\n                R.format(\"width:{0}px;height:{1}px;\", [width, height]);\n\n            // Create the canvas element and set it to occupy full space. Retain a\n            // reference to its context.\n            canvas = $(\"canvas\");\n            canvas.style.cssText = \"position:absolute;left:0;top:0\";\n            canvas.setAttribute('width', paper.width);\n            canvas.setAttribute('height', paper.height);\n\n            paper.com = new CanvasObjectModel(canvas, wrapper, paper.width, paper.height);\n\n            wrapper.appendChild(canvas);\n\n            image = $(\"img\");\n\n            // Easter egg idea! :)\n            image.src = \"image1.png\";\n\n            image.style.cssText = \"opacity: 0;z-index: 100;background: transparent;position: absolute;left: 0;top: 0;width: \"+width+\"px;height: \"+height+\"px\";\n            wrapper.appendChild(image);\n\n            mmap = $(\"map\");\n\n            mmap.setAttribute(\"name\", \"mousemap\");\n            mmap.setAttribute(\"id\", \"mousemap\"); // Needed for FF.\n\n            wrapper.appendChild(mmap);\n\n            image.setAttribute(\"usemap\",\"#mousemap\");\n            wrapper._image = image;\n            wrapper._map = mmap;\n\n            return paper;\n        };\n\n        var getNode = R._engine.getNode = function (el) {\n            return el.node || el[0].node;\n        };\n\n        R._engine.getLastNode = function (el) {\n            return el.node || el[el.length - 1].node;\n        };\n\n        R._engine.rect = function(paper, x, y, w, h, r, group) {\n\n            var node = paper.com.createNode('rect', group && group.node),\n                el = new Element(node, paper, group),\n                attrs = el.attrs;\n\n            attrs.x = x;\n            attrs.y = y;\n            attrs.width = w;\n            attrs.height = h;\n            attrs.fill = \"#fff\";\n            attrs.stroke = \"#000\";\n            attrs['stroke-width'] = 1;\n            attrs.r = r || 0;\n            attrs.rx = r || 0;\n            attrs.ry = r || 0;\n\n            el.type = \"rect\";\n\n            node.render();\n            return el;\n        };\n\n        R._engine.circle = function(paper, x, y, r, group) {\n            var node = paper.com.createNode('circle', group && group.node),\n                el = new Element(node, paper, group),\n                attrs = el.attrs;\n\n            attrs.cx = x;\n            attrs.cy = y;\n            attrs.r = r;\n            attrs.fill = 'none';\n            attrs.stroke = '#000';\n            attrs['stroke-width'] = 1;\n\n            el.type = \"circle\";\n\n            node.render();\n            return el;\n        };\n\n        R._engine.ellipse = function(paper, x, y, rx, ry, group) {\n            var node = new FauxNode(),\n                el = new Element(node, paper, group);\n\n            el.type = \"ellipse\";\n            return el;\n        };\n\n        R._engine.image = function(paper, src, x, y, w, h, group) {\n            var node = new FauxNode(),\n                el = new Element(node, paper, group);\n\n            el.type = \"image\";\n            return el;\n        };\n\n        R._engine.text = function(paper, x, y, text, group) {\n            var node = paper.com.createNode('text', group && group.node),\n                el = new Element(node, paper, group),\n                attrs = el.attrs;\n\n            attrs.x = x;\n            attrs.y = y;\n            attrs.text = text;\n            attrs.fill = 'none';\n            attrs.stroke = '#000';\n            attrs.font = 'Verdana';\n            attrs['font-size'] = '12px';\n            attrs['vertical-align'] = 'middle';\n            attrs['text-anchor'] = 'middle'\n\n            el.type = \"text\";\n            node.render();\n            return el;\n        };\n\n        R._engine.path = function(pathString, paper, group) {\n            var node = paper.com.createNode('path', group && group.node),\n                el = new Element(node, paper, group),\n                attrs = el.attrs;\n\n            attrs.path = pathString;\n            attrs.fill = \"#fff\";\n            attrs.stroke = \"#000\";\n            attrs['stroke-width'] = 1;\n\n            el.type = \"path\";\n\n            node.render();\n\n            return el;\n        };\n\n        R._engine.group = function (paper, id, group) {\n\n            var node = paper.com.createNode('group', group && group.node),\n                el = new Element(node, paper, group),\n                wrapper = node.wrapper;\n\n            id && wrapper.setAttribute('class', ['red', id].join('-'));\n\n            el.canvas = wrapper;\n\n            //(group && group.canvas.appendChild(wrapper)) || paper.canvas.appendChild(wrapper);\n\n            el.type = \"group\";\n            return el;\n        };\n\n        elproto._getBBox = function() {\n            if (this.removed) {\n                return {};\n            }\n\n            return {\n                x: this.X + (this.bbx || 0) - this.W / 2,\n                y: this.Y + (this.bby || 0) - this.H / 2,\n                width: this.W,\n                height: this.H\n            };\n        };\n\n        /***** ELEMENT REORDERING / RESTRUCTING *****/\n\n        elproto.toFront = function() {\n            if (this.removed) {\n                return this;\n            }\n\n            var o = this,\n                thisNode = o.node,\n                parent = o.parent,\n                parentNode = thisNode.owner,\n                followers = o.followers,\n                follower,\n                i,\n                ii;\n\n            if (R._tofront(o, parent)) {\n                if (elproto.type === \"group\") {\n                    parent.canvas.appendChild(thisNode);\n                }\n                else {\n                    parentNode.nodeList.tofront(thisNode);\n                }\n            }\n\n            for (i = 0, ii = followers.length; i < ii; i++) {\n                (follower = followers[i]).stalk && follower.el[follower.stalk](o);\n            }\n\n            return o;\n        };\n\n        elproto.toBack = function() {\n            if (this.removed) {\n                return this;\n            }\n\n            var o = this,\n                thisNode = o.node,\n                parent = o.parent,\n                parentNode = thisNode.owner,\n                followers = o.followers,\n                follower,\n                i,\n                ii;\n\n            if (R._toback(o, parent)) {\n                if (elproto.type === \"group\") {\n                    parent.canvas.appendChild(thisNode);\n                }\n                else {\n                    parentNode.nodeList.toback(thisNode);\n                }\n            }\n\n            for (i = 0, ii = followers.length; i < ii; i++) {\n                (follower = followers[i]).stalk && follower.el[follower.stalk](o);\n            }\n\n\n            return o;\n        };\n\n        elproto.insertAfter = function(element) {\n            if (this.removed) {\n                return this;\n            }\n\n            var o = this,\n                thisNode = o.node,\n                thatNode = element.node,\n                parentNode = thatNode.owner,\n                followers = o.followers,\n                follower,\n                i,\n                ii;\n\n            if (thatNode.next) {\n                parentNode.nodeList.insertBefore(thisNode, thatNode.next);\n            }\n            else {\n                parentNode.appendChild(thisNode);\n            }\n\n            R._insertafter(o, element, o.parent, element.parent);\n\n            for (i = 0, ii = followers.length; i < ii; i++) {\n                (follower = followers[i]).stalk &&\n                    follower.el[follower.stalk](element);\n            }\n\n            return o;\n        };\n\n        elproto.insertBefore = function(element) {\n            if (this.removed) {\n                return this;\n            }\n\n            var o = this,\n                thisNode = o.node,\n                thatNode = element.node,\n                parentNode = thatNode.owner,\n                followers = o.followers,\n                follower,\n                i,\n                ii;\n\n            if (thatNode) {\n                parentNode.nodeList.insertBefore(thisNode, thatNode);\n            }\n            else {\n                parentNode.appendChild(thisNode);\n            }\n\n            R._insertafter(o, element, o.parent, element.parent);\n\n            for (i = 0, ii = followers.length; i < ii; i++) {\n                (follower = followers[i]).stalk &&\n                    follower.el[follower.stalk](element);\n            }\n\n            return o;\n        };\n\n        elproto.appendChild = function(element) {\n            return this;\n        };\n\n        elproto.removeChild = function(element) {\n            return this;\n        };\n\n        /***** ELEMENT REORDERING / RESTRUCTING *****/\n\n\n\n        elproto.attr = function(name, value) {\n            if (this.removed) {\n                return this;\n            }\n\n            var o = this,\n\n                attrs = o.attrs,\n                ca = o.ca,\n                names,\n                params,\n                par,\n\n                res,\n                key,\n                out,\n\n                subkey,\n                delkeys,\n\n                follower,\n                ii,\n                i;\n\n            // fetch a copy of all attributes\n            if (name == null) {\n                res = {};\n                for (key in attrs) if (attrs.hasOwnProperty(key)) {\n                    res[key] = attrs[key];\n                }\n                res.gradient && res.fill == \"none\" && (res.fill = res.gradient) && delete res.gradient;\n                res.transform = o._.transform;\n                /** @todo res.visibility = o.node.style.display === \"none\" ? \"hidden\" : \"visible\"; */\n                return res;\n            }\n\n            // fetch a single value\n            if (value == null && R.is(name, \"string\")) {\n                if (name == \"fill\" && attrs.fill == \"none\" && attrs.gradient) {\n                    return attrs.gradient;\n                }\n                if (name == \"transform\") {\n                    return o._.transform;\n                }\n                /** @todo if (name == \"visibility\") {\n                    return this.node.style.display === \"none\" ? \"hidden\" : \"visible\";\n                }*/\n\n                names = name.split(separator),\n                out = {};\n\n                for (i = 0, ii = names.length; i < ii; i++) {\n                    name = names[i];\n                    if (name in attrs) {\n                        out[name] = attrs[name];\n                    }\n                    else if (R.is(ca[name], \"function\")) {\n                        out[name] = ca[name].def;\n                    } else {\n                        out[name] = R._availableAttrs[name];\n                    }\n                }\n                return ii - 1 ? out : out[names[0]];\n            }\n\n            // fetch specific attributes\n            if (value == null && R.is(name, \"array\")) {\n                out = {};\n                for (i = 0, ii = name.length; i < ii; i++) {\n                    out[name[i]] = o.attr(name[i]);\n                }\n                return out;\n            }\n\n            // prepare setter params\n            if (value != null) {\n                params = {};\n                params[name] = value;\n            }\n            else if (name != null && R.is(name, \"object\")) {\n                params = name;\n            }\n\n            if (R.stopEvent !== false) {\n                for (key in params) {\n                    eve(\"raphael.attr.\" + key + \".\" + o.id, o, params[key], key);\n                }\n            }\n\n            delkeys = {};\n            for (key in ca) {\n\n                if (ca[key] && params.hasOwnProperty(key) &&\n                        R.is(ca[key], \"function\") && !ca['_invoked' + key]) {\n\n                    ca['_invoked'+key] = true; // prevent recursion\n                    par = ca[key].apply(o, [].concat(params[key]));\n                    delete ca['_invoked'+key];\n\n                    for (subkey in par) {\n                        if (par.hasOwnProperty(subkey)) {\n                            params[subkey] = par[subkey];\n                        }\n                    }\n                    attrs[key] = params[key];\n                    if (par === false) {\n                        delkeys[key] = params[key];\n                        delete params[key];\n                    }\n                }\n            }\n\n            setFillAndStroke(this, params);\n\n            for (i = 0, ii = o.followers.length; i < ii; i++) {\n                follower = o.followers[i];\n                (follower.cb && !follower.cb.call(follower.el, params, o)) ||\n                    follower.el.attr(params);\n            }\n\n            for (subkey in delkeys) {\n                params[subkey] = delkeys[subkey];\n            }\n            return this;\n        };\n\n\n\n\n        /**************** Drag *********************/\n        elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {\n\n            function start(e) {\n                (e.originalEvent || e).preventDefault();\n                var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n                scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft;\n                this._drag.x = e.clientX + scrollX;\n                this._drag.y = e.clientY + scrollY;\n                this._drag.id = e.identifier;\n                !drag.length && R.mousemove(dragMove).mouseup(dragUp);\n                drag.push({\n                    el: this,\n                    move_scope: move_scope,\n                    start_scope: start_scope,\n                    end_scope: end_scope,\n                    onmoveHandler: onmove,\n                    onstartHandler: onstart,\n                    onendHandler: onend\n                });\n                onstart && eve.on(\"raphael.drag.start.\" + this.id, onstart);\n                onmove && eve.on(\"raphael.drag.move.\" + this.id, onmove);\n                onend && eve.on(\"raphael.drag.end.\" + this.id, onend);\n                onstart && eve(\"raphael.drag.start.\" + this.id, start_scope || move_scope || this, e.clientX + scrollX, e.clientY + scrollY, e);\n            }\n            this._drag = {};\n            draggable.push({\n                el: this,\n                start: start\n            });\n            this.mousedown(start);\n            return this;\n        }\n\n        elproto.undrag = function() {\n            var i = draggable.length;\n            while (i--)\n                if (draggable[i].el == this) {\n                    this.unmousedown(draggable[i].start);\n                    draggable.splice(i, 1);\n                    eve.unbind(\"raphael.drag.*.\" + this.id);\n                }\n            !draggable.length && R.unmousemove(dragMove).unmouseup(dragUp);\n        };\n\n\n        /***************** Drag *****************/\n        /************ TRANSFORMATIONS *************/\n\n\n\n        elproto.rotate = function(deg, cx, cy) {\n\n            var o = this,\n                bbox;\n            if (o.removed) {\n                return o;\n            }\n            deg = Str(deg).split(separator);\n            if (deg.length - 1) {\n                cx = toFloat(deg[1]);\n                cy = toFloat(deg[2]);\n            }\n            deg = toFloat(deg[0]);\n            (cy == null) && (cx = cy);\n            if (cx == null || cy == null) {\n                bbox = o.getBBox(1);\n                cx = bbox.x + bbox.width / 2;\n                cy = bbox.y + bbox.height / 2;\n            }\n            o.transform(o._.transform.concat([[\"r\", deg, cx, cy]]));\n            return o;\n        };\n\n        elproto.scale = function(sx, sy, cx, cy) {\n            var o = this,\n                bbox;\n            if (o.removed) {\n                return o;\n            }\n            sx = Str(sx).split(separator);\n            if (sx.length - 1) {\n                sy = toFloat(sx[1]);\n                cx = toFloat(sx[2]);\n                cy = toFloat(sx[3]);\n            }\n            sx = toFloat(sx[0]);\n            (sy == null) && (sy = sx);\n            (cy == null) && (cx = cy);\n            if (cx == null || cy == null) {\n                bbox = o.getBBox(1);\n            }\n            cx = cx == null ? bbox.x + bbox.width / 2 : cx;\n            cy = cy == null ? bbox.y + bbox.height / 2 : cy;\n            o.transform(o._.transform.concat([[\"s\", sx, sy, cx, cy]]));\n\n            return o;\n        };\n\n        elproto.translate = function(dx, dy) {\n            var o = this;\n            if (o.removed) {\n                return o;\n            }\n            dx = Str(dx).split(separator);\n            if (dx.length - 1) {\n                dy = toFloat(dx[1]);\n            }\n            dx = toFloat(dx[0]) || 0;\n            dy = +dy || 0;\n            o.transform(o._.transform.concat([[\"t\", dx, dy]]));\n\n            return o;\n        };\n\n        elproto.transform = function(tstr) {\n\n            var o = this,\n                _ = o._,\n                sw;\n\n            if (tstr === null) {\n                return _.transform;\n            }\n\n            R._extractTransform(o, tstr);\n\n            /** @todo: what changes to be made here in the context of canvas */\n            /*o.clip && !_.clipispath && $(o.clip, {\n                transform: o.matrix.invert()\n            });\n            o.pattern && updatePosition(o); */\n            if (_.sx != 1 || _.sy != 1) {\n                sw = o.attrs[has](\"stroke-width\") ? o.attrs[\"stroke-width\"] : 1;\n                o.attr({\n                    \"stroke-width\": sw\n                });\n            }\n\n            o.node && o.node.redraw();\n\n            return o;\n        };\n\n        /************ TRANSFORMATIONS *************/\n\n\n        elproto.hide = function() {\n            return this;\n        };\n\n        elproto.show = function() {\n            return this;\n        };\n\n        elproto.blur = function(size) {\n            return this;\n        };\n\n        elproto.on = function(eventType, handler) {\n            var el = this,\n                listeners = el.listeners;\n\n            if (!listeners) {\n                listeners = el.listeners = {};\n            }\n\n            if (!listeners[eventType]) {\n                listeners[eventType] = [];\n            }\n\n            listeners[eventType].push(handler);\n        };\n\n        elproto.remove = function() {\n            return this;\n        };\n\n\n\n\n        paperproto.clear = function () {\n            eve(\"raphael.clear\", this);\n            return this;\n        };\n\n        paperproto.remove = function () {\n            if (this.removed) {\n                return;\n            }\n\n            var paper = this,\n                canvas = paper.canvas,\n                pn = canvas.parentNode,\n                i;\n\n            eve(\"raphael.remove\", paper);\n            pn.removeChild(canvas);\n\n            for (i in paper) {\n                paper[i] = typeof paper[i] == \"function\" ? R._removedFactory(i) : null;\n            }\n\n            this.removed = true;\n        };\n\n        R.toString = function () {\n            return \"Your browser supports canvas.\\nYou are running RedRaphael \" +\n                    R.version;\n        };\n\n        for (var method in elproto) {\n            if (elproto.hasOwnProperty(method) &&\n                !setproto.hasOwnProperty(method)) {\n            setproto[method] = (function (methodname) {\n                return function () {\n                    for (var i = 0, len = arguments.length, args = new Array(len); i < len; i++) {\n                        args[i] = arguments[i];\n                    }\n                    var arg = arguments;\n                    return this.forEach(function (el) {\n                        el[methodname].apply(el, arg);\n                    });\n                };\n            })(method);\n        }\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/raphael.canvas.js"],"sourceRoot":""}